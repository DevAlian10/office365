(self.webpackChunkoffice365=self.webpackChunkoffice365||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},8619:(e,t,n)=>{"use strict";n.d(t,{deG:()=>An,tb:()=>nf,AFp:()=>Yd,ip1:()=>Wd,CZH:()=>Qd,hGG:()=>Qf,z2F:()=>qf,sBO:()=>Sh,Sil:()=>pf,_Vd:()=>Wl,EJc:()=>of,SBq:()=>Xl,qLn:()=>vi,vpe:()=>Ed,gxx:()=>Io,tBr:()=>nr,XFs:()=>D,GSi:()=>Na,OlP:()=>Sn,zs3:()=>Uo,ZZ4:()=>vh,aQg:()=>bh,soG:()=>sf,LVF:()=>Gd,YKP:()=>Lh,v3s:()=>jf,h0i:()=>Dh,PXZ:()=>Lf,R0b:()=>yf,FiY:()=>rr,Lbi:()=>tf,g9A:()=>ef,Qsj:()=>nh,FYo:()=>th,JOm:()=>Ai,Tiy:()=>ih,q3G:()=>ri,tp0:()=>sr,EAV:()=>Hf,Rgc:()=>Oh,dDg:()=>Ef,DyG:()=>kn,q4F:()=>oh,GfV:()=>sh,s_b:()=>Zh,ifc:()=>q,eFA:()=>Mf,G48:()=>Pf,Gpc:()=>y,X6Q:()=>Rf,_c5:()=>Kf,VLi:()=>Cf,c2e:()=>rf,zSh:()=>So,wAp:()=>Rc,vHH:()=>b,EiD:()=>ti,mCW:()=>Zr,qzn:()=>Sr,JVY:()=>Cr,pB0:()=>Nr,eBb:()=>xr,L6k:()=>kr,LAX:()=>Or,cg1:()=>xc,Tjo:()=>Gf,kL8:()=>Oc,yhl:()=>Ar,dqk:()=>H,sIi:()=>Jo,CqO:()=>$a,QGY:()=>Ba,F4k:()=>Ha,zlt:()=>Wh,RDi:()=>Re,AaK:()=>p,z3N:()=>Er,qOj:()=>Vo,TTD:()=>Ee,_Bn:()=>$l,xp6:()=>Ts,uIk:()=>oa,ekj:()=>Eu,Suo:()=>Ud,Xpm:()=>ne,lG2:()=>le,Yz7:()=>S,cJS:()=>A,oAB:()=>ae,Yjl:()=>he,Y36:()=>Pa,_UZ:()=>Fa,qZA:()=>Ua,TgZ:()=>Za,EpF:()=>za,n5z:()=>gn,Ikx:()=>Ec,LFG:()=>Jn,$8M:()=>yn,NdJ:()=>Ga,CRH:()=>Fd,oxw:()=>Ja,Q6J:()=>La,DdM:()=>Xh,iGM:()=>Md,CHM:()=>Xe,LSH:()=>oi,kYT:()=>ue,YNc:()=>Sa,_uU:()=>qu,Oqu:()=>Vu});var r=n(8318),i=n(6163),s=n(7471),o=n(9342),a=n(3559),u=n(7570),c=n(2875),l=n(1564);function h(){return new a.xQ}function d(e){for(let t in e)if(e[t]===d)return t;throw Error("Could not find renamed property on target object.")}function f(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function p(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(p).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function g(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const m=d({__forward_ref__:d});function y(e){return e.__forward_ref__=y,e.toString=function(){return p(this())},e}function v(e){return w(e)?e():e}function w(e){return"function"==typeof e&&e.hasOwnProperty(m)&&e.__forward_ref__===y}class b extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function T(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function I(e,t){const n=t?` in ${t}`:"";throw new b("201",`No provider for ${T(e)} found${n}`)}function E(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function A(e){return{providers:e.providers||[],imports:e.imports||[]}}function C(e){return k(e,O)||k(e,R)}function k(e,t){return e.hasOwnProperty(t)?e[t]:null}function x(e){return e&&(e.hasOwnProperty(N)||e.hasOwnProperty(P))?e[N]:null}const O=d({"\u0275prov":d}),N=d({"\u0275inj":d}),R=d({ngInjectableDef:d}),P=d({ngInjectorDef:d});var D=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let L;function M(e){const t=L;return L=e,t}function Z(e,t,n){const r=C(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&D.Optional?null:void 0!==t?t:void I(p(e),"Injector")}function U(e){return{toString:e}.toString()}var F=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),q=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const V="undefined"!=typeof globalThis&&globalThis,j="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,H=V||B||j||z,$={},G=[],K=d({"\u0275cmp":d}),W=d({"\u0275dir":d}),Q=d({"\u0275pipe":d}),Y=d({"\u0275mod":d}),J=d({"\u0275loc":d}),X=d({"\u0275fac":d}),ee=d({__NG_ELEMENT_ID__:d});let te=0;function ne(e){return U(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||G,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||q.Emulated,id:"c",styles:e.styles||G,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=te++,n.inputs=ce(e.inputs,t),n.outputs=ce(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ie):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(se):null,n})}function re(e,t,n){const r=e.\u0275cmp;r.directiveDefs=()=>t.map(ie),r.pipeDefs=()=>n.map(se)}function ie(e){return de(e)||function(e){return e[W]||null}(e)}function se(e){return function(e){return e[Q]||null}(e)}const oe={};function ae(e){return U(()=>{const t={type:e.type,bootstrap:e.bootstrap||G,declarations:e.declarations||G,imports:e.imports||G,exports:e.exports||G,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(oe[e.id]=e.type),t})}function ue(e,t){return U(()=>{const n=fe(e,!0);n.declarations=t.declarations||G,n.imports=t.imports||G,n.exports=t.exports||G})}function ce(e,t){if(null==e)return $;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const le=ne;function he(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function de(e){return e[K]||null}function fe(e,t){const n=e[Y]||null;if(!n&&!0===t)throw new Error(`Type ${p(e)} does not have '\u0275mod' property.`);return n}const pe=20,ge=10;function me(e){return Array.isArray(e)&&"object"==typeof e[1]}function ye(e){return Array.isArray(e)&&!0===e[1]}function ve(e){return 0!=(8&e.flags)}function we(e){return 2==(2&e.flags)}function be(e){return 1==(1&e.flags)}function _e(e){return null!==e.template}function Te(e,t){return e.hasOwnProperty(X)?e[X]:null}class Ie{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ee(){return Se}function Se(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ce),Ae}function Ae(){const e=ke(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===$)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Ce(e,t,n,r){const i=ke(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:$,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ie(u&&u.currentValue,t,o===$),e[r]=t}function ke(e){return e.__ngSimpleChanges__||null}Ee.ngInherit=!0;const xe="http://www.w3.org/2000/svg",Oe="http://www.w3.org/1998/MathML/";let Ne;function Re(e){Ne=e}function Pe(){return void 0!==Ne?Ne:"undefined"!=typeof document?document:void 0}function De(e){return!!e.listen}const Le={createRenderer:(e,t)=>Pe()};function Me(e){for(;Array.isArray(e);)e=e[0];return e}function Ze(e,t){return Me(t[e])}function Ue(e,t){return Me(t[e.index])}function Fe(e,t){return e.data[t]}function qe(e,t){return e[t]}function Ve(e,t){const n=t[e];return me(n)?n:n[0]}function je(e){return 4==(4&e[2])}function ze(e){return 128==(128&e[2])}function Be(e,t){return null==t?null:e[t]}function He(e){e[18]=0}function $e(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ge={lFrame:It(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ke(){return Ge.bindingsEnabled}function We(){Ge.bindingsEnabled=!0}function Qe(){Ge.bindingsEnabled=!1}function Ye(){return Ge.lFrame.lView}function Je(){return Ge.lFrame.tView}function Xe(e){return Ge.lFrame.contextLView=e,e[8]}function et(){let e=tt();for(;null!==e&&64===e.type;)e=e.parent;return e}function tt(){return Ge.lFrame.currentTNode}function nt(){const e=Ge.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function rt(e,t){const n=Ge.lFrame;n.currentTNode=e,n.isParent=t}function it(){return Ge.lFrame.isParent}function st(){Ge.lFrame.isParent=!1}function ot(){return Ge.isInCheckNoChangesMode}function at(e){Ge.isInCheckNoChangesMode=e}function ut(){const e=Ge.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ct(){return Ge.lFrame.bindingIndex}function lt(e){return Ge.lFrame.bindingIndex=e}function ht(){return Ge.lFrame.bindingIndex++}function dt(e){const t=Ge.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ft(e){Ge.lFrame.inI18n=e}function pt(e,t){const n=Ge.lFrame;n.bindingIndex=n.bindingRootIndex=e,gt(t)}function gt(e){Ge.lFrame.currentDirectiveIndex=e}function mt(e){const t=Ge.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function yt(){return Ge.lFrame.currentQueryIndex}function vt(e){Ge.lFrame.currentQueryIndex=e}function wt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function bt(e,t,n){if(n&D.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&D.Host||(r=wt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=Ge.lFrame=Tt();return r.currentTNode=t,r.lView=e,!0}function _t(e){const t=Tt(),n=e[1];Ge.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Tt(){const e=Ge.lFrame,t=null===e?null:e.child;return null===t?It(e):t}function It(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Et(){const e=Ge.lFrame;return Ge.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const St=Et;function At(){const e=Et();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ct(){return Ge.lFrame.selectedIndex}function kt(e){Ge.lFrame.selectedIndex=e}function xt(){const e=Ge.lFrame;return Fe(e.tView,e.selectedIndex)}function Ot(){Ge.lFrame.currentNamespace=xe}function Nt(){Ge.lFrame.currentNamespace=Oe}function Rt(){Ge.lFrame.currentNamespace=null}function Pt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function Dt(e,t,n){Zt(e,t,3,n)}function Lt(e,t,n,r){(3&e[2])===n&&Zt(e,t,n,r)}function Mt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Zt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(Ut(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Ut(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const Ft=-1;class qt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Vt(e,t,n){const r=De(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?e.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];zt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function jt(e){return 3===e||4===e||6===e}function zt(e){return 64===e.charCodeAt(0)}function Bt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||Ht(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function Ht(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function $t(e){return e!==Ft}function Gt(e){return 32767&e}function Kt(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Wt=!0;function Qt(e){const t=Wt;return Wt=e,t}let Yt=0;function Jt(e,t){const n=en(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Xt(r.data,e),Xt(t,null),Xt(r.blueprint,null));const i=tn(e,t),s=e.injectorIndex;if($t(i)){const e=Gt(i),n=Kt(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Xt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function en(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function tn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Ft;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ft}function nn(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ee)&&(r=n[ee]),null==r&&(r=n[ee]=Yt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function rn(e,t,n){if(n&D.Optional)return e;I(t,"NodeInjector")}function sn(e,t,n,r){if(n&D.Optional&&void 0===r&&(r=null),0==(n&(D.Self|D.Host))){const i=e[9],s=M(void 0);try{return i?i.get(t,r,n&D.Optional):Z(t,r,n&D.Optional)}finally{M(s)}}return rn(r,t,n)}function on(e,t,n,r=D.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ee)?e[ee]:void 0;return"number"==typeof t?t>=0?255&t:un:t}(n);if("function"==typeof s){if(!bt(t,e,r))return r&D.Host?rn(i,n,r):sn(t,n,r,i);try{const e=s(r);if(null!=e||r&D.Optional)return e;I(n)}finally{St()}}else if("number"==typeof s){let i=null,o=en(e,t),a=Ft,u=r&D.Host?t[16][6]:null;for((-1===o||r&D.SkipSelf)&&(a=-1===o?tn(e,t):t[o+8],a!==Ft&&fn(r,!1)?(i=t[1],o=Gt(a),t=Kt(a,t)):o=-1);-1!==o;){const e=t[1];if(dn(s,o,e.data)){const e=cn(o,t,n,i,r,u);if(e!==an)return e}a=t[o+8],a!==Ft&&fn(r,t[1].data[o+8]===u)&&dn(s,o,t)?(i=e,o=Gt(a),t=Kt(a,t)):o=-1}}}return sn(t,n,r,i)}const an={};function un(){return new pn(et(),Ye())}function cn(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],u=ln(a,o,n,null==r?we(a)&&Wt:r!=o&&0!=(3&a.type),i&D.Host&&s===a);return null!==u?hn(t,o,u,a):an}function ln(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,u=e.directiveStart,c=s>>20,l=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<l;h++){const e=o[h];if(h<u&&n===e||h>=u&&e.type===n)return h}if(i){const e=o[u];if(e&&_e(e)&&e.type===n)return u}return null}function hn(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof qt){const o=i;o.resolving&&function(e,t){throw new b("200",`Circular dependency in DI detected for ${e}`)}(T(s[n]));const a=Qt(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?M(o.injectImpl):null;bt(e,r,D.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=Se(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==u&&M(u),Qt(a),o.resolving=!1,St()}}return i}function dn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function fn(e,t){return!(e&D.Self||e&D.Host&&t)}class pn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return on(this._tNode,this._lView,e,void 0,t)}}function gn(e){return U(()=>{const t=e.prototype.constructor,n=t[X]||mn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[X]||mn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function mn(e){return w(e)?()=>{const t=mn(v(e));return t&&t()}:Te(e)}function yn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(jt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(et(),e)}const vn="__annotations__",wn="__parameters__",bn="__prop__metadata__";function _n(e,t,n,r,i){return U(()=>{const s=Tn(t);function o(...e){if(this instanceof o)return s.call(this,...e),this;const t=new o(...e);return function(n){return i&&i(n,...e),(n.hasOwnProperty(vn)?n[vn]:Object.defineProperty(n,vn,{value:[]})[vn]).push(t),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Tn(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function In(e,t,n){return U(()=>{const r=Tn(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(wn)?e[wn]:Object.defineProperty(e,wn,{value:[]})[wn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const En=function(){return In("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>yn(e)}))}();class Sn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=S({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const An=new Sn("AnalyzeForEntryComponents");function Cn(){const e=H.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}const kn=Function;function xn(e){return"function"==typeof e}function On(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),On(r,t)):t!==e&&t.push(r)}return t}function Nn(e,t){e.forEach(e=>Array.isArray(e)?Nn(e,t):t(e))}function Rn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Pn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Dn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Ln(e,t,n){let r=Zn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Mn(e,t){const n=Zn(e,t);if(n>=0)return e[1|n]}function Zn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const Un=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Fn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,qn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Vn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class jn{constructor(e){this._reflect=e||H.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=Dn(void 0===e?t.length:e.length);for(let r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}_ownParameters(e,t){if(n=e.toString(),Un.test(n)||Vn.test(n)||Fn.test(n)&&!qn.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const e="function"==typeof r?r():r,t=e.map(e=>e&&e.type),n=e.map(e=>e&&zn(e.decorators));return this._zipTypesAndAnnotations(t,n)}const i=e.hasOwnProperty(wn)&&e[wn],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):Dn(e.length)}parameters(e){if(!xn(e))return[];const t=Bn(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?zn(e.decorators):e.hasOwnProperty(vn)?e[vn]:null}annotations(e){if(!xn(e))return[];const t=Bn(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=zn(t[e])}),n}return e.hasOwnProperty(bn)?e[bn]:null}propMetadata(e){if(!xn(e))return{};const t=Bn(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...r[e]),n[e]=t}),n}ownPropMetadata(e){return xn(e)&&this._ownPropMetadata(e,Bn(e))||{}}hasLifecycleHook(e,t){return e instanceof kn&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${p(e)}`}resourceUri(e){return`./${p(e)}`}resolveIdentifier(e,t,n,r){return r}resolveEnum(e,t){return e[t]}}function zn(e){return e?e.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function Bn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Hn={},$n=/\n/gm,Gn="__source",Kn=d({provide:String,useValue:d});let Wn;function Qn(e){const t=Wn;return Wn=e,t}function Yn(e,t=D.Default){if(void 0===Wn)throw new Error("inject() must be called from an injection context");return null===Wn?Z(e,void 0,t):Wn.get(e,t&D.Optional?null:void 0,t)}function Jn(e,t=D.Default){return(L||Yn)(v(e),t)}function Xn(e){throw new Error("invalid")}function er(e){const t=[];for(let n=0;n<e.length;n++){const r=v(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=D.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(Jn(e,n))}else t.push(Jn(r))}return t}function tr(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const nr=tr(In("Inject",e=>({token:e})),-1),rr=tr(In("Optional"),8),ir=tr(In("Self"),2),sr=tr(In("SkipSelf"),4),or=tr(In("Host"),1);let ar,ur,cr=null;function lr(e){return hr((cr=cr||new jn).parameters(e))}function hr(e){return e.map(e=>function(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const i=Object.getPrototypeOf(r);if(r instanceof rr||"Optional"===i.ngMetadataName)t.optional=!0;else if(r instanceof sr||"SkipSelf"===i.ngMetadataName)t.skipSelf=!0;else if(r instanceof ir||"Self"===i.ngMetadataName)t.self=!0;else if(r instanceof or||"Host"===i.ngMetadataName)t.host=!0;else if(r instanceof nr)t.token=r.token;else if(r instanceof En){if(void 0===r.attributeName)throw new Error("Attribute name must be defined.");t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(e))}function dr(){if(void 0===ar&&(ar=null,H.trustedTypes))try{ar=H.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return ar}function fr(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createHTML(e))||e}function pr(){if(void 0===ur&&(ur=null,H.trustedTypes))try{ur=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return ur}function gr(e){var t;return(null===(t=pr())||void 0===t?void 0:t.createHTML(e))||e}function mr(e){var t;return(null===(t=pr())||void 0===t?void 0:t.createScript(e))||e}function yr(e){var t;return(null===(t=pr())||void 0===t?void 0:t.createScriptURL(e))||e}class vr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wr extends vr{getTypeName(){return"HTML"}}class br extends vr{getTypeName(){return"Style"}}class _r extends vr{getTypeName(){return"Script"}}class Tr extends vr{getTypeName(){return"URL"}}class Ir extends vr{getTypeName(){return"ResourceURL"}}function Er(e){return e instanceof vr?e.changingThisBreaksApplicationSecurity:e}function Sr(e,t){const n=Ar(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Ar(e){return e instanceof vr&&e.getTypeName()||null}function Cr(e){return new wr(e)}function kr(e){return new br(e)}function xr(e){return new _r(e)}function Or(e){return new Tr(e)}function Nr(e){return new Ir(e)}function Rr(e){const t=new Dr(e);return function(){try{return!!(new window.DOMParser).parseFromString(fr(""),"text/html")}catch(e){return!1}}()?new Pr(t):t}class Pr{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(fr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Dr{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=fr(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=fr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Lr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Mr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Zr(e){return(e=String(e)).match(Lr)||e.match(Mr)?e:"unsafe:"+e}function Ur(e){return(e=String(e)).split(",").map(e=>Zr(e.trim())).join(", ")}function Fr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function qr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Vr=Fr("area,br,col,hr,img,wbr"),jr=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zr=Fr("rp,rt"),Br=qr(zr,jr),Hr=qr(Vr,qr(jr,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qr(zr,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Br),$r=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gr=Fr("srcset"),Kr=qr($r,Gr,Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wr=Fr("script,style,template");class Qr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Hr.hasOwnProperty(t))return this.sanitizedSomething=!0,!Wr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,i=t.toLowerCase();if(!Kr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=e.value;$r[i]&&(s=Zr(s)),Gr[i]&&(s=Ur(s)),this.buf.push(" ",t,'="',Xr(s),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Hr.hasOwnProperty(t)&&!Vr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Xr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jr=/([^\#-~ |!])/g;function Xr(e){return e.replace(/&/g,"&amp;").replace(Yr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Jr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ei;function ti(e,t){let n=null;try{ei=ei||Rr(e);let r=t?String(t):"";n=ei.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ei.getInertBodyElement(r)}while(r!==s);return fr((new Qr).sanitizeChildren(ni(n)||n))}finally{if(n){const e=ni(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function ni(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ri=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function ii(e){const t=di();return t?gr(t.sanitize(ri.HTML,e)||""):Sr(e,"HTML")?gr(Er(e)):ti(Pe(),_(e))}function si(e){const t=di();return t?t.sanitize(ri.STYLE,e)||"":Sr(e,"Style")?Er(e):_(e)}function oi(e){const t=di();return t?t.sanitize(ri.URL,e)||"":Sr(e,"URL")?Er(e):Zr(_(e))}function ai(e){const t=di();if(t)return yr(t.sanitize(ri.RESOURCE_URL,e)||"");if(Sr(e,"ResourceURL"))return yr(Er(e));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function ui(e){const t=di();if(t)return mr(t.sanitize(ri.SCRIPT,e)||"");if(Sr(e,"Script"))return mr(Er(e));throw new Error("unsafe value used in a script context")}function ci(e){return fr(e[0])}function li(e){return function(e){var t;return(null===(t=dr())||void 0===t?void 0:t.createScriptURL(e))||e}(e[0])}function hi(e,t,n){return function(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ai:oi}(t,n)(e)}function di(){const e=Ye();return e&&e[12]}function fi(e,t){e.__ngContext__=t}function pi(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function gi(e){return e.ngDebugContext}function mi(e){return e.ngOriginalError}function yi(e,...t){e.error(...t)}class vi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||yi}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?gi(e)?gi(e):this._findContext(mi(e)):null}_findOriginalError(e){let t=mi(e);for(;t&&mi(t);)t=mi(t);return t}}const wi=/^>|^->|<!--|-->|--!>|<!-$/g,bi=/(<|>)/,_i=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function Ti(e){return e.ownerDocument.defaultView}function Ii(e){return e.ownerDocument}function Ei(e){return e.ownerDocument.body}function Si(e){return e instanceof Function?e():e}var Ai=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Ci;function ki(e,t){return Ci(e,t)}function xi(e){const t=e[3];return ye(t)?t[3]:t}function Oi(e){return Ri(e[13])}function Ni(e){return Ri(e[4])}function Ri(e){for(;null!==e&&!ye(e);)e=e[4];return e}function Pi(e,t,n,r,i){if(null!=r){let s,o=!1;ye(r)?s=r:me(r)&&(o=!0,r=r[0]);const a=Me(r);0===e&&null!==n?null==i?Hi(t,n,a):Bi(t,n,a,i||null,!0):1===e&&null!==n?Bi(t,n,a,i||null,!0):2===e?rs(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Me(n)&&Pi(t,e,r,s,i);for(let o=ge;o<n.length;o++){const i=n[o];ss(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Di(e,t){return De(e)?e.createText(t):e.createTextNode(t)}function Li(e,t,n){De(e)?e.setValue(t,n):t.textContent=n}function Mi(e,t){return e.createComment(function(e){return e.replace(wi,e=>e.replace(bi,"\u200b$1\u200b"))}(t))}function Zi(e,t,n){return De(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ui(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,$e(i,-1)),n.splice(r,1)}function Fi(e,t){if(e.length<=ge)return;const n=ge+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Ui(s,r),t>0&&(e[n-1][4]=r[4]);const o=Pn(e,ge+t);ss(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function qi(e,t){if(!(256&t[2])){const n=t[11];De(n)&&n.destroyNode&&ss(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Vi(e[1],e);for(;t;){let n=null;if(me(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)me(t)&&Vi(t[1],t),t=t[3];null===t&&(t=e),me(t)&&Vi(t[1],t),n=t&&t[4]}t=n}}(t)}}function Vi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof qt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Me(t[e]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&De(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&ye(t[3])){n!==t[3]&&Ui(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function ji(e,t,n){return zi(e,t.parent,n)}function zi(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===q.None||t===q.Emulated)return null}return Ue(r,n)}function Bi(e,t,n,r,i){De(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Hi(e,t,n){De(e)?e.appendChild(t,n):t.appendChild(n)}function $i(e,t,n,r,i){null!==r?Bi(e,t,n,r,i):Hi(e,t,n)}function Gi(e,t){return De(e)?e.parentNode(t):t.parentNode}function Ki(e,t,n){return Yi(e,t,n)}function Wi(e,t,n){return 40&e.type?Ue(e,n):null}let Qi,Yi=Wi;function Ji(e,t){Yi=e,Qi=t}function Xi(e,t,n,r){const i=ji(e,r,t),s=t[11],o=Ki(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)$i(s,i,n[a],o,!1);else $i(s,i,n,o,!1);void 0!==Qi&&Qi(s,r,t,n,i)}function es(e,t){if(null!==t){const n=t.type;if(3&n)return Ue(t,e);if(4&n)return ns(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return es(e,n);{const n=e[t.index];return ye(n)?ns(-1,n):Me(n)}}if(32&n)return ki(t,e)()||Me(e[t.index]);{const n=ts(e,t);return null!==n?Array.isArray(n)?n[0]:es(xi(e[16]),n):es(e,t.next)}}return null}function ts(e,t){return null!==t?e[16][6].projection[t.projection]:null}function ns(e,t){const n=ge+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return es(e,r)}return t[7]}function rs(e,t,n){const r=Gi(e,t);r&&function(e,t,n,r){De(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}function is(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===t&&(a&&fi(Me(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)is(e,t,n.child,r,i,s,!1),Pi(t,e,i,a,s);else if(32&u){const o=ki(n,r);let u;for(;u=o();)Pi(t,e,i,u,s);Pi(t,e,i,a,s)}else 16&u?os(e,t,r,n,i,s):Pi(t,e,i,a,s);n=o?n.projectionNext:n.next}}function ss(e,t,n,r,i,s){is(n,r,e.firstChild,t,i,s,!1)}function os(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Pi(t,e,i,a[u],s);else is(e,t,a,o[3],i,s,!0)}function as(e,t,n){De(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function us(e,t,n){De(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function cs(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const ls="ng-template";function hs(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==cs(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ds(e){return 4===e.type&&e.value!==ls}function fs(e,t,n){return t===(4!==e.type||n?e.value:ls)}function ps(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(jt(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!fs(e,u,n)||""===u&&1===t.length){if(gs(r))return!1;o=!0}}else{const c=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!hs(e.attrs,c,n)){if(gs(r))return!1;o=!0}continue}const l=ms(8&r?"class":u,i,ds(e),n);if(-1===l){if(gs(r))return!1;o=!0;continue}if(""!==c){let e;e=l>s?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==cs(t,c,0)||2&r&&c!==e){if(gs(r))return!1;o=!0}}}}else{if(!o&&!gs(r)&&!gs(u))return!1;if(o&&gs(u))continue;o=!1,r=u|1&r}}return gs(r)||o}function gs(e){return 0==(1&e)}function ms(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ys(e,t,n=!1){for(let r=0;r<t.length;r++)if(ps(e,t[r],n))return!0;return!1}function vs(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function ws(e,t){return e?":not("+t.trim()+")":t}function bs(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||gs(o)||(t+=ws(s,i),i=""),r=o,s=s||!gs(r);n++}return""!==i&&(t+=ws(s,i)),t}const _s={};function Ts(e){Is(Je(),Ye(),Ct()+e,ot())}function Is(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&Dt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Lt(t,r,0,n)}kt(n)}function Es(e,t){return e<<17|t<<2}function Ss(e){return e>>17&32767}function As(e){return 2|e}function Cs(e){return(131068&e)>>2}function ks(e,t){return-131069&e|t<<2}function xs(e){return 1|e}function Os(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];vt(i),n.contentQueries(2,t[s],s)}}}function Ns(e,t,n,r,i,s,o,a,u,c){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,He(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=a||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=s,l[16]=2==t.type?e[16]:l,l}function Rs(e,t,n,r,i){let s=e.data[t];if(null===s)s=Ps(e,t,n,r,i),Ge.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=nt();s.injectorIndex=null===e?-1:e.injectorIndex}return rt(s,!0),s}function Ps(e,t,n,r,i){const s=tt(),o=it(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function Ds(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ls(e,t,n){_t(t);try{const r=e.viewQuery;null!==r&&po(1,r,n);const i=e.template;null!==i&&Us(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Os(e,t),e.staticViewQueries&&po(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)uo(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,At()}}function Ms(e,t,n,r){const i=t[2];if(256==(256&i))return;_t(t);const s=ot();try{He(t),lt(e.bindingStartIndex),null!==n&&Us(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&Dt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Lt(t,n,0,null),Mt(t,0)}if(function(e){for(let t=Oi(e);null!==t;t=Ni(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&$e(r,1),n[2]|=1024}}}(t),function(e){for(let t=Oi(e);null!==t;t=Ni(t))for(let e=ge;e<t.length;e++){const n=t[e],r=n[1];ze(n)&&Ms(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Os(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&Dt(t,n)}else{const n=e.contentHooks;null!==n&&Lt(t,n,1),Mt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)kt(~r);else{const i=r,s=n[++e],o=n[++e];pt(s,i),o(2,t[i])}}}finally{kt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)oo(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&po(2,u,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&Dt(t,n)}else{const n=e.viewHooks;null!==n&&Lt(t,n,2),Mt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,$e(t[3],-1))}finally{At()}}function Zs(e,t,n,r){const i=t[10],s=!ot(),o=je(t);try{s&&!o&&i.begin&&i.begin(),o&&Ls(e,t,r),Ms(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Us(e,t,n,r,i){const s=Ct(),o=2&r;try{kt(-1),o&&t.length>pe&&Is(e,t,pe,ot()),n(r,i)}finally{kt(s)}}function Fs(e,t,n){if(ve(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function qs(e,t,n){Ke()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Jt(n,t),fi(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=_e(r);s&&eo(t,n,r);const u=hn(t,e,a,n);fi(u,t),null!==o&&ro(0,a-i,u,r,0,o),s&&(Ve(n.index,t)[8]=u)}}(e,t,n,Ue(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ge.lFrame.currentDirectiveIndex;try{kt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];gt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ws(r,i)}}finally{kt(-1),gt(o)}}(e,t,n))}function Vs(e,t,n=Ue){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function js(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=zs(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function zs(e,t,n,r,i,s,o,a,u,c){const l=pe+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:_s);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Bs(e,t,n,r){const i=mo(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&yo(e).push(r,i.length-1))}function Hs(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function $s(e,t,n,r,i,s,o,a){const u=Ue(t,n);let c,l=t.inputs;var h;!a&&null!=l&&(c=l[r])?(bo(e,n,c,r,i),we(t)&&function(e,t){const n=Ve(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,De(s)?s.setProperty(u,r,i):zt(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Gs(e,t,n,r){let i=!1;if(Ke()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ys(n,o.selectors,!1)&&(i||(i=[]),nn(Jt(n,t),e,o.type),_e(o)?(Qs(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Js(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,u=Ds(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Bt(n.mergedAttrs,c.hostAttrs),Xs(e,n,t,u,c),Ys(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let u=t.directiveStart;u<n;u++){const e=r[u],n=e.inputs,c=null===i||ds(t)?null:io(n,i);s.push(c),o=Hs(n,u,o),a=Hs(e.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new b("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=Bt(n.mergedAttrs,n.attrs),i}function Ks(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ws(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Qs(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ys(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;_e(t)&&(n[""]=e)}}function Js(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Xs(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=Te(i.type)),o=new qt(s,_e(i),null);e.blueprint[r]=o,n[r]=o,Ks(e,t,0,r,Ds(e,n,i.hostVars,_s),i)}function eo(e,t,n){const r=Ue(t,e),i=js(n),s=e[10],o=co(e,Ns(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function to(e,t,n,r,i,s){const o=Ue(e,t);no(t[11],o,s,e.value,n,r,i)}function no(e,t,n,r,i,s,o){if(null==s)De(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?_(s):o(s,r||"",i);De(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}function ro(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function io(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function so(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function oo(e,t){const n=Ve(t,e);if(ze(n)){const e=n[1];80&n[2]?Ms(e,n,e.template,n[8]):n[5]>0&&ao(n)}}function ao(e){for(let n=Oi(e);null!==n;n=Ni(n))for(let e=ge;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];Ms(e,t,e.template,t[8])}else t[5]>0&&ao(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Ve(t[n],e);ze(r)&&r[5]>0&&ao(r)}}function uo(e,t){const n=Ve(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Ls(r,n,n[8])}function co(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function lo(e){for(;e;){e[2]|=64;const t=xi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function ho(e,t,n){const r=t[10];r.begin&&r.begin();try{Ms(e,t,e.template,n)}catch(i){throw wo(t,i),i}finally{r.end&&r.end()}}function fo(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=pi(n),i=r[1];Zs(i,r,i.template,n)}}(e[8])}function po(e,t,n){vt(0),t(e,n)}const go=(()=>Promise.resolve(null))();function mo(e){return e[7]||(e[7]=[])}function yo(e){return e.cleanup||(e.cleanup=[])}function vo(e,t,n){return(null===e||_e(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function wo(e,t){const n=e[9],r=n?n.get(vi,null):null;r&&r.handleError(t)}function bo(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=t[o],c=e.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function _o(e,t,n){const r=Ze(t,e);Li(e[11],r,n)}function To(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=g(i,e):2==s&&(r=g(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const Io=new Sn("INJECTOR",-1);class Eo{get(e,t=Hn){if(t===Hn){const t=new Error(`NullInjectorError: No provider for ${p(e)}!`);throw t.name="NullInjectorError",t}return t}}const So=new Sn("Set Injector scope."),Ao={},Co={};let ko;function xo(){return void 0===ko&&(ko=new Eo),ko}function Oo(e,t=null,n=null,r){return new No(e,n,t||xo(),r)}class No{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&Nn(t,n=>this.processProvider(n,e,t)),Nn([e],e=>this.processInjectorType(e,[],i)),this.records.set(Io,Do(void 0,this));const s=this.records.get(So);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:p(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Hn,n=D.Default){this.assertNotDestroyed();const r=Qn(this);try{if(!(n&D.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Sn)&&C(e);t=n&&this.injectableDefInScope(n)?Do(Ro(e),Ao):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&D.Self?xo():this.parent).get(e,t=n&D.Optional&&t===Hn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(p(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[Gn]&&i.unshift(t[Gn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=p(t);if(Array.isArray(t))i=t.map(p).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):p(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace($n,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{Qn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(p(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=v(e)))return!1;let r=x(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{Nn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];Nn(r,e=>this.processProvider(e,n,r||G))}}this.injectorDefTypes.add(s);const a=Te(s)||(()=>new s);this.records.set(s,Do(a,Ao));const u=r.providers;if(null!=u&&!o){const t=e;Nn(u,e=>this.processProvider(e,t,u))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=Mo(e=v(e))?e:v(e&&e.provide);const i=function(e,t,n){return Lo(e)?Do(void 0,e.useValue):Do(Po(e),Ao)}(e);if(Mo(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=Do(void 0,Ao,!0),t.factory=()=>er(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===Ao&&(t.value=Co,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=v(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ro(e){const t=C(e),n=null!==t?t.factory:Te(e);if(null!==n)return n;if(e instanceof Sn)throw new Error(`Token ${p(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Dn(t,"?");throw new Error(`Can't resolve all parameters for ${p(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[O]||e[R]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Po(e,t,n){let r;if(Mo(e)){const t=v(e);return Te(t)||Ro(t)}if(Lo(e))r=()=>v(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...er(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Jn(v(e.useExisting));else{const t=v(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return Te(t)||Ro(t);r=()=>new t(...er(e.deps))}var i;return r}function Do(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Lo(e){return null!==e&&"object"==typeof e&&Kn in e}function Mo(e){return"function"==typeof e}const Zo=function(e,t,n){return function(e,t=null,n=null,r){const i=Oo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};let Uo=(()=>{class e{static create(e,t){return Array.isArray(e)?Zo(e,t,""):Zo(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Hn,e.NULL=new Eo,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>Jn(Io)}),e.__NG_ELEMENT_ID__=-1,e})();function Fo(e,t){Pt(pi(e)[1],et())}function qo(e){return Object.getPrototypeOf(e.prototype).constructor}function Vo(e){let t=qo(e.type),n=!0;const r=[e];for(;t;){let i;if(_e(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=jo(e.inputs),t.declaredInputs=jo(e.declaredInputs),t.outputs=jo(e.outputs);const n=i.hostBindings;n&&Ho(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&zo(e,s),o&&Bo(e,o),f(e.inputs,i.inputs),f(e.declaredInputs,i.declaredInputs),f(e.outputs,i.outputs),_e(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===Vo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Bt(i.hostAttrs,n=Bt(n,i.hostAttrs))}}(r)}function jo(e){return e===$?{}:e===G?[]:e}function zo(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Bo(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Ho(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}const $o=["providersResolver"],Go=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Ko(e){let t,n=qo(e.type);t=_e(e)?n.\u0275cmp:n.\u0275dir;const r=e;for(const i of $o)r[i]=t[i];if(_e(t))for(const i of Go)r[i]=t[i]}let Wo=null;function Qo(){if(!Wo){const e=H.Symbol;if(e&&e.iterator)Wo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Wo=n)}}}return Wo}class Yo{constructor(e){this.wrapped=e}static wrap(e){return new Yo(e)}static unwrap(e){return Yo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Yo}}function Jo(e){return!!Xo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Qo()in e)}function Xo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ea(e,t,n){return e[t]=n}function ta(e,t){return e[t]}function na(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ra(e,t,n,r){const i=na(e,t,n);return na(e,t+1,r)||i}function ia(e,t,n,r,i){const s=ra(e,t,n,r);return na(e,t+2,i)||s}function sa(e,t,n,r,i,s){const o=ra(e,t,n,r);return ra(e,t+2,i,s)||o}function oa(e,t,n,r){const i=Ye();return na(i,ht(),t)&&(Je(),to(xt(),i,e,t,n,r)),oa}function aa(e,t){let n=!1,r=ct();for(let s=1;s<t.length;s+=2)n=na(e,r++,t[s])||n;if(lt(r),!n)return _s;let i=t[0];for(let s=1;s<t.length;s+=2)i+=_(t[s])+t[s+1];return i}function ua(e,t,n,r){return na(e,ht(),n)?t+_(n)+r:_s}function ca(e,t,n,r,i,s){const o=ra(e,ct(),n,i);return dt(2),o?t+_(n)+r+_(i)+s:_s}function la(e,t,n,r,i,s,o,a){const u=ia(e,ct(),n,i,o);return dt(3),u?t+_(n)+r+_(i)+s+_(o)+a:_s}function ha(e,t,n,r,i,s,o,a,u,c){const l=sa(e,ct(),n,i,o,u);return dt(4),l?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c:_s}function da(e,t,n,r,i,s,o,a,u,c,l,h){const d=ct();let f=sa(e,d,n,i,o,u);return f=na(e,d+4,l)||f,dt(5),f?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c+_(l)+h:_s}function fa(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=ct();let g=sa(e,p,n,i,o,u);return g=ra(e,p+4,l,d)||g,dt(6),g?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c+_(l)+h+_(d)+f:_s}function pa(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=ct();let y=sa(e,m,n,i,o,u);return y=ia(e,m+4,l,d,p)||y,dt(7),y?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c+_(l)+h+_(d)+f+_(p)+g:_s}function ga(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y){const v=ct();let w=sa(e,v,n,i,o,u);return w=sa(e,v+4,l,d,p,m)||w,dt(8),w?t+_(n)+r+_(i)+s+_(o)+a+_(u)+c+_(l)+h+_(d)+f+_(p)+g+_(m)+y:_s}function ma(e,t,n,r,i,s){const o=Ye(),a=ua(o,t,n,r);return a!==_s&&to(xt(),o,e,a,i,s),ma}function ya(e,t,n,r,i,s,o,a){const u=Ye(),c=ca(u,t,n,r,i,s);return c!==_s&&to(xt(),u,e,c,o,a),ya}function va(e,t,n,r,i,s,o,a,u,c){const l=Ye(),h=la(l,t,n,r,i,s,o,a);return h!==_s&&to(xt(),l,e,h,u,c),va}function wa(e,t,n,r,i,s,o,a,u,c,l,h){const d=Ye(),f=ha(d,t,n,r,i,s,o,a,u,c);return f!==_s&&to(xt(),d,e,f,l,h),wa}function ba(e,t,n,r,i,s,o,a,u,c,l,h,d,f){const p=Ye(),g=da(p,t,n,r,i,s,o,a,u,c,l,h);return g!==_s&&to(xt(),p,e,g,d,f),ba}function _a(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g){const m=Ye(),y=fa(m,t,n,r,i,s,o,a,u,c,l,h,d,f);return y!==_s&&to(xt(),m,e,y,p,g),_a}function Ta(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y){const v=Ye(),w=pa(v,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return w!==_s&&to(xt(),v,e,w,m,y),Ta}function Ia(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v,w){const b=Ye(),_=ga(b,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return _!==_s&&to(xt(),b,e,_,v,w),Ia}function Ea(e,t,n,r){const i=Ye(),s=aa(i,t);return s!==_s&&to(xt(),i,e,s,n,r),Ea}function Sa(e,t,n,r,i,s,o,a){const u=Ye(),c=Je(),l=e+pe,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,u){const c=t.consts,l=Rs(t,e,4,o||null,Be(c,a));Gs(t,n,l,Be(c,u)),Pt(t,l);const h=l.tViews=zs(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,s,o):c.data[l];rt(h,!1);const d=u[11].createComment("");Xi(c,u,d,h),fi(d,u),co(u,u[l]=so(d,u,d,h)),be(h)&&qs(c,u,h),null!=o&&Vs(u,h,a)}function Aa(e){return qe(Ge.lFrame.contextLView,pe+e)}const Ca={"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":A,"\u0275\u0275inject":Jn,"\u0275\u0275invalidFactoryDep":Xn,resolveForwardRef:v},ka=d({provide:String,useValue:d});function xa(e){return void 0!==e.useClass}function Oa(e){return void 0!==e.useFactory}const Na=_n("Injectable",void 0,void 0,void 0,(e,t)=>Ra(e,t)),Ra=function(e,t){let n=null,r=null;e.hasOwnProperty(O)||Object.defineProperty(e,O,{get:()=>(null===n&&(n=Cn().compileInjectable(Ca,`ng:///${e.name}/\u0275prov.js`,function(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(xa(n)||Oa(n))&&void 0!==n.deps&&(r.deps=hr(n.deps)),xa(n)?r.useClass=n.useClass:function(e){return ka in e}(n)?r.useValue=n.useValue:Oa(n)?r.useFactory=n.useFactory:function(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(X)||Object.defineProperty(e,X,{get:()=>{if(null===r){const t=Cn();r=t.compileFactory(Ca,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:lr(e),target:t.FactoryTarget.Injectable})}return r},configurable:!0})};function Pa(e,t=D.Default){const n=Ye();return null===n?Jn(e,t):on(et(),n,v(e),t)}function Da(){throw new Error("invalid")}function La(e,t,n){const r=Ye();return na(r,ht(),t)&&$s(Je(),xt(),r,e,t,r[11],n,!1),La}function Ma(e,t,n,r,i){const s=i?"class":"style";bo(e,n,t.inputs[s],s,r)}function Za(e,t,n,r){const i=Ye(),s=Je(),o=pe+e,a=i[11],u=i[o]=Zi(a,t,Ge.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,u=Rs(t,e,2,i,Be(a,s));return Gs(t,n,u,Be(a,o)),null!==u.attrs&&To(u,u.attrs,!1),null!==u.mergedAttrs&&To(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,s,i,0,t,n,r):s.data[o];rt(c,!0);const l=c.mergedAttrs;null!==l&&Vt(a,u,l);const h=c.classes;null!==h&&us(a,u,h);const d=c.styles;null!==d&&as(a,u,d),64!=(64&c.flags)&&Xi(s,i,u,c),0===Ge.lFrame.elementDepthCount&&fi(u,i),Ge.lFrame.elementDepthCount++,be(c)&&(qs(s,i,c),Fs(s,c,i)),null!==r&&Vs(i,c)}function Ua(){let e=et();it()?st():(e=e.parent,rt(e,!1));const t=e;Ge.lFrame.elementDepthCount--;const n=Je();n.firstCreatePass&&(Pt(n,e),ve(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ma(n,t,Ye(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ma(n,t,Ye(),t.stylesWithoutHost,!1)}function Fa(e,t,n,r){Za(e,t,n,r),Ua()}function qa(e,t,n){const r=Ye(),i=Je(),s=e+pe,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Be(s,r),a=Rs(t,e,8,"ng-container",o);return null!==o&&To(a,o,!0),Gs(t,n,a,Be(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];rt(o,!0);const a=r[s]=r[11].createComment("");Xi(i,r,a,o),fi(a,r),be(o)&&(qs(i,r,o),Fs(i,o,r)),null!=n&&Vs(r,o)}function Va(){let e=et();const t=Je();it()?st():(e=e.parent,rt(e,!1)),t.firstCreatePass&&(Pt(t,e),ve(e)&&t.queries.elementEnd(e))}function ja(e,t,n){qa(e,t,n),Va()}function za(){return Ye()}function Ba(e){return!!e&&"function"==typeof e.then}function Ha(e){return!!e&&"function"==typeof e.subscribe}const $a=Ha;function Ga(e,t,n,r){const i=Ye(),s=Je(),o=et();return Wa(s,i,i[11],o,e,t,!!n,r),Ga}function Ka(e,t){const n=et(),r=Ye(),i=Je();return Wa(i,r,vo(mt(i.data),n,r),n,e,t,!1),Ka}function Wa(e,t,n,r,i,s,o,a){const u=be(r),c=e.firstCreatePass&&yo(e),l=mo(t);let h=!0;if(3&r.type||a){const d=Ue(r,t),f=a?a(d):d,p=l.length,g=a?e=>a(Me(e[r.index])):r.index;if(De(n)){let o=null;if(!a&&u&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ya(r,t,0,s,!1);const e=n.listen(f,i,s);l.push(s,e),c&&c.push(i,g,p,p+1)}}else s=Ya(r,t,0,s,!0),f.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,p,o)}else s=Ya(r,t,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}function Qa(e,t,n,r){try{return!1!==n(r)}catch(i){return wo(e,i),!1}}function Ya(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Ve(e.index,t):t;0==(32&t[2])&&lo(o);let a=Qa(t,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Qa(t,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ja(e=1){return function(e){return(Ge.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ge.lFrame.contextLView))[8]}(e)}function Xa(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?ys(e,s,!0):vs(r,s))return i}else n=i}return n}function eu(e){const t=Ye()[16][6];if(!t.projection){const n=t.projection=Dn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Xa(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function tu(e,t=0,n){const r=Ye(),i=Je(),s=Rs(i,pe+e,16,null,n||null);null===s.projection&&(s.projection=t),st(),64!=(64&s.flags)&&function(e,t,n){os(t[11],0,t,n,ji(e,n,t),Ki(n.parent||t[6],n,t))}(i,r,s)}function nu(e,t,n){return ru(e,"",t,"",n),nu}function ru(e,t,n,r,i){const s=Ye(),o=ua(s,t,n,r);return o!==_s&&$s(Je(),xt(),s,e,o,s[11],i,!1),ru}function iu(e,t,n,r,i,s,o){const a=Ye(),u=ca(a,t,n,r,i,s);return u!==_s&&$s(Je(),xt(),a,e,u,a[11],o,!1),iu}function su(e,t,n,r,i,s,o,a,u){const c=Ye(),l=la(c,t,n,r,i,s,o,a);return l!==_s&&$s(Je(),xt(),c,e,l,c[11],u,!1),su}function ou(e,t,n,r,i,s,o,a,u,c,l){const h=Ye(),d=ha(h,t,n,r,i,s,o,a,u,c);return d!==_s&&$s(Je(),xt(),h,e,d,h[11],l,!1),ou}function au(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=Ye(),p=da(f,t,n,r,i,s,o,a,u,c,l,h);return p!==_s&&$s(Je(),xt(),f,e,p,f[11],d,!1),au}function uu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=Ye(),m=fa(g,t,n,r,i,s,o,a,u,c,l,h,d,f);return m!==_s&&$s(Je(),xt(),g,e,m,g[11],p,!1),uu}function cu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=Ye(),v=pa(y,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g);return v!==_s&&$s(Je(),xt(),y,e,v,y[11],m,!1),cu}function lu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){const w=Ye(),b=ga(w,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y);return b!==_s&&$s(Je(),xt(),w,e,b,w[11],v,!1),lu}function hu(e,t,n){const r=Ye(),i=aa(r,t);return i!==_s&&$s(Je(),xt(),r,e,i,r[11],n,!1),hu}function du(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?Ss(s):Cs(s),u=!1;for(;0!==a&&(!1===u||o);){const n=e[a+1];fu(e[a],t)&&(u=!0,e[a+1]=r?xs(n):As(n)),a=r?Ss(n):Cs(n)}u&&(e[n+1]=r?As(s):xs(s))}function fu(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Zn(e,t)>=0}const pu={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gu(e){return e.substring(pu.key,pu.keyEnd)}function mu(e){return e.substring(pu.value,pu.valueEnd)}function yu(e,t){const n=pu.textEnd;return n===t?-1:(t=pu.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,pu.key=t,n),bu(e,t,n))}function vu(e,t){const n=pu.textEnd;let r=pu.key=bu(e,t,n);return n===r?-1:(r=pu.keyEnd=function(e,t,n){let r;for(;t<n&&(45===(r=e.charCodeAt(t))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)t++;return t}(e,r,n),r=_u(e,r,n),r=pu.value=bu(e,r,n),r=pu.valueEnd=function(e,t,n){let r=-1,i=-1,s=-1,o=t,a=o;for(;o<n;){const u=e.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=Tu(e,u,o,n):t===o-4&&85===s&&82===i&&76===r&&40===u?a=o=Tu(e,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(e,r,n),_u(e,r,n))}function wu(e){pu.key=0,pu.keyEnd=0,pu.value=0,pu.valueEnd=0,pu.textEnd=e.length}function bu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function _u(e,t,n,r){return(t=bu(e,t,n))<n&&t++,t}function Tu(e,t,n,r){let i=-1,s=n;for(;s<r;){const n=e.charCodeAt(s++);if(n==t&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function Iu(e,t,n){return xu(e,t,n,!1),Iu}function Eu(e,t){return xu(e,t,null,!0),Eu}function Su(e){Ou(Lu,Au,e,!1)}function Au(e,t){for(let n=function(e){return wu(e),vu(e,bu(e,0,pu.textEnd))}(t);n>=0;n=vu(t,n))Lu(e,gu(t),mu(t))}function Cu(e){Ou(Ln,ku,e,!0)}function ku(e,t){for(let n=function(e){return wu(e),yu(e,bu(e,0,pu.textEnd))}(t);n>=0;n=yu(t,n))Ln(e,gu(t),!0)}function xu(e,t,n,r){const i=Ye(),s=Je(),o=dt(2);s.firstUpdatePass&&Ru(s,e,o,r),t!==_s&&na(i,o,t)&&Mu(s,s.data[Ct()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=p(Er(e)))),e}(t,n),r,o)}function Ou(e,t,n,r){const i=Je(),s=dt(2);i.firstUpdatePass&&Ru(i,null,s,r);const o=Ye();if(n!==_s&&na(o,s,n)){const a=i.data[Ct()];if(Fu(a,r)&&!Nu(i,s)){let e=r?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(n=g(e,n||"")),Ma(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===_s&&(i=G);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&Mu(e,t,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return G;const r=[],i=Er(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,s)}}function Nu(e,t){return t>=e.expandoStartIndex}function Ru(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[Ct()],o=Nu(e,n);Fu(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=mt(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Du(n=Pu(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=Pu(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Cs(r))return e[Ss(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=Pu(null,e,t,n[1],r),n=Du(n,t.attrs,r),function(e,t,n,r){e[Ss(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Du(r,e[s].hostAttrs,n);return Du(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=Ss(o),u=Cs(o);e[r]=n;let c,l=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||Zn(e,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const t=Ss(e[a+1]);e[r+1]=Es(t,a),0!==t&&(e[t+1]=ks(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=Es(a,0),0!==a&&(e[a+1]=ks(e[a+1],r)),a=r;else e[r+1]=Es(u,0),0===a?a=r:e[u+1]=ks(e[u+1],r),u=r;l&&(e[r+1]=As(e[r+1])),du(e,c,r,!0),du(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Zn(s,t)>=0&&(n[r+1]=xs(n[r+1]))}(t,c,e,r,s),o=Es(a,u),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function Pu(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Du(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Du(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ln(e,o,!!n||t[++s]))}return void 0===e?null:e}function Lu(e,t,n){Ln(e,t,Er(n))}function Mu(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const u=e.data,c=u[a+1];Uu(1==(1&c)?Zu(u,t,n,i,Cs(c),o):void 0)||(Uu(s)||2==(2&c)&&(s=Zu(u,null,n,i,a,o)),function(e,t,n,r,i){const s=De(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:Ai.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=Ai.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Ze(Ct(),n),i,s))}function Zu(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),u=s?t[1]:t,c=null===u;let l=n[i+1];l===_s&&(l=c?G:void 0);let h=c?Mn(l,r):u===r?l:void 0;if(s&&!Uu(h)&&(h=Mn(t,r)),Uu(h)&&(a=h,o))return a;const d=e[i+1];i=o?Ss(d):Cs(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=Mn(e,r))}return a}function Uu(e){return void 0!==e}function Fu(e,t){return 0!=(e.flags&(t?16:32))}function qu(e,t=""){const n=Ye(),r=Je(),i=e+pe,s=r.firstCreatePass?Rs(r,i,1,t,null):r.data[i],o=n[i]=Di(n[11],t);Xi(r,n,o,s),rt(s,!1)}function Vu(e){return ju("",e,""),Vu}function ju(e,t,n){const r=Ye(),i=ua(r,e,t,n);return i!==_s&&_o(r,Ct(),i),ju}function zu(e,t,n,r,i){const s=Ye(),o=ca(s,e,t,n,r,i);return o!==_s&&_o(s,Ct(),o),zu}function Bu(e,t,n,r,i,s,o){const a=Ye(),u=la(a,e,t,n,r,i,s,o);return u!==_s&&_o(a,Ct(),u),Bu}function Hu(e,t,n,r,i,s,o,a,u){const c=Ye(),l=ha(c,e,t,n,r,i,s,o,a,u);return l!==_s&&_o(c,Ct(),l),Hu}function $u(e,t,n,r,i,s,o,a,u,c,l){const h=Ye(),d=da(h,e,t,n,r,i,s,o,a,u,c,l);return d!==_s&&_o(h,Ct(),d),$u}function Gu(e,t,n,r,i,s,o,a,u,c,l,h,d){const f=Ye(),p=fa(f,e,t,n,r,i,s,o,a,u,c,l,h,d);return p!==_s&&_o(f,Ct(),p),Gu}function Ku(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){const g=Ye(),m=pa(g,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p);return m!==_s&&_o(g,Ct(),m),Ku}function Wu(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){const y=Ye(),v=ga(y,e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m);return v!==_s&&_o(y,Ct(),v),Wu}function Qu(e){const t=Ye(),n=aa(t,e);return n!==_s&&_o(t,Ct(),n),Qu}function Yu(e,t,n){Ou(Ln,ku,ua(Ye(),e,t,n),!0)}function Ju(e,t,n,r,i){Ou(Ln,ku,ca(Ye(),e,t,n,r,i),!0)}function Xu(e,t,n,r,i,s,o){Ou(Ln,ku,la(Ye(),e,t,n,r,i,s,o),!0)}function ec(e,t,n,r,i,s,o,a,u){Ou(Ln,ku,ha(Ye(),e,t,n,r,i,s,o,a,u),!0)}function tc(e,t,n,r,i,s,o,a,u,c,l){Ou(Ln,ku,da(Ye(),e,t,n,r,i,s,o,a,u,c,l),!0)}function nc(e,t,n,r,i,s,o,a,u,c,l,h,d){Ou(Ln,ku,fa(Ye(),e,t,n,r,i,s,o,a,u,c,l,h,d),!0)}function rc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){Ou(Ln,ku,pa(Ye(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p),!0)}function ic(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){Ou(Ln,ku,ga(Ye(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m),!0)}function sc(e){Ou(Ln,ku,aa(Ye(),e),!0)}function oc(e,t,n){Su(ua(Ye(),e,t,n))}function ac(e,t,n,r,i){Su(ca(Ye(),e,t,n,r,i))}function uc(e,t,n,r,i,s,o){Su(la(Ye(),e,t,n,r,i,s,o))}function cc(e,t,n,r,i,s,o,a,u){Su(ha(Ye(),e,t,n,r,i,s,o,a,u))}function lc(e,t,n,r,i,s,o,a,u,c,l){Su(da(Ye(),e,t,n,r,i,s,o,a,u,c,l))}function hc(e,t,n,r,i,s,o,a,u,c,l,h,d){Su(fa(Ye(),e,t,n,r,i,s,o,a,u,c,l,h,d))}function dc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){Su(pa(Ye(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p))}function fc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){Su(ga(Ye(),e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m))}function pc(e){Su(aa(Ye(),e))}function gc(e,t,n,r,i){return xu(e,ua(Ye(),t,n,r),i,!1),gc}function mc(e,t,n,r,i,s,o){return xu(e,ca(Ye(),t,n,r,i,s),o,!1),mc}function yc(e,t,n,r,i,s,o,a,u){return xu(e,la(Ye(),t,n,r,i,s,o,a),u,!1),yc}function vc(e,t,n,r,i,s,o,a,u,c,l){return xu(e,ha(Ye(),t,n,r,i,s,o,a,u,c),l,!1),vc}function wc(e,t,n,r,i,s,o,a,u,c,l,h,d){return xu(e,da(Ye(),t,n,r,i,s,o,a,u,c,l,h),d,!1),wc}function bc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p){return xu(e,fa(Ye(),t,n,r,i,s,o,a,u,c,l,h,d,f),p,!1),bc}function _c(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){return xu(e,pa(Ye(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g),m,!1),_c}function Tc(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y,v){return xu(e,ga(Ye(),t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m,y),v,!1),Tc}function Ic(e,t,n){return xu(e,aa(Ye(),t),n,!1),Ic}function Ec(e,t,n){const r=Ye();return na(r,ht(),t)&&$s(Je(),xt(),r,e,t,r[11],n,!0),Ec}function Sc(e,t,n){const r=Ye();if(na(r,ht(),t)){const i=Je(),s=xt();$s(i,s,r,e,t,vo(mt(i.data),s,r),n,!0)}return Sc}const Ac=void 0;var Cc=["en",[["a","p"],["AM","PM"],Ac],[["AM","PM"],Ac,Ac],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ac,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ac,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ac,"{1} 'at' {0}",Ac],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let kc={};function xc(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Nc(t);if(n)return n;const r=t.split("-")[0];if(n=Nc(r),n)return n;if("en"===r)return Cc;throw new Error(`Missing locale data for the locale "${e}".`)}function Oc(e){return xc(e)[Rc.PluralCase]}function Nc(e){return e in kc||(kc[e]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[e]),kc[e]}var Rc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const Pc=["zero","one","two","few","many"],Dc="en-US",Lc={marker:"element"},Mc={marker:"ICU"};var Zc=function(e){return e[e.SHIFT=2]="SHIFT",e[e.APPEND_EAGERLY=1]="APPEND_EAGERLY",e[e.COMMENT=2]="COMMENT",e}({});let Uc=Dc;function Fc(e){var t;null==(t=e)&&E("Expected localeId to be defined",t,null,"!="),"string"==typeof e&&(Uc=e.toLowerCase().replace(/_/g,"-"))}function qc(e,t,n){const r=t.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Wi(e,0,n):Me(n[i])}function Vc(e,t,n,r,i){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&t.type||(a=o,o=i),null!==o&&0==(2&t.flags))for(let t=1;t<s.length;t++)Bi(e,o,n[s[t]],a,!1)}}function jc(e,t){if(e.push(t),e.length>1)for(let n=e.length-2;n>=0;n--){const r=e[n];zc(r)||Bc(r,t)&&null===Hc(r)&&$c(r,t.index)}}function zc(e){return!(64&e.type)}function Bc(e,t){return zc(t)||e.index>t.index}function Hc(e){const t=e.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function $c(e,t){const n=e.insertBeforeIndex;Array.isArray(n)?n[0]=t:(Ji(qc,Vc),e.insertBeforeIndex=t)}function Gc(e,t){const n=e.data[t];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Kc(e,t,n){const r=Ps(e,n,64,null,null);return jc(t,r),r}function Wc(e,t){const n=t[e.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Qc=0,Yc=0;function Jc(e,t,n,r){const i=n[11];let s,o=null;for(let a=0;a<t.length;a++){const u=t[a];if("string"==typeof u){const e=t[++a];null===n[e]&&(n[e]=Di(i,u))}else if("number"==typeof u)switch(1&u){case 0:const c=u>>>17;let l,h;if(null===o&&(o=c,s=Gi(i,r)),c===o?(l=r,h=s):(l=null,h=Me(n[c])),null!==h){const t=(131070&u)>>>1;Bi(i,h,n[t],l,!1);const r=Gc(e,t);if(null!==r&&"object"==typeof r){const t=Wc(r,n);null!==t&&Jc(e,r.create[t],n,n[r.anchorIdx])}}break;case 1:const d=t[++a],f=t[++a];no(i,Ze(u>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Mc:const e=t[++a],r=t[++a];null===n[r]&&fi(n[r]=Mi(i,e),n);break;case Lc:const s=t[++a],o=t[++a];null===n[o]&&fi(n[o]=Zi(i,s,null),n)}}}function Xc(e,t,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=_(t[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],u=n[++o],c=e.data[a];"string"==typeof c?no(t[11],t[a],null,c,s,i,u):$s(e,c,t,s,i,t[11],u,!1);break;case 0:const l=t[a];null!==l&&Li(t[11],l,i);break;case 2:tl(e,Gc(e,a),t,i);break;case 3:el(e,Gc(e,a),r,t)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Gc(e,i>>>2);t[n.currentCaseLViewIndex]<0&&el(e,n,r,t)}}s+=a}}function el(e,t,n,r){let i=r[t.currentCaseLViewIndex];if(null!==i){let s=Qc;i<0&&(i=r[t.currentCaseLViewIndex]=~i,s=-1),Xc(e,r,t.update[i],n,s)}}function tl(e,t,n,r){const i=function(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const r=function(e,t){const n=Oc(t)(parseInt(e,10)),r=Pc[n];return void 0!==r?r:"other"}(t,Uc);n=e.cases.indexOf(r),-1===n&&"other"!==r&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return-1===n?null:n}(t,r);if(Wc(t,n)!==i&&(nl(e,t,n),n[t.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[t.anchorIdx];r&&Jc(e,t.create[i],n,r)}}function nl(e,t,n){let r=Wc(t,n);if(null!==r){const i=t.remove[r];for(let t=0;t<i.length;t++){const r=i[t];if(r>0){const e=Ze(r,n);null!==e&&rs(n[11],e)}else nl(e,Gc(e,~r),n)}}}const rl=/\ufffd(\d+):?\d*\ufffd/gi,il=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,sl=/\ufffd(\d+)\ufffd/,ol=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,al=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,ul=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,cl=/\uE500/g;function ll(e,t,n,r,i,s,o){const a=Ds(e,r,1,null);let u=a<<Zc.SHIFT,c=nt();t===c&&(c=null),null===c&&(u|=Zc.APPEND_EAGERLY),o&&(u|=Zc.COMMENT,void 0===Ci&&(Ci=function(){const e=[];let t,n,r=-1;function i(e,t){r=0;const i=Wc(e,t);n=null!==i?e.remove[i]:G}function s(){if(r<n.length){const o=n[r++];return o>0?t[o]:(e.push(r,n),i(t[1].data[~o],t),s())}return 0===e.length?null:(n=e.pop(),r=e.pop(),s())}return function(n,r){for(t=r;e.length;)e.pop();return i(n.value,r),s}}())),i.push(u,null===s?"":s);const l=Ps(e,a,o?32:1,null===s?"":s,null);jc(n,l);const h=l.index;return rt(l,!1),null!==c&&t!==c&&function(e,t){let n=e.insertBeforeIndex;var r;null===n?(Ji(qc,Vc),n=e.insertBeforeIndex=[null,t]):("Expecting array here",(r=Array.isArray(n))!=!0&&E("Expecting array here",r,true,"=="),n.push(t))}(c,h),l}function hl(e,t,n,r,i,s,o){const a=o.match(rl),u=ll(e,t,n,s,r,a?null:o,!1);a&&dl(i,o,u.index,null,0,null)}function dl(e,t,n,r,i,s){const o=e.length,a=o+1;e.push(null,null);const u=o+2,c=t.split(rl);let l=0;for(let h=0;h<c.length;h++){const t=c[h];if(1&h){const n=i+parseInt(t,10);e.push(-1-n),l|=pl(n)}else""!==t&&e.push(t)}return e.push(n<<2|(r?1:0)),r&&e.push(r,s),e[o]=l,e[a]=e.length-u,l}function fl(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];"number"==typeof r&&r<0&&t++}return t}function pl(e){return 1<<Math.min(e,31)}function gl(e){let t,n,r="",i=0,s=!1;for(;null!==(t=al.exec(e));)s?t[0]===`\ufffd/*${n}\ufffd`&&(i=t.index,s=!1):(r+=e.substring(i,t.index+t[0].length),n=t[1],s=!0);return r+=e.substr(i),r}function ml(e,t,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:Ds(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(e,t,n){e.push(pl(t.mainBinding),2,-1-t.mainBinding,n<<2|2)}(n,i,s),function(e,t,n){const r=e.data[t];null===r?e.data[t]=n:r.value=n}(e,s,a);const u=i.values;for(let c=0;c<u.length;c++){const s=u[c],l=[];for(let e=0;e<s.length;e++){const t=s[e];if("string"!=typeof t){const n=l.push(t)-1;s[e]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=wl(e,a,t,n,r,i.cases[c],s.join(""),l)|o}o&&function(e,t,n){e.push(t,1,n<<2|3)}(n,o,s)}function yl(e){const t=[],n=[];let r=1,i=0;const s=vl(e=e.replace(ol,function(e,t,n){return r="select"===n?0:1,i=parseInt(t.substr(1),10),""}));for(let o=0;o<s.length;){let e=s[o++].trim();1===r&&(e=e.replace(/\s*(?:=)?(\w+)\s*/,"$1")),e.length&&t.push(e);const i=vl(s[o++]);t.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:t,values:n}}function vl(e){if(!e)return[];let t=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(e);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=e.substring(t,i);ol.test(n)?r.push(yl(n)):r.push(n),t=i+1}}else{if(0==n.length){const n=e.substring(t,i);r.push(n),t=i+1}n.push("{")}}const o=e.substring(t);return r.push(o),r}function wl(e,t,n,r,i,s,o,a){const u=[],c=[],l=[];t.cases.push(s),t.create.push(u),t.remove.push(c),t.update.push(l);const h=Rr(Pe()).getInertBodyElement(o),d=ni(h)||h;return d?bl(e,t,n,r,u,c,l,d,i,a,0):0}function bl(e,t,n,r,i,s,o,a,u,c,l){let h=0,d=a.firstChild;for(;d;){const a=Ds(e,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(Hr.hasOwnProperty(p)){Il(i,Lc,p,u,a),e.data[a]=p;const g=f.attributes;for(let e=0;e<g.length;e++){const t=g.item(e),n=t.name.toLowerCase();t.value.match(rl)?Kr.hasOwnProperty(n)&&dl(o,t.value,a,t.name,0,$r[n]?Zr:Gr[n]?Ur:null):El(i,a,t)}h=bl(e,t,n,r,i,s,o,d,a,c,l+1)|h,_l(s,a,l)}break;case Node.TEXT_NODE:const g=d.textContent||"",m=g.match(rl);Il(i,null,m?"":g,u,a),_l(s,a,l),m&&(h=dl(o,g,a,null,0,null)|h);break;case Node.COMMENT_NODE:const y=sl.exec(d.textContent||"");if(y){const t=c[parseInt(y[1],10)];Il(i,Mc,"",u,a),ml(e,n,r,u,t,a),Tl(s,a,l)}}d=d.nextSibling}return h}function _l(e,t,n){0===n&&e.push(t)}function Tl(e,t,n){0===n&&(e.push(~t),e.push(t))}function Il(e,t,n,r,i){null!==t&&e.push(t),e.push(n,i,0|r<<17|i<<1)}function El(e,t,n){e.push(t<<1|1,n.name,n.value)}const Sl=/\[(\ufffd.+?\ufffd?)\]/,Al=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,Cl=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,kl=/{([A-Z0-9_]+)}/g,xl=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Ol=/\/\*/,Nl=/\d+\:(\d+)/;function Rl(e,t,n=-1){const r=Je(),i=Ye(),s=pe+e,o=Be(r.consts,t),a=nt();r.firstCreatePass&&function(e,t,n,r,i,s){const o=nt(),a=[],u=[],c=[[]],l=(h=i=function(e,t){if(function(e){return-1===e}(t))return gl(e);{const n=e.indexOf(`:${t}\ufffd`)+2+t.toString().length,r=e.search(new RegExp(`\ufffd\\/\\*\\d+:${t}\ufffd`));return gl(e.substring(n,r))}}(i,s),h.replace(cl," ")).split(ul);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=vl(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const t=l;""!==t&&hl(e,o,c[0],a,u,n,t)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);ml(e,n,u,t,r,ll(e,o,c[0],n,a,"",!0).index)}}}else{const t=47===r.charCodeAt(0),n=(r.charCodeAt(t?1:0),pe+Number.parseInt(r.substring(t?2:1)));if(t)c.shift(),rt(nt(),!1);else{const t=Kc(e,c[0],n);c.unshift([]),rt(t,!0)}}}e.data[r]={create:a,update:u}}(r,null===a?0:a.index,i,s,o,n);const u=r.data[s],c=zi(r,a===i[6]?null:a,i);!function(e,t,n,r){const i=e[11];for(let s=0;s<t.length;s++){const o=t[s++],a=t[s],u=(o&Zc.COMMENT)===Zc.COMMENT,c=(o&Zc.APPEND_EAGERLY)===Zc.APPEND_EAGERLY,l=o>>>Zc.SHIFT;let h=e[l];null===h&&(h=e[l]=u?i.createComment(a):Di(i,a)),c&&null!==n&&Bi(i,n,h,r,!1)}}(i,u.create,c,a&&8&a.type?i[a.index]:null),ft(!0)}function Pl(){ft(!1)}function Dl(e,t,n){Rl(e,t,n),Pl()}function Ll(e,t){const n=Je(),r=Be(n.consts,t);!function(e,t,n){const r=et().index,i=[];if(e.firstCreatePass&&null===e.data[t]){for(let e=0;e<n.length;e+=2){const t=n[e],s=n[e+1];if(""!==s){if(il.test(s))throw new Error(`ICU expressions are not supported in attributes. Message: "${s}".`);dl(i,s,r,t,fl(i),null)}}e.data[t]=i}}(n,e+pe,r)}function Ml(e){return na(Ye(),ht(),e)&&(Qc|=1<<Math.min(Yc,31)),Yc++,Ml}function Zl(e){!function(e,t,n){if(Yc>0){const r=e.data[n];Xc(e,t,Array.isArray(r)?r:r.update,ct()-Yc-1,Qc)}Qc=0,Yc=0}(Je(),Ye(),e+pe)}function Ul(e,t={}){return function(e,t={}){let n=e;if(Sl.test(e)){const e={},t=[0];n=n.replace(Al,(n,r,i)=>{const s=r||i,o=e[s]||[];if(o.length||(s.split("|").forEach(e=>{const t=e.match(Nl),n=t?parseInt(t[1],10):0,r=Ol.test(e);o.push([n,r,e])}),e[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=t[t.length-1];let u=0;for(let e=0;e<o.length;e++)if(o[e][0]===a){u=e;break}const[c,l,h]=o[u];return l?t.pop():a!==c&&t.push(c),o.splice(u,1),h})}return Object.keys(t).length?(n=n.replace(Cl,(e,n,r,i,s,o)=>t.hasOwnProperty(r)?`${n}${t[r]}${o}`:e),n=n.replace(kl,(e,n)=>t.hasOwnProperty(n)?t[n]:e),n=n.replace(xl,(e,n)=>{if(t.hasOwnProperty(n)){const r=t[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${e} with key: ${n}`);return r.shift()}return e}),n):n}(e,t)}function Fl(e,t,n,r,i){if(e=v(e),Array.isArray(e))for(let s=0;s<e.length;s++)Fl(e[s],t,n,r,i);else{const s=Je(),o=Ye();let a=Mo(e)?e:v(e.provide),u=Po(e);const c=et(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Mo(e)||!e.multi){const r=new qt(u,i,Pa),f=jl(a,t,i?l:l+d,h);-1===f?(nn(Jt(c,o),s,a),ql(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=jl(a,t,l+d,h),p=jl(a,t,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){nn(Jt(c,o),s,a);const l=function(e,t,n,r,i){const s=new qt(e,n,Pa);return s.multi=[],s.index=t,s.componentProviders=0,Vl(s,i,r&&!n),s}(i?Bl:zl,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),ql(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else ql(s,e,f>-1?f:p,Vl(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function ql(e,t,n,r){const i=Mo(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Vl(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function jl(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function zl(e,t,n,r){return Hl(this.multi,[])}function Bl(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=hn(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Hl(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Hl(i,s);return s}function Hl(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function $l(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Je();if(r.firstCreatePass){const i=_e(e);Fl(n,r.data,r.blueprint,i,!0),Fl(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Gl{}class Kl{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${p(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Wl=(()=>{class e{}return e.NULL=new Kl,e})();function Ql(...e){}function Yl(e,t){return new Xl(Ue(e,t))}const Jl=function(){return Yl(et(),Ye())};let Xl=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Jl,e})();function eh(e){return e instanceof Xl?e.nativeElement:e}class th{}let nh=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>rh(),e})();const rh=function(){const e=Ye(),t=Ve(et().index,e);return function(e){return e[11]}(me(t)?t:e)};let ih=(()=>{class e{}return e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null}),e})();class sh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oh=new sh("12.0.5");class ah{constructor(){}supports(e){return Jo(e)}create(e){return new ch(e)}}const uh=(e,t)=>t;class ch{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uh}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<fh(n,r,i)?t:n,o=fh(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Jo(e))throw new Error(`Error trying to diff '${p(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Qo()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new lh(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new dh),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class lh{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hh{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class dh{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new hh,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fh(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class ph{constructor(){}supports(e){return e instanceof Map||Xo(e)}create(){return new gh}}class gh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Xo(e)))throw new Error(`Error trying to diff '${p(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new mh(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class mh{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yh(){return new vh([new ah])}let vh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||yh()),deps:[[e,new sr,new rr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=S({token:e,providedIn:"root",factory:yh}),e})();function wh(){return new bh([new ph])}let bh=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||wh()),deps:[[e,new sr,new rr]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=S({token:e,providedIn:"root",factory:wh}),e})();function _h(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Me(s)),ye(s))for(let e=ge;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&_h(t[1],t,n,r)}const o=n.type;if(8&o)_h(e,t,n.child,r);else if(32&o){const e=ki(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=ts(t,n);if(Array.isArray(e))r.push(...e);else{const n=xi(t[16]);_h(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class Th{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return _h(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ye(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Fi(e,n),Pn(t,n))}this._attachedToViewContainer=!1}qi(this._lView[1],this._lView)}onDestroy(e){Bs(this._lView[1],this._lView,null,e)}markForCheck(){lo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ho(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){at(!0);try{ho(e,t,n)}finally{at(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ss(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Ih extends Th{constructor(e){super(e),this._view=e}detectChanges(){fo(this._view)}checkNoChanges(){!function(e){at(!0);try{fo(e)}finally{at(!1)}}(this._view)}get context(){return null}}const Eh=function(e){return function(e,t,n){if(we(e)&&!n){const n=Ve(e.index,t);return new Th(n,n)}return 47&e.type?new Th(t[16],t):null}(et(),Ye(),16==(16&e))};let Sh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Eh,e})();const Ah=[new ph],Ch=new vh([new ah]),kh=new bh(Ah),xh=function(){return Ph(et(),Ye())};let Oh=(()=>{class e{}return e.__NG_ELEMENT_ID__=xh,e})();const Nh=Oh,Rh=class extends Nh{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Ns(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ls(t,n,e),new Th(n)}};function Ph(e,t){return 4&e.type?new Rh(t,e,Yl(e,t)):null}class Dh{}class Lh{}const Mh=function(){return jh(et(),Ye())};let Zh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Mh,e})();const Uh=Zh,Fh=class extends Uh{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Yl(this._hostTNode,this._hostLView)}get injector(){return new pn(this._hostTNode,this._hostLView)}get parentInjector(){const e=tn(this._hostTNode,this._hostLView);if($t(e)){const t=Kt(e,this._hostLView),n=Gt(e);return new pn(t[1].data[n+8],t)}return new pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=qh(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ge}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Dh,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(ye(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Fh(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=ge+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-ge?(t[4]=n[i],Rn(n,ge+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=ns(i,s),a=n[11],u=Gi(a,s[7]);return null!==u&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,ss(e,r,n,1,i,s)}(r,s[6],a,n,u,o),e.attachToViewContainerRef(),Rn(Vh(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=qh(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Fi(this._lContainer,t);n&&(Pn(Vh(this._lContainer),t),qi(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Fi(this._lContainer,t);return n&&null!=Pn(Vh(this._lContainer),t)?new Th(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function qh(e){return e[8]}function Vh(e){return e[8]||(e[8]=[])}function jh(e,t){let n;const r=t[e.index];if(ye(r))n=r;else{let i;if(8&e.type)i=Me(r);else{const n=t[11];i=n.createComment("");const r=Ue(e,t);Bi(n,Gi(n,r),i,function(e,t){return De(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=so(r,t,i,e),co(t,n)}return new Fh(n,e,t)}const zh={};class Bh extends Wl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=de(e);return new Gh(t,this.ngModule)}}function Hh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const $h=new Sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_i});class Gh extends Gl{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(bs).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Hh(this.componentDef.inputs)}get outputs(){return Hh(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,zh,i);return s!==zh||r===zh?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(th,Le),o=i.get(ih,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(De(e))return e.selectRootElement(t,n===q.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Zi(s.createRenderer(null,this.componentDef),u,function(e){const t=e.toLowerCase();return"svg"===t?xe:"math"===t?Oe:null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:_i,clean:go,playerHandler:null,flags:0},d=zs(0,null,null,1,0,null,null,null,null,null),f=Ns(null,d,h,l,null,null,s,a,o,i);let p,g;_t(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=Rs(o,20,2,"#host",null),u=a.mergedAttrs=t.hostAttrs;null!==u&&(To(a,u,!0),null!==e&&(Vt(i,e,u),null!==a.classes&&us(i,e,a.classes),null!==a.styles&&as(i,e,a.styles)));const c=r.createRenderer(e,t),l=Ns(n,js(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(nn(Jt(a,n),o,t.type),Qs(o,a),Js(a,n.length,1)),co(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Vt(a,c,["ng-version",oh.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!gs(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Vt(a,c,e),t&&t.length>0&&us(a,c,t.join(" "))}if(g=Fe(d,pe),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=et();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Xs(e,r,t,Ds(e,t,1,null),n));const i=hn(t,e,r.directiveStart,r);fi(i,t);const s=Ue(r,t);return s&&fi(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=et();t.contentQueries(1,o,e.directiveStart)}const a=et();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(kt(a.index),Ks(n[1],a,0,a.directiveStart,a.directiveEnd,t),Ws(t,o)),o}(e,this.componentDef,f,h,[Fo]),Ls(d,f,null)}finally{At()}return new Kh(this.componentType,p,Yl(g,f),f,g)}}class Kh extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new Ih(r),this.componentType=e}get injector(){return new pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Wh(e,t,n,r){return U(()=>{const i=e;null!==t&&(i.hasOwnProperty("decorators")&&void 0!==i.decorators?i.decorators.push(...t):i.decorators=t),null!==n&&(i.ctorParameters=n),null!==r&&(i.propDecorators=i.hasOwnProperty("propDecorators")&&void 0!==i.propDecorators?Object.assign(Object.assign({},i.propDecorators),r):r)})}const Qh=new Map;class Yh extends Dh{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bh(this);const n=fe(e),r=e[J]||null;r&&Fc(r),this._bootstrapComponents=Si(n.bootstrap),this._r3Injector=Oo(e,t,[{provide:Dh,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],p(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Uo.THROW_IF_NOT_FOUND,n=D.Default){return e===Uo||e===Dh||e===Io?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Jh extends Lh{constructor(e){super(),this.moduleType=e,null!==fe(e)&&function(e){const t=new Set;!function e(n){const r=fe(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${p(t)} vs ${p(t.name)}`)}(i,Qh.get(i),n),Qh.set(i,n));const s=Si(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Yh(this.moduleType,e)}}function Xh(e,t,n){const r=ut()+e,i=Ye();return i[r]===_s?ea(i,r,n?t.call(n):t()):ta(i,r)}function ed(e,t,n,r){return ld(Ye(),ut(),e,t,n,r)}function td(e,t,n,r,i){return hd(Ye(),ut(),e,t,n,r,i)}function nd(e,t,n,r,i,s){return dd(Ye(),ut(),e,t,n,r,i,s)}function rd(e,t,n,r,i,s,o){return fd(Ye(),ut(),e,t,n,r,i,s,o)}function id(e,t,n,r,i,s,o,a){const u=ut()+e,c=Ye(),l=sa(c,u,n,r,i,s);return na(c,u+4,o)||l?ea(c,u+5,a?t.call(a,n,r,i,s,o):t(n,r,i,s,o)):ta(c,u+5)}function sd(e,t,n,r,i,s,o,a,u){const c=ut()+e,l=Ye(),h=sa(l,c,n,r,i,s);return ra(l,c+4,o,a)||h?ea(l,c+6,u?t.call(u,n,r,i,s,o,a):t(n,r,i,s,o,a)):ta(l,c+6)}function od(e,t,n,r,i,s,o,a,u,c){const l=ut()+e,h=Ye();let d=sa(h,l,n,r,i,s);return ia(h,l+4,o,a,u)||d?ea(h,l+7,c?t.call(c,n,r,i,s,o,a,u):t(n,r,i,s,o,a,u)):ta(h,l+7)}function ad(e,t,n,r,i,s,o,a,u,c,l){const h=ut()+e,d=Ye(),f=sa(d,h,n,r,i,s);return sa(d,h+4,o,a,u,c)||f?ea(d,h+8,l?t.call(l,n,r,i,s,o,a,u,c):t(n,r,i,s,o,a,u,c)):ta(d,h+8)}function ud(e,t,n,r){return pd(Ye(),ut(),e,t,n,r)}function cd(e,t){const n=e[t];return n===_s?void 0:n}function ld(e,t,n,r,i,s){const o=t+n;return na(e,o,i)?ea(e,o+1,s?r.call(s,i):r(i)):cd(e,o+1)}function hd(e,t,n,r,i,s,o){const a=t+n;return ra(e,a,i,s)?ea(e,a+2,o?r.call(o,i,s):r(i,s)):cd(e,a+2)}function dd(e,t,n,r,i,s,o,a){const u=t+n;return ia(e,u,i,s,o)?ea(e,u+3,a?r.call(a,i,s,o):r(i,s,o)):cd(e,u+3)}function fd(e,t,n,r,i,s,o,a,u){const c=t+n;return sa(e,c,i,s,o,a)?ea(e,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):cd(e,c+4)}function pd(e,t,n,r,i,s){let o=t+n,a=!1;for(let u=0;u<i.length;u++)na(e,o++,i[u])&&(a=!0);return a?ea(e,o,r.apply(s,i)):cd(e,o)}function gd(e,t){const n=Je();let r;const i=e+pe;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new b("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Te(r.type)),o=M(Pa);try{const e=Qt(!1),t=s();return Qt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ye(),i,t),t}finally{M(o)}}function md(e,t,n){const r=e+pe,i=Ye(),s=qe(i,r);return Td(i,_d(i,r)?ld(i,ut(),t,s.transform,n,s):s.transform(n))}function yd(e,t,n,r){const i=e+pe,s=Ye(),o=qe(s,i);return Td(s,_d(s,i)?hd(s,ut(),t,o.transform,n,r,o):o.transform(n,r))}function vd(e,t,n,r,i){const s=e+pe,o=Ye(),a=qe(o,s);return Td(o,_d(o,s)?dd(o,ut(),t,a.transform,n,r,i,a):a.transform(n,r,i))}function wd(e,t,n,r,i,s){const o=e+pe,a=Ye(),u=qe(a,o);return Td(a,_d(a,o)?fd(a,ut(),t,u.transform,n,r,i,s,u):u.transform(n,r,i,s))}function bd(e,t,n){const r=e+pe,i=Ye(),s=qe(i,r);return Td(i,_d(i,r)?pd(i,ut(),t,s.transform,n,s):s.transform.apply(s,n))}function _d(e,t){return e[1].data[t].pure}function Td(e,t){return Yo.isWrapped(t)&&(t=Yo.unwrap(t),e[ct()]=_s),t}function Id(e){return t=>{setTimeout(e,void 0,t)}}const Ed=class extends a.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,i,s;let o=e,a=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;o=null===(r=t.next)||void 0===r?void 0:r.bind(t),a=null===(i=t.error)||void 0===i?void 0:i.bind(t),c=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(a=Id(a),o&&(o=Id(o)),c&&(c=Id(c)));const l=super.subscribe({next:o,error:a,complete:c});return e instanceof u.w&&e.add(l),l}};function Sd(){return this._results[Qo()]()}class Ad{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Qo(),n=Ad.prototype;n[t]||(n[t]=Sd)}get changes(){return this._changes||(this._changes=new Ed)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=On(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Cd{constructor(e){this.queryList=e,this.matches=null}clone(){return new Cd(this.queryList)}setDirty(){this.queryList.setDirty()}}class kd{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new kd(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==jd(e,t).matches&&this.queries[t].setDirty()}}class xd{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Od{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Od(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Nd{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Nd(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Rd(t,i)),this.matchTNodeWithReadOption(e,t,ln(t,e,i,!1,!1))}else n===Oh?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ln(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Xl||r===Zh||r===Oh&&4&t.type)this.addMatch(t.index,-2);else{const n=ln(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Rd(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Pd(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Yl(e,t):4&e.type?Ph(e,t):null}(t,e):-2===n?function(e,t,n){return n===Xl?Yl(t,e):n===Oh?Ph(t,e):n===Zh?jh(t,e):void 0}(e,t,r):hn(e,e[1],n,t)}function Dd(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:Pd(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Ld(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Dd(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=ge;e<o.length;e++){const t=o[e];t[17]===t[3]&&Ld(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Ld(n[1],n,i,r)}}}}}return r}function Md(e){const t=Ye(),n=Je(),r=yt();vt(r+1);const i=jd(n,r);if(e.dirty&&je(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Ld(n,t,r,[]):Dd(n,t,i,r);e.reset(s,eh),e.notifyOnChanges()}return!0}return!1}function Zd(e,t,n){const r=Je();r.firstCreatePass&&(Vd(r,new xd(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),qd(r,Ye(),t)}function Ud(e,t,n,r){const i=Je();if(i.firstCreatePass){const s=et();Vd(i,new xd(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}qd(i,Ye(),n)}function Fd(){return e=Ye(),t=yt(),e[19].queries[t].queryList;var e,t}function qd(e,t,n){const r=new Ad(4==(4&n));Bs(e,t,r,r.destroy),null===t[19]&&(t[19]=new kd),t[19].queries.push(new Cd(r))}function Vd(e,t,n){null===e.queries&&(e.queries=new Od),e.queries.track(new Nd(t,n))}function jd(e,t){return e.queries.getByIndex(t)}function zd(e,t){return Ph(e,t)}const Bd=(()=>({"\u0275\u0275attribute":oa,"\u0275\u0275attributeInterpolate1":ma,"\u0275\u0275attributeInterpolate2":ya,"\u0275\u0275attributeInterpolate3":va,"\u0275\u0275attributeInterpolate4":wa,"\u0275\u0275attributeInterpolate5":ba,"\u0275\u0275attributeInterpolate6":_a,"\u0275\u0275attributeInterpolate7":Ta,"\u0275\u0275attributeInterpolate8":Ia,"\u0275\u0275attributeInterpolateV":Ea,"\u0275\u0275defineComponent":ne,"\u0275\u0275defineDirective":le,"\u0275\u0275defineInjectable":S,"\u0275\u0275defineInjector":A,"\u0275\u0275defineNgModule":ae,"\u0275\u0275definePipe":he,"\u0275\u0275directiveInject":Pa,"\u0275\u0275getInheritedFactory":gn,"\u0275\u0275inject":Jn,"\u0275\u0275injectAttribute":yn,"\u0275\u0275invalidFactory":Da,"\u0275\u0275invalidFactoryDep":Xn,"\u0275\u0275templateRefExtractor":zd,"\u0275\u0275NgOnChangesFeature":Ee,"\u0275\u0275ProvidersFeature":$l,"\u0275\u0275CopyDefinitionFeature":Ko,"\u0275\u0275InheritDefinitionFeature":Vo,"\u0275\u0275nextContext":Ja,"\u0275\u0275namespaceHTML":Rt,"\u0275\u0275namespaceMathML":Nt,"\u0275\u0275namespaceSVG":Ot,"\u0275\u0275enableBindings":We,"\u0275\u0275disableBindings":Qe,"\u0275\u0275elementStart":Za,"\u0275\u0275elementEnd":Ua,"\u0275\u0275element":Fa,"\u0275\u0275elementContainerStart":qa,"\u0275\u0275elementContainerEnd":Va,"\u0275\u0275elementContainer":ja,"\u0275\u0275pureFunction0":Xh,"\u0275\u0275pureFunction1":ed,"\u0275\u0275pureFunction2":td,"\u0275\u0275pureFunction3":nd,"\u0275\u0275pureFunction4":rd,"\u0275\u0275pureFunction5":id,"\u0275\u0275pureFunction6":sd,"\u0275\u0275pureFunction7":od,"\u0275\u0275pureFunction8":ad,"\u0275\u0275pureFunctionV":ud,"\u0275\u0275getCurrentView":za,"\u0275\u0275restoreView":Xe,"\u0275\u0275listener":Ga,"\u0275\u0275projection":tu,"\u0275\u0275syntheticHostProperty":Sc,"\u0275\u0275syntheticHostListener":Ka,"\u0275\u0275pipeBind1":md,"\u0275\u0275pipeBind2":yd,"\u0275\u0275pipeBind3":vd,"\u0275\u0275pipeBind4":wd,"\u0275\u0275pipeBindV":bd,"\u0275\u0275projectionDef":eu,"\u0275\u0275hostProperty":Ec,"\u0275\u0275property":La,"\u0275\u0275propertyInterpolate":nu,"\u0275\u0275propertyInterpolate1":ru,"\u0275\u0275propertyInterpolate2":iu,"\u0275\u0275propertyInterpolate3":su,"\u0275\u0275propertyInterpolate4":ou,"\u0275\u0275propertyInterpolate5":au,"\u0275\u0275propertyInterpolate6":uu,"\u0275\u0275propertyInterpolate7":cu,"\u0275\u0275propertyInterpolate8":lu,"\u0275\u0275propertyInterpolateV":hu,"\u0275\u0275pipe":gd,"\u0275\u0275queryRefresh":Md,"\u0275\u0275viewQuery":Zd,"\u0275\u0275loadQuery":Fd,"\u0275\u0275contentQuery":Ud,"\u0275\u0275reference":Aa,"\u0275\u0275classMap":Cu,"\u0275\u0275classMapInterpolate1":Yu,"\u0275\u0275classMapInterpolate2":Ju,"\u0275\u0275classMapInterpolate3":Xu,"\u0275\u0275classMapInterpolate4":ec,"\u0275\u0275classMapInterpolate5":tc,"\u0275\u0275classMapInterpolate6":nc,"\u0275\u0275classMapInterpolate7":rc,"\u0275\u0275classMapInterpolate8":ic,"\u0275\u0275classMapInterpolateV":sc,"\u0275\u0275styleMap":Su,"\u0275\u0275styleMapInterpolate1":oc,"\u0275\u0275styleMapInterpolate2":ac,"\u0275\u0275styleMapInterpolate3":uc,"\u0275\u0275styleMapInterpolate4":cc,"\u0275\u0275styleMapInterpolate5":lc,"\u0275\u0275styleMapInterpolate6":hc,"\u0275\u0275styleMapInterpolate7":dc,"\u0275\u0275styleMapInterpolate8":fc,"\u0275\u0275styleMapInterpolateV":pc,"\u0275\u0275styleProp":Iu,"\u0275\u0275stylePropInterpolate1":gc,"\u0275\u0275stylePropInterpolate2":mc,"\u0275\u0275stylePropInterpolate3":yc,"\u0275\u0275stylePropInterpolate4":vc,"\u0275\u0275stylePropInterpolate5":wc,"\u0275\u0275stylePropInterpolate6":bc,"\u0275\u0275stylePropInterpolate7":_c,"\u0275\u0275stylePropInterpolate8":Tc,"\u0275\u0275stylePropInterpolateV":Ic,"\u0275\u0275classProp":Eu,"\u0275\u0275advance":Ts,"\u0275\u0275template":Sa,"\u0275\u0275text":qu,"\u0275\u0275textInterpolate":Vu,"\u0275\u0275textInterpolate1":ju,"\u0275\u0275textInterpolate2":zu,"\u0275\u0275textInterpolate3":Bu,"\u0275\u0275textInterpolate4":Hu,"\u0275\u0275textInterpolate5":$u,"\u0275\u0275textInterpolate6":Gu,"\u0275\u0275textInterpolate7":Ku,"\u0275\u0275textInterpolate8":Wu,"\u0275\u0275textInterpolateV":Qu,"\u0275\u0275i18n":Dl,"\u0275\u0275i18nAttributes":Ll,"\u0275\u0275i18nExp":Ml,"\u0275\u0275i18nStart":Rl,"\u0275\u0275i18nEnd":Pl,"\u0275\u0275i18nApply":Zl,"\u0275\u0275i18nPostprocess":Ul,"\u0275\u0275resolveWindow":Ti,"\u0275\u0275resolveDocument":Ii,"\u0275\u0275resolveBody":Ei,"\u0275\u0275setComponentScope":re,"\u0275\u0275setNgModuleScope":ue,"\u0275\u0275sanitizeHtml":ii,"\u0275\u0275sanitizeStyle":si,"\u0275\u0275sanitizeResourceUrl":ai,"\u0275\u0275sanitizeScript":ui,"\u0275\u0275sanitizeUrl":oi,"\u0275\u0275sanitizeUrlOrResourceUrl":hi,"\u0275\u0275trustConstantHtml":ci,"\u0275\u0275trustConstantResourceUrl":li,forwardRef:y,resolveForwardRef:v}))(),Hd=[];function $d(e){return function(e){return void 0!==e.ngModule}(e)?e.ngModule:e}const Gd=_n("NgModule",e=>e,void 0,void 0,(e,t)=>Kd(e,t)),Kd=function(e,t={}){!function(e,t,n=!1){const r=On(t.declarations||G);let i=null;Object.defineProperty(e,Y,{configurable:!0,get:()=>(null===i&&(i=Cn().compileNgModule(Bd,`ng:///${e.name}/\u0275mod.js`,{type:e,bootstrap:On(t.bootstrap||G).map(v),declarations:r.map(v),imports:On(t.imports||G).map(v).map($d),exports:On(t.exports||G).map(v).map($d),schemas:t.schemas?On(t.schemas):null,id:t.id||null}),i.schemas||(i.schemas=[])),i)});let s=null;Object.defineProperty(e,X,{get:()=>{if(null===s){const t=Cn();s=t.compileFactory(Bd,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,deps:lr(e),target:t.FactoryTarget.NgModule,typeArgumentCount:0})}return s},configurable:!1});let o=null;Object.defineProperty(e,N,{get:()=>{if(null===o){const n={name:e.name,type:e,providers:t.providers||G,imports:[(t.imports||G).map(v),(t.exports||G).map(v)]};o=Cn().compileInjector(Bd,`ng:///${e.name}/\u0275inj.js`,n)}return o},configurable:!1})}(e,t),function(e,t){Hd.push({moduleType:e,ngModule:t})}(e,t)},Wd=new Sn("Application Initializer");let Qd=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Ql,this.reject=Ql,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Ba(t))e.push(t);else if($a(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Jn(Wd,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const Yd=new Sn("AppId"),Jd={provide:Yd,useFactory:function(){return`${Xd()}${Xd()}${Xd()}`},deps:[]};function Xd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ef=new Sn("Platform Initializer"),tf=new Sn("Platform ID"),nf=new Sn("appBootstrapListener");let rf=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const sf=new Sn("LocaleId"),of=new Sn("DefaultCurrencyCode");class af{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const uf=function(e){return new Jh(e)},cf=uf,lf=function(e){return Promise.resolve(uf(e))},hf=function(e){const t=uf(e),n=Si(fe(e).declarations).reduce((e,t)=>{const n=de(t);return n&&e.push(new Gh(n)),e},[]);return new af(t,n)},df=hf,ff=function(e){return Promise.resolve(hf(e))};let pf=(()=>{class e{constructor(){this.compileModuleSync=cf,this.compileModuleAsync=lf,this.compileModuleAndAllComponentsSync=df,this.compileModuleAndAllComponentsAsync=ff}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();const gf=(()=>Promise.resolve(0))();function mf(e){"undefined"==typeof Zone?gf.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class yf{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ed(!1),this.onMicrotaskEmpty=new Ed(!1),this.onStable=new Ed(!1),this.onError=new Ed(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=H.requestAnimationFrame,t=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(H,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,bf(e),e.isCheckStableRunning=!0,wf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),bf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return _f(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Tf(e)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return _f(e),n.invoke(i,s,o,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),Tf(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,bf(e),wf(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yf.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yf.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,vf,Ql,Ql);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const vf={};function wf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _f(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Tf(e){e._nesting--,wf(e)}class If{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ed,this.onMicrotaskEmpty=new Ed,this.onStable=new Ed,this.onError=new Ed}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Ef=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yf.assertNotInAngularZone(),mf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Jn(yf))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})(),Sf=(()=>{class e{constructor(){this._applications=new Map,xf.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return xf.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();class Af{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Cf(e){xf=e}let kf,xf=new Af,Of=!0,Nf=!1;function Rf(){return Nf=!0,Of}function Pf(){if(Nf)throw new Error("Cannot enable prod mode after platform setup.");Of=!1}const Df=new Sn("AllowMultipleToken");class Lf{constructor(e,t){this.name=e,this.token=t}}function Mf(e,t,n=[]){const r=`Platform: ${t}`,i=new Sn(r);return(t=[])=>{let s=Zf();if(!s||s.injector.get(Df,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:So,useValue:"platform"});!function(e){if(kf&&!kf.destroyed&&!kf.injector.get(Df,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");kf=e.get(Uf);const t=e.get(ef,null);t&&t.forEach(e=>e())}(Uo.create({providers:e,name:r}))}return function(e){const t=Zf();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Zf(){return kf&&!kf.destroyed?kf:null}let Uf=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new If:("zone.js"===e?void 0:e)||new yf({enableLongStackTrace:Rf(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:yf,useValue:n}];return n.run(()=>{const t=Uo.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(vi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Vf(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return Ba(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(Qd);return e.runInitializers(),e.donePromise.then(()=>(Fc(i.injector.get(sf,Dc)||Dc),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Ff({},t);return function(e,t,n){const r=new Jh(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(qf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${p(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Jn(Uo))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function Ff(e,t){return Array.isArray(t)?t.reduce(Ff,e):Object.assign(Object.assign({},e),t)}let qf=(()=>{class e{constructor(e,t,n,a,u){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=a,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new r.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),f=new r.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{yf.assertNotInAngularZone(),mf(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{yf.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}(d,f.pipe(e=>{return(0,l.x)()((t=h,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,c.N);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Gl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Dh),i=n.create(Uo.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Ef,null),a=o&&i.injector.get(Sf);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Vf(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Vf(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(nf,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Jn(yf),Jn(Uo),Jn(vi),Jn(Wl),Jn(Qd))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function Vf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class jf{}class zf{}const Bf={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Hf=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Bf}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>$f(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>$f(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Jn(pf),Jn(zf,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function $f(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Gf=function(e){return null},Kf=Mf(null,"core",[{provide:tf,useValue:"unknown"},{provide:Uf,deps:[Uo]},{provide:Sf,deps:[]},{provide:rf,deps:[]}]),Wf=[{provide:qf,useClass:qf,deps:[yf,Uo,vi,Wl,Qd]},{provide:$h,deps:[yf],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Qd,useClass:Qd,deps:[[new rr,Wd]]},{provide:pf,useClass:pf,deps:[]},Jd,{provide:vh,useFactory:function(){return Ch},deps:[]},{provide:bh,useFactory:function(){return kh},deps:[]},{provide:sf,useFactory:function(e){return Fc(e=e||"undefined"!=typeof $localize&&$localize.locale||Dc),e},deps:[[new nr(sf),new rr,new sr]]},{provide:of,useValue:"USD"}];let Qf=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Jn(qf))},e.\u0275mod=ae({type:e}),e.\u0275inj=A({providers:Wf}),e})()},9748:(e,t,n)=>{"use strict";n.d(t,{hO:()=>g,xv:()=>h,Dh:()=>l,GT:()=>u,cc:()=>m,on:()=>d,pX:()=>a});var r=n(8619),i=n(9001),s=n(3887);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),u=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:c,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})();function m(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(v("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,v=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3887:(e,t,n)=>{"use strict";n.d(t,{q4:()=>Mn,iC:()=>Wn,HU:()=>Hn,vb:()=>Vn,JM:()=>qn,u3:()=>Yn});var r=n(8619),i=n(1858),s=n(6304),o=n(7092),a=n(5725),u=n(5119),c=n(2134),l=n(2087);const h="@firebase/installations",d="0.5.2",f="w:0.5.2",p="FIS_v2",g=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function y({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function v(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function w(e,t){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return g.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function _({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function T(e,{refreshToken:t}){const n=_(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}function I(e){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function S(e,t){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)(function*(e,{fid:t}){const n=y(e),r={method:"POST",headers:_(e),body:JSON.stringify({fid:t,authVersion:p,appId:e.appId,sdkVersion:f})},i=yield I(()=>fetch(n,r));if(i.ok){const e=yield i.json();return{fid:e.fid||t,registrationStatus:2,refreshToken:e.refreshToken,authToken:v(e.authToken)}}throw yield w("Create Installation",i)})).apply(this,arguments)}function C(e){return new Promise(t=>{setTimeout(t,e)})}const k=/^[cdef][\w-]{21}$/;function x(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return k.test(t)?t:""}catch(e){return""}}function O(e){return`${e.appName}!${e.appId}`}const N=new Map;function R(e,t){const n=O(e);P(n,t),function(e,t){const n=(!D&&"BroadcastChannel"in self&&(D=new BroadcastChannel("[Firebase] FID Change"),D.onmessage=e=>{P(e.data.key,e.data.fid)}),D);n&&n.postMessage({key:e,fid:t}),0===N.size&&D&&(D.close(),D=null)}(n,t)}function P(e,t){const n=N.get(e);if(n)for(const r of n)r(t)}let D=null;const L="firebase-installations-store";let M=null;function Z(){return M||(M=(0,l.openDb)("firebase-installations-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(L)}})),M}function U(e,t){return F.apply(this,arguments)}function F(){return(F=(0,s.Z)(function*(e,t){const n=O(e),r=(yield Z()).transaction(L,"readwrite"),i=r.objectStore(L),s=yield i.get(n);return yield i.put(t,n),yield r.complete,s&&s.fid===t.fid||R(e,t.fid),t})).apply(this,arguments)}function q(e){return V.apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(e){const t=O(e),n=(yield Z()).transaction(L,"readwrite");yield n.objectStore(L).delete(t),yield n.complete})).apply(this,arguments)}function j(e,t){return z.apply(this,arguments)}function z(){return(z=(0,s.Z)(function*(e,t){const n=O(e),r=(yield Z()).transaction(L,"readwrite"),i=r.objectStore(L),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,!o||s&&s.fid===o.fid||R(e,o.fid),o})).apply(this,arguments)}function B(e){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(e){let t;const n=yield j(e,n=>{const r=$(n),i=G(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function $(e){return J(e||{fid:x(),registrationStatus:0})}function G(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(g.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return K.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:W(e)}:{installationEntry:t}}function K(){return(K=(0,s.Z)(function*(e,t){try{return U(e,yield S(e,t))}catch(n){throw m(n)&&409===n.customData.serverCode?yield q(e):yield U(e,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function W(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,s.Z)(function*(e){let t=yield Y(e);for(;1===t.registrationStatus;)yield C(100),t=yield Y(e);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield B(e);return n||t}return t})).apply(this,arguments)}function Y(e){return j(e,e=>{if(!e)throw g.create("installation-not-found");return J(e)})}function J(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function X(e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*({appConfig:e,platformLoggerProvider:t},n){const r=te(e,n),i=T(e,n),s=t.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},a=yield I(()=>fetch(r,o));if(a.ok)return v(yield a.json());throw yield w("Generate Auth Token",a)})).apply(this,arguments)}function te(e,{fid:t}){return`${y(e)}/${t}/authTokens:generate`}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,s.Z)(function*(e,t=!1){let n;const r=yield j(e.appConfig,r=>{if(!ce(r))throw g.create("not-registered");const i=r.authToken;if(!t&&le(i))return r;if(1===i.requestStatus)return n=ie(e,t),r;{if(!navigator.onLine)throw g.create("app-offline");const t=he(r);return n=ae(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function ie(e,t){return se.apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(e,t){let n=yield oe(e.appConfig);for(;1===n.authToken.requestStatus;)yield C(100),n=yield oe(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ne(e,t):r})).apply(this,arguments)}function oe(e){return j(e,e=>{if(!ce(e))throw g.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function ae(e,t){return ue.apply(this,arguments)}function ue(){return(ue=(0,s.Z)(function*(e,t){try{const n=yield X(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield U(e.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield U(e.appConfig,n)}else yield q(e.appConfig);throw n}})).apply(this,arguments)}function ce(e){return void 0!==e&&2===e.registrationStatus}function le(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function he(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function de(){return(de=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield B(t.appConfig);return r?r.catch(console.error):ne(t).catch(console.error),n.fid})).apply(this,arguments)}function fe(){return(fe=(0,s.Z)(function*(e,t=!1){const n=e;return yield pe(n.appConfig),(yield ne(n,t)).token})).apply(this,arguments)}function pe(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,s.Z)(function*(e){const{registrationPromise:t}=yield B(e);t&&(yield t)})).apply(this,arguments)}function me(e){return g.create("missing-app-config-values",{valueName:e})}const ye="installations";(0,o._registerComponent)(new u.wA(ye,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw me("App Configuration");if(!e.name)throw me("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw me(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,o._getProvider)(t,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new u.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,ye).getImmediate();return{getId:()=>function(e){return de.apply(this,arguments)}(n),getToken:e=>function(e){return fe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const ve="@firebase/remote-config",we="0.3.1",be=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _e{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Te(e=navigator){return e.languages&&e.languages[0]||e.language}class Ie{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:t.appId,language_code:Te()},a={method:"POST",headers:s,body:JSON.stringify(o)},u=fetch(i,a),c=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let l;try{yield Promise.race([u,c]),l=yield u}catch(g){let e="fetch-client-network";throw"AbortError"===g.name&&(e="fetch-timeout"),be.create(e,{originalErrorMessage:g.message})}let h=l.status;const d=l.headers.get("ETag")||void 0;let f,p;if(200===l.status){let e;try{e=yield l.json()}catch(g){throw be.create("fetch-client-parse",{originalErrorMessage:g.message})}f=e.entries,p=e.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw be.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class Ee{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(be.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Se{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ae(e,t){const n=e.target.error||void 0;return be.create(t,{originalErrorMessage:n&&n.message})}const Ce="app_namespace_store";class ke{constructor(e,t,n,r=function(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Ae(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Ce,{keyPath:"compositeKey"})}}}catch(n){t(be.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Ce],"readonly").objectStore(Ce),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{i(Ae(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(a){i(be.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([Ce],"readwrite").objectStore(Ce),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(Ae(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(u){s(be.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Ce],"readwrite").objectStore(Ce),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{i(Ae(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(a){i(be.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Oe(){return(Oe=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw be.create("registration-window");if(!(0,a.hl)())throw be.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:u}=n.options;if(!i)throw be.create("registration-project-id");if(!s)throw be.create("registration-api-key");if(!u)throw be.create("registration-app-id");const l=new ke(u,n.name,t=t||"firebase"),h=new xe(l),d=new c.Yd(ve);d.logLevel=c.in.ERROR;const f=new Ie(r,o.SDK_VERSION,t,i,s,u),p=new Ee(f,l),g=new _e(p,l,h,d),m=new Se(n,g,h,l,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(ve,we),(0,o.registerVersion)(ve,we,"esm2017");const Ne="/firebase-messaging-sw.js",Re="/firebase-cloud-messaging-push-scope",Pe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var De=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}({});function Le(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Me(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const Ze="fcm_token_details_db",Ue="fcm_token_object_Store";function Fe(e){return qe.apply(this,arguments)}function qe(){return(qe=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(Ze))return null;let t=null;return(yield(0,l.openDb)(Ze,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2)return;if(!n.objectStoreNames.contains(Ue))return;const i=n.transaction.objectStore(Ue),s=yield i.index("fcmSenderId").get(e);if(yield i.clear(),s)if(2===n.oldVersion){const e=s;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(r=e.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Le(e.vapidKey)}}}else if(3===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Le(e.auth),p256dh:Le(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Le(e.vapidKey)}}}else if(4===n.oldVersion){const e=s;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Le(e.auth),p256dh:Le(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Le(e.vapidKey)}}}});return function(e){return n.apply(this,arguments)}}())).close(),yield(0,l.deleteDb)(Ze),yield(0,l.deleteDb)("fcm_vapid_details_db"),yield(0,l.deleteDb)("undefined"),Ve(t)?t:null})).apply(this,arguments)}function Ve(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const je="firebase-messaging-store";let ze=null;function Be(){return ze||(ze=(0,l.openDb)("firebase-messaging-database",1,e=>{switch(e.oldVersion){case 0:e.createObjectStore(je)}})),ze}function He(e){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(e){const t=Ye(e),n=yield Be(),r=yield n.transaction(je).objectStore(je).get(t);if(r)return r;{const t=yield Fe(e.appConfig.senderId);if(t)return yield Ge(e,t),t}})).apply(this,arguments)}function Ge(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,s.Z)(function*(e,t){const n=Ye(e),r=(yield Be()).transaction(je,"readwrite");return yield r.objectStore(je).put(t,n),yield r.complete,t})).apply(this,arguments)}function We(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(e){const t=Ye(e),n=(yield Be()).transaction(je,"readwrite");yield n.objectStore(je).delete(t),yield n.complete})).apply(this,arguments)}function Ye({appConfig:e}){return e.appId}const Je=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xe(e,t){return et.apply(this,arguments)}function et(){return(et=(0,s.Z)(function*(e,t){const n=yield ot(e),r=ut(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=yield fetch(st(e.appConfig),i);s=yield t.json()}catch(o){throw Je.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Je.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Je.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(e,t){const n=yield ot(e),r=ut(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=yield fetch(`${st(e.appConfig)}/${t.token}`,i);s=yield n.json()}catch(o){throw Je.create("token-update-failed",{errorInfo:o})}if(s.error)throw Je.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Je.create("token-update-no-token");return s.token})).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield ot(e)};try{const r=yield fetch(`${st(e.appConfig)}/${t}`,n),i=yield r.json();if(i.error)throw Je.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(r){throw Je.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function st({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function ot(e){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ut({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Pe&&(i.web.applicationPubKey=r),i}const ct=6048e5;function lt(e){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(e){const t=yield vt(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Le(t.getKey("auth")),p256dh:Le(t.getKey("p256dh"))},r=yield He(e.firebaseDependencies);if(r){if(bt(r.subscriptionOptions,n))return Date.now()>=r.createTime+ct?pt(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield rt(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return mt(e.firebaseDependencies,n)}return mt(e.firebaseDependencies,n)})).apply(this,arguments)}function dt(e){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.Z)(function*(e){const t=yield He(e.firebaseDependencies);t&&(yield rt(e.firebaseDependencies,t.token),yield We(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function pt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(e,t){try{const n=yield tt(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Ge(e.firebaseDependencies,r),n}catch(n){throw yield dt(e),n}})).apply(this,arguments)}function mt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(e,t){const n={token:yield Xe(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Ge(e,n),n.token})).apply(this,arguments)}function vt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Me(t)})})).apply(this,arguments)}function bt(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function _t(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function Tt(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function It(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Et(e){return Je.create("missing-app-config-values",{valueName:e})}It("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),It("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class St{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Et("App Configuration Object");if(!e.name)throw Et("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Et(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function At(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Ne,{scope:Re}),e.swRegistration.update().catch(()=>{})}catch(t){throw Je.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function kt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=(0,s.Z)(function*(e,t){if(t||e.swRegistration||(yield At(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Je.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Ot(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Pe)})).apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(e,t){if(!navigator)throw Je.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Je.create("permission-blocked");return yield Ot(e,null==t?void 0:t.vapidKey),yield kt(e,null==t?void 0:t.serviceWorkerRegistration),lt(e)})).apply(this,arguments)}function Pt(e,t,n){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(e,t,n){const r=Lt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lt(e){switch(e){case De.NOTIFICATION_CLICKED:return"notification_open";case De.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Mt(){return(Mt=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===De.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(_t(n)):e.onMessageHandler.next(_t(n)));const r=n.data;Tt(r)&&"1"===r["google.c.a.e"]&&(yield Pt(e,n.messageType,r))})).apply(this,arguments)}const Zt="@firebase/messaging",Ut="0.9.2";function Ft(){return(Ft=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("messaging",e=>{const t=new St(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Mt.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new u.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Rt.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(Zt,Ut),(0,o.registerVersion)(Zt,Ut,"esm2017");const qt="analytics",Vt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jt="https://www.googletagmanager.com/gtag/js",zt=new c.Yd("@firebase/analytics");function Bt(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Ht(e,t){const n=document.createElement("script");n.src=`${jt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function $t(e,t,n,r,i,s){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield Bt(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){zt.error(a)}e("config",i,s)})).apply(this,arguments)}function Kt(e,t,n,r,i){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield Bt(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){zt.error(s)}})).apply(this,arguments)}function Qt(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(jt))return t;return null}const Yt=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jt=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Xt(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Xt(r)},s=Vt.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Yt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function nn(e){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(e,t=Jt,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Yt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Yt.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new cn;return setTimeout((0,s.Z)(function*(){u.abort()}),void 0!==n?n:6e4),sn({appId:r,apiKey:i,measurementId:o},a,u,t)})).apply(this,arguments)}function sn(e,t,n){return on.apply(this,arguments)}function on(){return(on=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Jt){const{appId:s,measurementId:o}=e;try{yield an(r,t)}catch(u){if(o)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}try{const t=yield en(e);return i.deleteThrottleMetadata(s),t}catch(u){if(!un(u)){if(i.deleteThrottleMetadata(s),o)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}const t=503===Number(u.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,c),zt.debug(`Calling attemptFetch again in ${t} millis`),sn(e,c,r,i)}})).apply(this,arguments)}function an(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Yt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function un(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class cn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function ln(){return hn.apply(this,arguments)}function hn(){return(hn=(0,s.Z)(function*(){if(!(0,a.hl)())return zt.warn(Yt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return zt.warn(Yt.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const u=nn(e);u.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>zt.error(e)),t.push(u);const c=ln().then(e=>e?r.getId():void 0),[l,h]=yield Promise.all([u,c]);Qt()||Ht(s,l.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",l.measurementId,d),l.measurementId})).apply(this,arguments)}class fn{constructor(e){this.app=e}_delete(){return delete pn[this.app.options.appId],Promise.resolve()}}let pn={},gn=[];const mn={};let yn,vn,wn="dataLayer",bn=!1;function _n(){return(_n=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const In="@firebase/analytics",En="0.7.2";(0,o._registerComponent)(new u.wA(qt,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Yt.create("invalid-analytics-context",{errorInfo:t});zt.warn(n.message)}}();const r=e.options.appId;if(!r)throw Yt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Yt.create("no-api-key");zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pn[r])throw Yt.create("already-exists",{id:r});if(!bn){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield Kt(e,t,n,s,o):"config"===i?yield $t(e,t,n,r,s,o):e("set",s)}catch(a){zt.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window.gtag}}(pn,gn,mn);vn=e,yn=t,bn=!0}return pn[r]=function(e,t,n,r,i,s,o){return dn.apply(this,arguments)}(e,gn,mn,t,yn,wn,n),new fn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new u.wA("analytics-internal",function(e){try{const t=e.getProvider(qt).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return _n.apply(this,arguments)}(vn,pn[e.app.options.appId],t,n,r).catch(e=>zt.error(e))}(t,e,n,r)}}catch(t){throw Yt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(In,En),(0,o.registerVersion)(In,En,"esm2017");var Sn=n(9517),An=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return(0,Sn.ZT)(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(5755).o),Cn=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Sn.ZT)(t,e),t}(n(6160).v))(An),kn=n(7462),xn=n(7979),On=n(2314),Nn=n(1989),Rn=n(7038),Pn=n(9879),Dn=n(3073),Ln=n(1034);const Mn=new r.GfV("7.1.1"),Zn="__angularfire_symbol__analyticsIsSupported",Un="__angularfire_symbol__remoteConfigIsSupported",Fn="__angularfire_symbol__messagingIsSupported";function qn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Zn]||(globalThis[Zn]=function(){return Tn.apply(this,arguments)}().then(e=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=e)),globalThis[Fn]||(globalThis[Fn]=function(){return Ft.apply(this,arguments)}().then(e=>globalThis.__angularfire_symbol__messagingIsSupportedValue=e)),globalThis[Un]||(globalThis[Un]=function(){return Oe.apply(this,arguments)}().then(e=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e));const Vn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function jn(){}class zn{constructor(e,t=Cn){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class Bn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jn,{},jn,jn)),t.pipe((r={next:n,complete:n,error:n},i=(0,On.m)(r)?{next:r,error:undefined,complete:undefined}:r,i?(0,Nn.e)(function(e,t){var n;null===(n=i.subscribe)||void 0===n||n.call(i);var r=!0;e.subscribe(new Rn.Q(t,function(e){var n;null===(n=i.next)||void 0===n||n.call(i,e),t.next(e)},function(){var e;r=!1,null===(e=i.complete)||void 0===e||e.call(i),t.complete()},function(e){var n;r=!1,null===(n=i.error)||void 0===n||n.call(i,e),t.error(e)},function(){var e,t;r&&(null===(e=i.unsubscribe)||void 0===e||e.call(i)),null===(t=i.finalize)||void 0===t||t.call(i)}))}):Pn.y)).subscribe(e).add(n);var r,i}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new zn(Zone.current)),this.insideAngular=e.run(()=>new zn(Zone.current,kn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $n(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Gn(e){return $n().ngZone.runOutsideAngular(()=>e())}function Kn(e){return $n().ngZone.run(()=>e())}function Wn(e){return $n(),(t=$n(),function(e){return(e=e.lift(new Bn(t.ngZone))).pipe((0,Dn.R)(t.outsideAngular),(0,Ln.Q)(t.insideAngular))})(e);var t}const Qn=(e,t)=>{const n=void 0;return function(){return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Kn(()=>e.apply(n,arguments))}},Yn=(e,t)=>function(){let n;for(let e=0;e<arguments.length;e++)"function"==typeof arguments[e]&&(t&&(n||(n=Kn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jn,{},jn,jn)))),arguments[e]=Qn(arguments[e],n));const r=Gn(()=>e.apply(this,arguments));if(!t){if(r instanceof xn.y){const e=$n();return r.pipe((0,Dn.R)(e.outsideAngular),(0,Ln.Q)(e.insideAngular))}return Kn(()=>r)}return r instanceof xn.y?r.pipe(Wn):r instanceof Promise?Kn(()=>new Promise((e,t)=>r.then(t=>Kn(()=>e(t)),e=>Kn(()=>t(e))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:Kn(()=>r)}},7979:(e,t,n)=>{"use strict";n.d(t,{y:()=>h});var r=n(575),i=n(9089),s=n(4157),o=n(9879);function a(e){return 0===e.length?o.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var u=n(7422),c=n(2314),l=n(471),h=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var s,o=this,a=(s=e)&&s instanceof r.Lv||function(e){return e&&(0,c.m)(e.next)&&(0,c.m)(e.error)&&(0,c.m)(e.complete)}(s)&&(0,i.Nn)(s)?e:new r.Hp(e,t,n);return(0,l.x)(function(){var e=o.operator,t=o.source;a.add(e?e.call(a,t):t?o._subscribe(a):o._trySubscribe(a))}),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),null==i||i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[s.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!=e?e:u.v.Promise)&&void 0!==t?t:Promise}},575:(e,t,n)=>{"use strict";n.d(t,{Hp:()=>p,Lv:()=>f});var r=n(9517),i=n(2314),s=n(9089),o=n(7422),a=n(4608),u=n(4953),c=l("C",void 0,void 0);function l(e,t,n){return{kind:e,value:t,error:n}}var h=n(8827),d=n(471),f=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,s.Nn)(t)&&t.add(n)):n.destination=v,n}return(0,r.ZT)(t,e),t.create=function(e,t,n){return new p(e,t,n)},t.prototype.next=function(e){this.isStopped?y(function(e){return l("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?y(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?y(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(s.w0),p=function(e){function t(t,n,r){var s,a=e.call(this)||this;if((0,i.m)(t))s=t;else if(t){var c;s=t.next,n=t.error,r=t.complete,a&&o.v.useDeprecatedNextContext?(c=Object.create(t)).unsubscribe=function(){return a.unsubscribe()}:c=t,s=null==s?void 0:s.bind(c),n=null==n?void 0:n.bind(c),r=null==r?void 0:r.bind(c)}return a.destination={next:s?g(s):u.Z,error:g(null!=n?n:m),complete:r?g(r):u.Z},a}return(0,r.ZT)(t,e),t}(f);function g(e,t){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,(0,r.ev)([],(0,r.CR)(t)))}catch(i){o.v.useDeprecatedSynchronousErrorHandling?(0,d.O)(i):(0,a.h)(i)}}}function m(e){throw e}function y(e,t){var n=o.v.onStoppedNotification;n&&h.z.setTimeout(function(){return n(e,t)})}var v={closed:!0,next:u.Z,error:m,complete:u.Z}},9089:(e,t,n)=>{"use strict";n.d(t,{Lc:()=>u,w0:()=>a,Nn:()=>c});var r=n(9517),i=n(2314),s=(0,n(3095).d)(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}),o=n(5697),a=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,o,a;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=(0,r.XA)(u),h=c.next();!h.done;h=c.next())h.value.remove(this)}catch(y){e={error:y}}finally{try{h&&!h.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else u.remove(this);var d=this.initialTeardown;if((0,i.m)(d))try{d()}catch(v){a=v instanceof s?v.errors:[v]}var f=this._teardowns;if(f){this._teardowns=null;try{for(var p=(0,r.XA)(f),g=p.next();!g.done;g=p.next()){var m=g.value;try{l(m)}catch(w){a=null!=a?a:[],w instanceof s?a=(0,r.ev)((0,r.ev)([],(0,r.CR)(a)),(0,r.CR)(w.errors)):a.push(w)}}}catch(b){n={error:b}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}}if(a)throw new s(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,o.P)(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&(0,o.P)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),u=a.EMPTY;function c(e){return e instanceof a||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function l(e){(0,i.m)(e)?e():e.unsubscribe()}},7422:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7038:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var r=n(9517),i=function(e){function t(t,n,r,i,s){var o=e.call(this,t)||this;return o.onFinalize=s,o._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,o._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return(0,r.ZT)(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(n(575).Lv)},1034:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var r=n(2548),i=n(1989),s=n(7038);function o(e,t){return void 0===t&&(t=0),(0,i.e)(function(n,i){n.subscribe(new s.Q(i,function(n){return(0,r.f)(i,e,function(){return i.next(n)},t)},function(){return(0,r.f)(i,e,function(){return i.complete()},t)},function(n){return(0,r.f)(i,e,function(){return i.error(n)},t)}))})}},3073:(e,t,n)=>{"use strict";n.d(t,{R:()=>i});var r=n(1989);function i(e,t){return void 0===t&&(t=0),(0,r.e)(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}},5755:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(9517),i=function(e){function t(t,n){return e.call(this)||this}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(9089).w0),s={setInterval:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,(0,r.ev)([],(0,r.CR)(e)))},clearInterval:function(e){var t=s.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},o=n(5697),a=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),s.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;s.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,o.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i)},6160:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(9517),i=n(8890),s=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=i.l.now,e}(),o=function(e){function t(t,n){void 0===n&&(n=s.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return(0,r.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(s)},7462:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>s});var r=n(5755),i=new(n(6160).v)(r.o),s=i},8890:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r={now:function(){return(r.delegate||Date).now()},delegate:void 0}},8827:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(9517),i={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=i.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,(0,r.ev)([],(0,r.CR)(e)))},clearTimeout:function(e){var t=i.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},4157:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},5697:(e,t,n)=>{"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:()=>r})},3095:(e,t,n)=>{"use strict";function r(e){var t=e(function(e){Error.call(e),e.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:()=>r})},471:(e,t,n)=>{"use strict";n.d(t,{x:()=>s,O:()=>o});var r=n(7422),i=null;function s(e){if(r.v.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var n=i;if(i=null,n.errorThrown)throw n.error}}else e()}function o(e){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},2548:(e,t,n)=>{"use strict";function r(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}n.d(t,{f:()=>r})},9879:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},2314:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},1989:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(2314);function i(e){return function(t){if(function(e){return(0,r.m)(null==e?void 0:e.lift)}(t))return t.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}},4953:(e,t,n)=>{"use strict";function r(){}n.d(t,{Z:()=>r})},4608:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var r=n(7422),i=n(8827);function s(e){i.z.setTimeout(function(){var t=r.v.onUnhandledError;if(!t)throw e;t(e)})}},1932:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(5725),i=n(5119),s=n(7092),o=n(2134);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const u=new e(a,n);return t[a.name]=u,u},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw u.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.5",void 0)},7092:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>I,_DEFAULT_ENTRY_NAME:()=>h,_addComponent:()=>g,_addOrOverwriteComponent:()=>m,_apps:()=>f,_clearComponents:()=>b,_components:()=>p,_getProvider:()=>v,_registerComponent:()=>y,_removeServiceInstance:()=>w,deleteApp:()=>C,getApp:()=>S,getApps:()=>A,initializeApp:()=>E,onLog:()=>O,registerVersion:()=>x,setLogLevel:()=>N});var r=n(6304),i=n(5119),s=n(2134),o=n(5725);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const u="@firebase/app",c="0.7.4",l=new s.Yd("@firebase/app"),h="[DEFAULT]",d={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,p=new Map;function g(e,t){try{e.container.addComponent(t)}catch(n){l.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function m(e,t){e.container.addOrOverwriteComponent(t)}function y(e){const t=e.name;if(p.has(t))return l.debug(`There were multiple attempts to register component ${t}.`),!1;p.set(t,e);for(const n of f.values())g(n,e);return!0}function v(e,t){return e.container.getProvider(t)}function w(e,t,n=h){v(e,t).clearInstance(n)}function b(){p.clear()}const _=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class T{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _.create("app-deleted",{appName:this._name})}}const I="9.1.3";function E(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:h,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw _.create("bad-app-name",{appName:String(r)});const s=f.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw _.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of p.values())a.addComponent(i);const u=new T(e,n,a);return f.set(r,u),u}function S(e=h){const t=f.get(e);if(!t)throw _.create("no-app",{appName:e});return t}function A(){return Array.from(f.values())}function C(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(e){const t=e.name;f.has(t)&&(f.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function x(e,t,n){var r;let s=null!==(r=d[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void l.warn(e.join(" "))}y(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function O(e,t){if(null!==e&&"function"!=typeof e)throw _.create("invalid-log-argument");(0,s.Am)(e,t)}function N(e){(0,s.Ub)(e)}y(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),x(u,c,""),x(u,c,"esm2017"),x("fire-js","")},5119:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>u});var r=n(4762),i=n(5725),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){t={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},2134:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>c,Ub:()=>l,Am:()=>h});const r=[];var i=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({});const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},5725:(e,t,n)=>{"use strict";n.d(t,{BH:()=>u,LL:()=>S,ZR:()=>E,zI:()=>T,US:()=>i,tV:()=>o,$s:()=>Z,r3:()=>C,Sg:()=>c,ne:()=>D,vZ:()=>x,ZB:()=>a,pd:()=>P,Rd:()=>I,m9:()=>U,z$:()=>l,jU:()=>f,ru:()=>p,d:()=>m,xb:()=>k,w1:()=>y,hl:()=>b,uI:()=>h,UG:()=>d,b$:()=>g,G6:()=>w,Mn:()=>v,xO:()=>N,zd:()=>R,eu:()=>_});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,u=a?e[i+2]:0;let c=(15&o)<<2|u>>6,l=63&u;a||(l=64,s||(c=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[c],n[l])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function c(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return l().indexOf("Electron/")>=0}function y(){const e=l();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return l().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"object"==typeof indexedDB}function _(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function T(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}function I(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(A,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new E(r,`${this.serviceName}: ${s} (${r}).`,n)}}const A=/\{\$([^}]+)}/g;function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function k(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(O(n)&&O(s)){if(!x(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O(e){return null!==e&&"object"==typeof e}function N(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function R(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function P(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function D(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M(){}function Z(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function U(e){return e&&e._delegate?e._delegate:e}},1858:(e,t,n)=>{"use strict";n.d(t,{P2:()=>r.deleteApp,Mq:()=>r.getApp,C6:()=>r.getApps,ZF:()=>r.initializeApp,TP:()=>r.onLog,KN:()=>r.registerVersion,Ub:()=>r.setLogLevel});var r=n(7092);(0,r.registerVersion)("firebase","9.1.3","app")},9001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(1932);r.Z.registerVersion("firebase","9.1.3","app-compat")},6268:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(1932),s=n(5725),o=n(7092),a=n(4762),u=n(2134),c=n(5119);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new u.Yd("@firebase/auth");function f(e,...t){d.logLevel<=u.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function p(e,...t){throw v(e,...t)}function g(e,...t){return v(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function y(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&p(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function w(e,t,...n){if(!e)throw v(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function _(e,t){e||b(t)}const T=new Map;function I(e){_(e instanceof Function,"Expected a class definition");let t=T.get(e);return t?(_(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,T.set(e,t),t)}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===A()||"https:"===A()}function A(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,_(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(S()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function k(e,t){_(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class x{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},N=new C(3e4,6e4);function R(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function P(e,t,n,r){return D.apply(this,arguments)}function D(){return(D=(0,r.Z)(function*(e,t,n,r,i={}){return L(e,i,()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),u=new(x.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&u.set("X-Firebase-Locale",e.languageCode),x.fetch()(F(e,e.config.apiHost,n,a),Object.assign({method:t,headers:u,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function L(e,t,n){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},O),t);try{const t=new q(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw V(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw V(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw V(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(e,a,o);p(e,a)}}catch(i){if(i instanceof s.ZR)throw i;p(e,"network-request-failed")}})).apply(this,arguments)}function Z(e,t,n,r){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield P(e,t,n,r,i);return"mfaPendingCredential"in s&&p(e,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function F(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?k(e.config,i):`${e.config.apiScheme}://${i}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"timeout")),N.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function V(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function j(){return(j=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function z(e,t){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function H(e,t){return $.apply(this,arguments)}function $(){return($=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(){return(K=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=Q(r);w(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:G(W(i.auth_time)),issuedAtTime:G(W(i.iat)),expirationTime:G(W(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function W(e){return 1e3*Number(e)}function Q(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(i){return f("Caught error parsing JWT payload as JSON",i),null}}function Y(e,t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&X(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function X({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Y(e,H(n,{idToken:r}));w(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oe(s.providerUserInfo):[],a=se(e.providerData,o),u=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new te(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,c)})).apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield ne(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function se(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function oe(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ae(){return(ae=(0,r.Z)(function*(e,t){const n=yield L(e,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=F(e,r,"/v1/token",`key=${i}`);return x.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w(void 0!==e.idToken,"internal-error"),w(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Q(e);return w(t,"internal-error"),w(void 0!==t.exp,"internal-error"),w(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return w(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ae.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new ue;return n&&(w("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(w("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(w("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return b("not implemented")}}function ce(e,t){w("string"==typeof e||void 0===e,"internal-error",{appName:t})}class le{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new te(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield Y(t,t.stsTokenManager.getToken(t.auth,e));return w(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return K.apply(this,arguments)}(this,e)}reload(){return function(e){return ie.apply(this,arguments)}(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new le(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ne(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield Y(e,function(e,t){return j.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:_,providerData:T,stsTokenManager:I}=t;w(v&&I,e,"internal-error");const E=ue.fromJSON(this.name,I);w("string"==typeof v,e,"internal-error"),ce(l,e.name),ce(h,e.name),w("boolean"==typeof b,e,"internal-error"),w("boolean"==typeof _,e,"internal-error"),ce(d,e.name),ce(f,e.name),ce(p,e.name),ce(g,e.name),ce(m,e.name),ce(y,e.name);const S=new le({uid:v,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:y});return T&&Array.isArray(T)&&(S.providerData=T.map(e=>Object.assign({},e))),g&&(S._redirectEventId=g),S}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ue;r.updateFromServerResponse(t);const i=new le({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ne(i),i})()}}const he=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function de(e,t,n){return`firebase:${e}:${t}:${n}`}class fe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=de(this.userKey,r.apiKey,i),this.fullPersistenceKey=de("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?le._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new fe(I(he),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||I(he);const o=de(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=le._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const u=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new fe(s,e,n)):new fe(s,e,n)})()}}function pe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ve(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(_e(t))return"Webos";if(me(t))return"Safari";if((t.includes("chrome/")||ye(t))&&!t.includes("edge/"))return"Chrome";if(we(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function ge(e=(0,s.z$)()){return/firefox\//i.test(e)}function me(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ye(e=(0,s.z$)()){return/crios\//i.test(e)}function ve(e=(0,s.z$)()){return/iemobile/i.test(e)}function we(e=(0,s.z$)()){return/android/i.test(e)}function be(e=(0,s.z$)()){return/blackberry/i.test(e)}function _e(e=(0,s.z$)()){return/webos/i.test(e)}function Te(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Ie(e=(0,s.z$)()){return Te(e)||we(e)||_e(e)||be(e)||/windows phone/i.test(e)||ve(e)}function Ee(e,t=[]){let n;switch(e){case"Browser":n=pe((0,s.z$)());break;case"Worker":n=`${pe((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Se{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ce(this),this.idTokenSubscription=new Ce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=I(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r;n._deleted||(n.persistenceManager=yield fe.create(n,e),n._deleted||((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(t),n._deleted||(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(w(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ne(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&w(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&w(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(I(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&I(e)||t._popupRedirectResolver;w(n,t,"argument-error"),t.redirectPersistenceManager=yield fe.create(t,[I(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return w(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ee(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ae(e){return(0,s.m9)(e)}class Ce{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ke(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Oe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}function Ne(e,t){return Re.apply(this,arguments)}function Re(){return(Re=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:resetPassword",R(e,t))})).apply(this,arguments)}function Pe(e,t){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Le(e,t){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",R(e,t))})).apply(this,arguments)}function Ze(){return(Ze=(0,r.Z)(function*(e,t){return Z(e,"POST","/v1/accounts:signInWithPassword",R(e,t))})).apply(this,arguments)}function Ue(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:sendOobCode",R(e,t))})).apply(this,arguments)}function qe(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function je(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Be(e,t){return He.apply(this,arguments)}function He(){return(He=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function $e(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return Z(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))})).apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return Z(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))})).apply(this,arguments)}class Qe extends Oe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Qe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Ze.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return Ke.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:p(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Pe(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return We.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:p(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Ye(e,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(e,t){return Z(e,"POST","/v1/accounts:signInWithIdp",R(e,t))})).apply(this,arguments)}class Xe extends Oe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Xe(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Ye(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ye(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ye(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:sendVerificationCode",R(e,t))})).apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return Z(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){const n=yield Z(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t));if(n.temporaryProof)throw V(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const it={USER_NOT_FOUND:"user-not-found"};function st(){return(st=(0,r.Z)(function*(e,t){return Z(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),it)})).apply(this,arguments)}class ot extends Oe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ot({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ot({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return nt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return st.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ot({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class at{constructor(e){var t,n,r,i,o,a;const u=(0,s.zd)((0,s.pd)(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);w(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(i=u.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new at(t)}catch(n){return null}}}let ut=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=at.parseLink(t);return w(n,"argument-error"),Qe._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class ct{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lt extends ct{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ht extends lt{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return w("providerId"in t&&"signInMethod"in t,"argument-error"),Xe._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return w(e.idToken||e.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ht.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ht.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ht(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let dt=(()=>{class e extends lt{constructor(){super("facebook.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),ft=(()=>{class e extends lt{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),pt=(()=>{class e extends lt{constructor(){super("github.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class gt extends Oe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ye(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ye(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ye(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new gt(n,i):null}static _create(e,t){return new gt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let mt=(()=>{class e extends lt{constructor(){super("twitter.com")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function yt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,r.Z)(function*(e,t){return Z(e,"POST","/v1/accounts:signUp",R(e,t))})).apply(this,arguments)}class wt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield le._fromIdTokenResponse(e,n,i),s=bt(n);return new wt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=bt(n);return new wt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function bt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function _t(){return(_t=(0,r.Z)(function*(e){var t;const n=Ae(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new wt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield yt(n,{returnSecureToken:!0}),i=yield wt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Tt extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new Tt(e,t,n,r)}}function It(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Tt._fromErrorAndOperation(e,n,t,r);throw n})}function Et(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function St(){return(St=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield kt(!0,n,t);const{providerUserInfo:r}=yield z(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=Et(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function At(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,r.Z)(function*(e,t,n=!1){const r=yield Y(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return wt._forOperation(e,"link",r)})).apply(this,arguments)}function kt(e,t,n){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e,t,n){yield ne(t);const r=!1===e?"provider-already-linked":"no-such-provider";w(Et(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Ot(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield Y(e,It(r,i,t,e),n);w(s.idToken,r,"internal-error");const o=Q(s.idToken);w(o,r,"internal-error");const{sub:a}=o;return w(e.uid===a,r,"user-mismatch"),wt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&p(r,"user-mismatch"),s}})).apply(this,arguments)}function Rt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield It(e,r,t),s=yield wt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Dt(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(e,t){return Rt(Ae(e),t)})).apply(this,arguments)}function Mt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield kt(!1,n,t.providerId),At(n,t)})).apply(this,arguments)}function Ut(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(function*(e,t){return Ot((0,s.m9)(e),t)})).apply(this,arguments)}function qt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){return Z(e,"POST","/v1/accounts:signInWithCustomToken",R(e,t))})).apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(e,t){const n=Ae(e),r=yield qt(n,{token:t,returnSecureToken:!0}),i=yield wt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class zt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Bt._fromServerResponse(e,t):p(e,"internal-error")}}class Bt extends zt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Bt(t)}}function Ht(e,t,n){var r;w((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),w(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(w(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(w(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $t(){return($t=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Ht(r,i,n),yield je(r,i)})).apply(this,arguments)}function Gt(){return(Gt=(0,r.Z)(function*(e,t,n){yield Ne((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t){yield Le((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Wt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Ne(n,{oobCode:t}),i=r.requestType;switch(w(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":w(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":w(r.mfaInfo,n,"internal-error");default:w(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=zt._fromServerResponse(Ae(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){const{data:n}=yield Wt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t,n){const r=Ae(e),i=yield yt(r,{returnSecureToken:!0,email:t,password:n}),s=yield wt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};w(n.handleCodeInApp,r,"argument-error"),n&&Ht(r,i,n),yield Be(r,i)})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=ut.credentialWithLink(t,n||E());return w(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Dt(r,i)})).apply(this,arguments)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:createAuthUri",R(e,t))})).apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:S()?E():"http://localhost"},{signinMethods:r}=yield tn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Ht(n.auth,r,t);const{email:i}=yield qe(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Ht(r.auth,i,n);const{email:o}=yield $e(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function an(e,t){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(e,t){return P(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield Y(r,an(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function ln(e,t,n){return hn.apply(this,arguments)}function hn(){return(hn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield Y(e,Pe(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class dn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class fn extends dn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class pn extends dn{constructor(e,t){super(e,"facebook.com",t)}}class gn extends fn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class mn extends dn{constructor(e,t){super(e,"google.com",t)}}class yn extends fn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function vn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Q(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new dn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new pn(s,i);case"github.com":return new gn(s,i);case"google.com":return new mn(s,i);case"twitter.com":return new yn(s,i,e.screenName||null);case"custom":case"anonymous":return new dn(s,null);default:return new dn(s,r,i)}}(n)}class wn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new wn("enroll",e)}static _fromMfaPendingCredential(e){return new wn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return wn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return wn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class bn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ae(e),i=(t.serverResponse.mfaInfo||[]).map(e=>zt._fromServerResponse(n,e));w(t.serverResponse.mfaPendingCredential,n,"internal-error");const s=wn._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new bn(s,i,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,s);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield wt._fromIdTokenResponse(n,t.operationType,i);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return w(t.user,n,"internal-error"),wt._forOperation(t.user,t.operationType,i);default:p(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function _n(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:start",R(e,t))}class Tn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>zt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Tn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return wn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield Y(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield Y(t.user,(s=t.user.auth,o={idToken:r,mfaEnrollmentId:n},P(s,"POST","/v2/accounts/mfaEnrollment:withdraw",R(s,o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const In=new WeakMap,En="__sak";class Sn{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(En,"1"),this.storage.removeItem(En),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const An=(()=>{class e extends Sn{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return me(e)||Te(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ie(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),Cn=(()=>{class e extends Sn{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let kn=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function xn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class On{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=xn("",20);r.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(l),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function Nn(){return window}function Rn(){return void 0!==Nn().WorkerGlobalScope&&"function"==typeof Nn().importScripts}function Pn(){return(Pn=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Dn="firebaseLocalStorageDb",Ln="firebaseLocalStorage",Mn="fbase_key";class Zn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Un(e,t){return e.transaction([Ln],t?"readwrite":"readonly").objectStore(Ln)}function Fn(){const e=indexedDB.open(Dn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ln,{keyPath:Mn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Ln)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Dn);return new Zn(e).toPromise()}(),t(yield Fn()))}))})}function qn(e,t,n){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,r.Z)(function*(e,t,n){const r=Un(e,!0).put({[Mn]:t,value:n});return new Zn(r).toPromise()})).apply(this,arguments)}function jn(){return(jn=(0,r.Z)(function*(e,t){const n=Un(e,!1).get(t),r=yield new Zn(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function zn(e,t){const n=Un(e,!0).delete(t);return new Zn(n).toPromise()}const Bn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Fn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Rn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=kn._getInstance(Rn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Pn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new On(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Fn();return yield qn(e,En,"1"),yield zn(e,En),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>qn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return jn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>zn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Un(e,!1).getAll();return new Zn(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Hn(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:start",R(e,t))}function $n(){return($n=(0,r.Z)(function*(e){return(yield P(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gn(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Kn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Wn=1e12;class Qn{constructor(e){this.auth=e,this.counter=Wn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Yn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Wn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Wn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Wn))||void 0===n||n.execute(),""})()}}class Yn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;w(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jn=Kn("rcb"),Xn=new C(3e4,6e4);class er{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nn().grecaptcha}load(e,t=""){return w(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Nn().grecaptcha):new Promise((n,r)=>{const i=Nn().setTimeout(()=>{r(g(e,"network-request-failed"))},Xn.get());Nn()[Jn]=()=>{Nn().clearTimeout(i),delete Nn()[Jn];const s=Nn().grecaptcha;if(!s)return void r(g(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Gn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Jn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Nn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class tr{load(e){return(0,r.Z)(function*(){return new Qn(e)})()}clearedOneInstance(){}}const nr="recaptcha",rr={theme:"light",type:"image"};class ir{constructor(e,t=Object.assign({},rr),n){this.parameters=t,this.type=nr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ae(n),this.isInvisible="invisible"===this.parameters.size,w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;w(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new tr:new er,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){w(!this.parameters.sitekey,this.auth,"argument-error"),w(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Nn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){w(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){w(S()&&!Rn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return $n.apply(this,arguments)}(e.auth);w(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return w(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ot._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function or(){return(or=(0,r.Z)(function*(e,t,n){const r=Ae(e),i=yield cr(r,t,(0,s.m9)(n));return new sr(i,e=>Dt(r,e))})).apply(this,arguments)}function ar(){return(ar=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield kt(!1,r,"phone");const i=yield cr(r.auth,t,(0,s.m9)(n));return new sr(i,e=>Mt(r,e))})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield cr(r.auth,t,(0,s.m9)(n));return new sr(i,e=>Ut(r,e))})).apply(this,arguments)}function cr(e,t,n){return lr.apply(this,arguments)}function lr(){return(lr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(w("string"==typeof i,e,"argument-error"),w(n.type===nr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return w("enroll"===t.type,e,"internal-error"),(yield _n(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{w("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return w(n,e,"missing-multi-factor-info"),(yield Hn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield et(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(e,t){yield At((0,s.m9)(e),t)})).apply(this,arguments)}let dr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Ae(t)}verifyPhoneNumber(e,t){return cr(this.auth,e,(0,s.m9)(t))}static credential(e,t){return ot._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ot._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function fr(e,t){return t?I(t):(w(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class pr extends Oe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ye(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ye(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ye(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gr(e){return Rt(e.auth,new pr(e),e.bypassAuthState)}function mr(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),Ot(n,new pr(e),e.bypassAuthState)}function yr(e){return vr.apply(this,arguments)}function vr(){return(vr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return w(n,t,"internal-error"),At(n,new pr(e),e.bypassAuthState)})).apply(this,arguments)}class wr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const u={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(u))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gr;case"linkViaPopup":case"linkViaRedirect":return yr;case"reauthViaPopup":case"reauthViaRedirect":return mr;default:p(this.auth,"internal-error")}}resolve(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const br=new C(2e3,1e4);function _r(){return(_r=(0,r.Z)(function*(e,t,n){const r=Ae(e);y(e,t,ct);const i=fr(r,n);return new Er(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Tr(){return(Tr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=fr(r.auth,n);return new Er(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Ir(){return(Ir=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=fr(r.auth,n);return new Er(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Er=(()=>{class e extends wr{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return w(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){_(1===e.filter.length,"Popup operations only handle one event");const t=xn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,br.get())};e()}}return e.currentPopupAction=null,e})();const Sr=new Map;class Ar extends wr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Sr.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return Cr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Sr.set(t.auth._key(),n)}return n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function Cr(){return(Cr=(0,r.Z)(function*(e,t){const n=Nr(t),r="true"===(yield Or(e)._get(n));return yield Or(e)._remove(n),r})).apply(this,arguments)}function kr(e,t){return xr.apply(this,arguments)}function xr(){return(xr=(0,r.Z)(function*(e,t){return Or(e)._set(Nr(t),"true")})).apply(this,arguments)}function Or(e){return I(e._redirectPersistence)}function Nr(e){return de("pendingRedirect",e.config.apiKey,e.name)}function Rr(){return(Rr=(0,r.Z)(function*(e,t,n){const r=Ae(e);y(e,t,ct);const i=fr(r,n);return yield kr(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Pr(){return(Pr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=fr(r.auth,n);yield kr(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Dr(){return(Dr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=fr(r.auth,n);yield kt(!1,r,t.providerId),yield kr(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t){return yield Ae(e)._initializationPromise,Mr(e,t,!1)})).apply(this,arguments)}function Mr(e,t){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,r.Z)(function*(e,t,n=!1){const r=Ae(e),i=fr(r,t),s=new Ar(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Ur(e){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e){const t=xn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class qr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!jr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vr(e))}saveEventToCache(e){this.cachedEventUids.add(Vr(e)),this.lastProcessedEventTime=Date.now()}}function Vr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function jr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function zr(e){return Br.apply(this,arguments)}function Br(){return(Br=(0,r.Z)(function*(e,t={}){return P(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Hr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$r=/^https?/;function Gr(){return(Gr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield zr(e);for(const r of t)try{if(Kr(r))return}catch(n){}p(e,"unauthorized-domain")})).apply(this,arguments)}function Kr(e){const t=E(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$r.test(n))return!1;if(Hr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Wr=new C(3e4,6e4);function Qr(){const e=Nn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Yr=null;function Jr(e){return Yr=Yr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Qr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qr(),n(g(e,"network-request-failed"))},timeout:Wr.get()})}if(null===(i=null===(r=Nn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Nn().gapi)||void 0===s?void 0:s.load)){const t=Kn("iframefcb");return Nn()[t]=()=>{gapi.load?o():n(g(e,"network-request-failed"))},Gn(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw Yr=null,e})}(e),Yr}const Xr=new C(5e3,15e3),ei={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ti=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ni(e){const t=e.config;w(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?k(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ti.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ri(){return(ri=(0,r.Z)(function*(e){const t=yield Jr(e),n=Nn().gapi;return w(n,e,"internal-error"),t.open({where:document.body,url:ni(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ei,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),s=Nn().setTimeout(()=>{r(i)},Xr.get());function o(){Nn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ii={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class si{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function oi(e,t,n,r,i,a){w(e.config.authDomain,e,"auth-domain-config-required"),w(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof ct){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))u[e]=t}if(t instanceof lt){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(u.scopes=e.join(","))}e.tenantId&&(u.tid=e.tenantId);const c=u;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?k(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}const ai="webStorageSupport";class ui extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ui(e)}_finalizeEnroll(e,t,n){return function(e,t){return P(e,"POST","/v2/accounts/mfaEnrollment:finalize",R(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return P(e,"POST","/v2/accounts/mfaSignIn:finalize",R(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ci=(()=>{class e{constructor(){}static assertion(e){return ui._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var li,hi="@firebase/auth",di="0.18.3";class fi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pi(){return window}function gi(){return(gi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=pi();_(t.sessionId,"AuthEvent did not contain a session ID");const s=yield vi(t.sessionId),o={};return Te()?o.ibi=i.packageName:we()?o.apn=i.packageName:p(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,oi(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function mi(){return(mi=(0,r.Z)(function*(e){const{BuildInfo:t}=pi(),n={};Te()?n.iosBundleId=t.packageName:we()?n.androidPackageName=t.packageName:p(e,"operation-not-supported-in-this-environment"),yield zr(e,n)})).apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(e,t,n){const{cordova:r}=pi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(g(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),we()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function vi(e){return wi.apply(this,arguments)}function wi(){return(wi=(0,r.Z)(function*(e){const t=bi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bi(e){if(_(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}li="Browser",(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{w(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),w(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:li,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ee(li)},s=new Se(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(I);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{return t=Ae(e.getProvider("auth").getImmediate()),new fi(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(hi,di,void 0),(0,o.registerVersion)(hi,di,"esm2017");class _i extends qr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function Ti(e){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,r.Z)(function*(e){const t=yield Si()._get(Ai(e));return t&&(yield Si()._remove(Ai(e))),t})).apply(this,arguments)}function Ei(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Si(){return I(An)}function Ai(e){return de("authEvent",e.config.apiKey,e.name)}function Ci(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function ki(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function xi(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Oi(e=(0,s.z$)()){return!("file:"!==xi()&&"ionic:"!==xi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ni(){try{const e=self.localStorage,t=xn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Ri()&&(0,s.hl)()}return!1}function Ri(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pi(){return("http:"===xi()||"https:"===xi()||(0,s.ru)()||Oi())&&!((0,s.b$)()||(0,s.UG)())&&Ni()&&!Ri()}function Di(){return Oi()&&"undefined"!=typeof document}function Li(){return(Li=(0,r.Z)(function*(){return!!Di()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},Zi=w,Ui="persistence";function Fi(e){return qi.apply(this,arguments)}function qi(){return(qi=(0,r.Z)(function*(e){yield e._initializationPromise;const t=Vi(),n=de(Ui,e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())})).apply(this,arguments)}function Vi(){return"undefined"!=typeof window?window:null}const ji=w;class zi{constructor(){this.browserResolver=I(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cn,this._completeRedirectFn=Mr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;_(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=oi(e,t,n,E(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},ii),{width:r.toString(),height:i.toString(),top:o,left:a}),l=(0,s.z$)().toLowerCase();n&&(u=ye(l)?"_blank":n),ge(l)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Te(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==u)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new si(null);const d=window.open(t||"",u,h);w(d,e,"popup-blocked");try{d.focus()}catch(f){}return new si(d)}(e,a,xn())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=oi(e,t,n,E(),i),Nn().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ri.apply(this,arguments)}(e),r=new qr(e);return n.register("authEvent",t=>(w(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ai,{type:ai},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Gr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ie()||me()||Te()}}),this.cordovaResolver=I(class{constructor(){this._redirectPersistence=Cn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new _i(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){p(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,u,c,l;const h=pi();w("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),w(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),w("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),Sr.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Ei(),postBody:null,tenantId:e.tenantId,error:g(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Si()._set(Ai(e),t)}(e,a);const u=yield function(e,t,n){return gi.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=pi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(e,t,n){return yi.apply(this,arguments)}(e,r,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return mi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=pi(),o=setTimeout((0,r.Z)(function*(){yield Ti(e),t.onEvent(ki())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Ti(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ci(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ci(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ci(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ci(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?g(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||ki())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const u=i,c=`${s.packageName.toLowerCase()}://`;pi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof u)try{u(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Cn,this._completeRedirectFn=Mr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ji(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Li.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Bi(e){return e.unwrap()}function Hi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return dr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=ft;break;case"facebook.com":r=dt;break;case"github.com":r=pt;break;case"twitter.com":r=mt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?gt._create(n,o):Xe._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ht(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function $i(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Wi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return w(t.operationType,r,"argument-error"),w(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),bn._fromError(r,i)}(e,t));else if(r){const e=Hi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,Hi(n)),additionalUserInfo:vn(e),user:Qi.getOrCreate(t)};var n})}function Gi(e,t){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>$i(e,n.confirm(t))}})).apply(this,arguments)}class Wi{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return $i(Bi(this.auth),this.resolver.resolveSignIn(e))}}let Qi=(()=>{class e{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return In.has(t)||In.set(t,Tn._fromUser(t)),In.get(t)}(e)}static getOrCreate(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return $i(t.auth,Mt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Gi(n.auth,function(e,t,n){return ar.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return $i(t.auth,function(e,t,n){return Ir.apply(this,arguments)}(t._delegate,e,zi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Fi(Ae(t.auth)),function(e,t,n){return function(e,t,n){return Dr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return $i(t.auth,Ut(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Gi(this.auth,function(e,t,n){return ur.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return $i(this.auth,function(e,t,n){return Tr.apply(this,arguments)}(this._delegate,e,zi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield Fi(Ae(t.auth)),function(e,t,n){return function(e,t,n){return Pr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}sendEmailVerification(e){return function(e,t){return sn.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return St.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return ln((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return ln((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return hr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return cn.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return on.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}return e.USER_MAP=new WeakMap,e})();const Yi=w;let Ji=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Yi(n,"invalid-api-key",{appName:e.name});let r=[he];if("undefined"!=typeof window){r=function(e,t){const n=Vi();if(!(null==n?void 0:n.sessionStorage))return[];const r=de(Ui,e,t);switch(n.sessionStorage.getItem(r)){case Mi.NONE:return[he];case Mi.LOCAL:return[Bn,Cn];case Mi.SESSION:return[Cn];default:return[]}}(n,e.name);for(const e of[Bn,An,Cn])r.includes(e)||r.push(e)}Yi(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?zi:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Ae(e);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=ke(t),{host:o,port:a}=function(e){const t=ke(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:xe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:xe(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Kt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Wt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Gt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return $i(n._delegate,function(e,t,n){return Jt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return rn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=at.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Yi(Pi(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Lr.apply(this,arguments)}(e._delegate,zi);return t?$i(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Ae(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Xi(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Xi(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return Xt.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return $t.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Zi(Object.values(Mi).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Zi(t!==Mi.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Zi(t===Mi.NONE,e,"unsupported-persistence-type"):Ri()?Zi(t===Mi.NONE||t===Mi.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Zi(t===Mi.NONE||Ni(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Mi.SESSION:n=Cn;break;case Mi.LOCAL:n=(yield I(Bn)._isAvailable())?Bn:An;break;case Mi.NONE:n=he;break;default:return p("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return $i(this._delegate,function(e){return _t.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return $i(this._delegate,Dt(this._delegate,e))}signInWithCustomToken(e){return $i(this._delegate,function(e,t){return jt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return $i(this._delegate,function(e,t,n){return Dt((0,s.m9)(e),ut.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return $i(this._delegate,function(e,t,n){return en.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Gi(this._delegate,function(e,t,n){return or.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Yi(Pi(),t._delegate,"operation-not-supported-in-this-environment"),$i(t._delegate,function(e,t,n){return _r.apply(this,arguments)}(t._delegate,e,zi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Yi(Pi(),t._delegate,"operation-not-supported-in-this-environment"),yield Fi(t._delegate),function(e,t,n){return function(e,t,n){return Rr.apply(this,arguments)}(e,t,n)}(t._delegate,e,zi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Yt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Mi,e})();function Xi(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Qi.getOrCreate(e)),error:t,complete:n}}let es=(()=>{class e{constructor(){this.providerId="phone",this._delegate=new dr(Bi(i.Z.auth()))}static credential(e,t){return dr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}return e.PHONE_SIGN_IN_METHOD=dr.PHONE_SIGN_IN_METHOD,e.PROVIDER_ID=dr.PROVIDER_ID,e})();const ts=w;var ns;(ns=i.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ji(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ut,FacebookAuthProvider:dt,GithubAuthProvider:pt,GoogleAuthProvider:ft,OAuthProvider:ht,PhoneAuthProvider:es,PhoneMultiFactorGenerator:ci,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;ts(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new ir(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:mt,Auth:Ji,AuthCredential:Oe,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ns.registerVersion("@firebase/auth-compat","0.1.6")},2087:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,s=new Promise(function(s,o){n(i=e[t].apply(e,r)).then(s,o)});return s.request=i,s}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function s(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function f(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),s=i.request;return s&&(s.onupgradeneeded=function(e){n&&n(new f(s.result,e.oldVersion,s.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},8318:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(6673),i=n(5331),s=n(7498),o=n(6197),a=n(3392),u=n(1484);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=u.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},7498:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(1484),i=n(4294);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},3559:(e,t,n)=>{"use strict";n.d(t,{xQ:()=>l,Yc:()=>c});var r=n(8318),i=n(6673),s=n(7570),o=n(3895);class a extends s.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}var u=n(5331);class c extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},6673:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(5024),i=n(7498),s=n(7570),o=n(5331),a=n(1484),u=n(4294);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},7570:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(8470),i=n(2056),s=n(5024);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let a=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if((0,s.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){t=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(u(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var t;return e.EMPTY=((t=new e).closed=!0,t),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}},1484:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),s=n(6015);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function u(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2875:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>u});var r=n(3559),i=n(8318),s=n(7570),o=n(1564);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const u=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9764:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(8318),i=n(6015),s=n(7570),o=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[u.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},9342:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(8318),i=n(625),s=n(2570);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},9996:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(6673);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},7471:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(3982),i=n(3392);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},3982:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(9996),i=n(9764),s=n(6882);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}class u extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},1564:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(6673);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},2570:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(8318),i=n(7570);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},5686:(e,t,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,{hZ:()=>i});const i=r()},6197:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4294:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},3392:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},8470:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))()},9653:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},5024:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},2056:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},5168:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},6163:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},6015:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(625),i=n(4294),s=n(5686),o=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=e=>{if(e&&"function"==typeof e[o.L])return l=e,e=>{const t=l[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,u.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,l}},625:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},2541:(e,t,n)=>{"use strict";var r=n(8619);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:u,token:e,providedIn:"platform"}),e})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(o))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new w((0,r.LFG)(a),t&&t.origin||"")}const v=new r.OlP("appBaseHref");let w=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(v,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),_=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(I(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,I(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:T,token:e,providedIn:"root"}),e})();function T(){return new _((0,r.LFG)(m),(0,r.LFG)(a))}function I(e){return e.replace(/\/index.html$/,"")}var E=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});const S=r.kL8;class A{}let C=(()=>{class e extends A{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(S(t||this.locale)(e)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),k=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new x,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){O("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){O("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class x{constructor(){this.$implicit=null,this.ngIf=null}}function O(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:A,useClass:C}]}),e})();function R(e){return"server"===e}let P=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new D((0,r.LFG)(o),window)}),e})();class D{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=L(this.window.history)||L(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(Uv){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Uv){return!1}}}function L(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class M extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new M,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(U=U||document.querySelector("base"),U?U.getAttribute("href"):null);return null==t?null:function(e){Z=Z||document.createElement("a"),Z.setAttribute("href",e);const t=Z.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,e)}}let Z,U=null;const F=new r.OlP("TRANSITION_ID"),q=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[F,o,r.zs3],multi:!0}];class V{static init(){(0,r.VLi)(new V)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let j=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const z=new r.OlP("EventManagerPlugins");let B=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(z),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class H{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let $=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),G=(()=>{class e extends ${constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(K),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(K))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function K(e){s().remove(e)}const W={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Q=/%COMP%/g;function Y(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Y(e,i,n):(i=i.replace(Q,e),n.push(i))}return n}function J(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let X=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ee(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new te(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new ne(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Y(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(B),r.LFG(G),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class ee{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(W[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=W[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=W[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,J(n)):this.eventManager.addEventListener(e,t,J(n))}}class te extends ee{constructor(e,t,n,r){super(e),this.component=n;const i=Y(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Q,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Q,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class ne extends ee{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Y(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let re=(()=>{class e extends H{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ie=["alt","control","meta","shift"],se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ae={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ue=(()=>{class e extends H{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(ie.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&oe.hasOwnProperty(t)&&(t=oe[t]))}return se[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ie.forEach(r=>{r!=n&&(0,ae[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const ce=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){M.makeCurrent(),V.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),le=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:z,useClass:re,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:z,useClass:ue,multi:!0,deps:[o]},[],{provide:X,useClass:X,deps:[B,G,r.AFp]},{provide:r.FYo,useExisting:X},{provide:$,useExisting:G},{provide:G,useClass:G,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:B,useClass:B,deps:[z,r.R0b]},{provide:class{},useClass:j,deps:[]},[]];let he=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:F,useExisting:r.AFp},q]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:le,imports:[N,r.hGG]}),e})();"undefined"!=typeof window&&window;var de=n(9748);const fe={apiKey:"AIzaSyCwBYlPwMDJaKVPvxCOWIvmxlqQmW-AhlU",authDomain:"office365-8d496.firebaseapp.com",projectId:"office365-8d496",storageBucket:"office365-8d496.appspot.com",messagingSenderId:"858347286075",appId:"1:858347286075:web:c3ecb4315228262a18b61e",measurementId:"G-2BG2YZ9741"};var pe=n(9764),ge=n(8318),me=n(8470),ye=n(9996),ve=n(2056);function we(e,t){return new ge.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,pe.D)(e[a]);let c=!1;n.add(u.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&c||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let be=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),_e=(()=>{class e extends be{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const Te=new r.OlP("NgValueAccessor"),Ie={provide:Te,useExisting:(0,r.Gpc)(()=>Se),multi:!0},Ee=new r.OlP("CompositionEventMode");let Se=(()=>{class e extends be{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Ee,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([Ie]),r.qOj]}),e})();function Ae(e){return null==e||0===e.length}function Ce(e){return null!=e&&"number"==typeof e.length}const ke=new r.OlP("NgValidators"),xe=new r.OlP("NgAsyncValidators"),Oe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ne{static min(e){return function(e){return t=>{if(Ae(t.value)||Ae(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(Ae(t.value)||Ae(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return function(e){return Ae(e.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return Ae(e.value)||Oe.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>Ae(t.value)||!Ce(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>Ce(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return Re;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Ae(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return Ue(e)}static composeAsync(e){return qe(e)}}function Re(e){return null}function Pe(e){return null!=e}function De(e){const t=(0,r.QGY)(e)?(0,pe.D)(e):e;return(0,r.CqO)(t),t}function Le(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Me(e,t){return t.map(t=>t(e))}function Ze(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function Ue(e){if(!e)return null;const t=e.filter(Pe);return 0==t.length?null:function(e){return Le(Me(e,t))}}function Fe(e){return null!=e?Ue(Ze(e)):null}function qe(e){if(!e)return null;const t=e.filter(Pe);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,me.k)(t))return we(t,null);if((0,ve.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return we(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return we(e=1===e.length&&(0,me.k)(e[0])?e[0]:e,null).pipe((0,ye.U)(e=>t(...e)))}return we(e,null)}(Me(e,t).map(De)).pipe((0,ye.U)(Le))}}function Ve(e){return null!=e?qe(Ze(e)):null}function je(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ze(e){return e._rawValidators}function Be(e){return e._rawAsyncValidators}let He=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fe(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ve(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),$e=(()=>{class e extends He{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class Ge extends He{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ke{constructor(e){this._cd=e}is(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}let We=(()=>{class e extends Ke{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ge,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),Qe=(()=>{class e extends Ke{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36($e,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})();function Ye(e,t){et(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&nt(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&nt(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Je(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),tt(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Xe(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function et(e,t){const n=ze(e);null!==t.validator?e.setValidators(je(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=Be(e);null!==t.asyncValidator?e.setAsyncValidators(je(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Xe(t._rawValidators,i),Xe(t._rawAsyncValidators,i)}function tt(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=ze(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=Be(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return Xe(t._rawValidators,r),Xe(t._rawAsyncValidators,r),n}function nt(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function rt(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const it="VALID",st="INVALID",ot="PENDING",at="DISABLED";function ut(e){return(dt(e)?e.validators:e)||null}function ct(e){return Array.isArray(e)?Fe(e):e||null}function lt(e,t){return(dt(t)?t.asyncValidators:e)||null}function ht(e){return Array.isArray(e)?Ve(e):e||null}function dt(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class ft{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=ct(this._rawValidators),this._composedAsyncValidatorFn=ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===it}get invalid(){return this.status===st}get pending(){return this.status==ot}get disabled(){return this.status===at}get enabled(){return this.status!==at}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=ct(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=ht(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ot,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=at,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=it,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==it&&this.status!==ot||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?at:it}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ot,this._hasOwnPendingAsyncValidator=!0;const t=De(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof gt?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof mt&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?at:this.errors?st:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ot)?ot:this._anyControlsHaveStatus(st)?st:it}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){dt(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pt extends ft{constructor(e=null,t,n){super(ut(t),lt(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class gt extends ft{constructor(e,t,n){super(ut(t),lt(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof pt?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class mt extends ft{constructor(e,t,n){super(ut(t),lt(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof pt?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let yt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),vt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const wt=new r.OlP("NgModelWithFormControlWarning"),bt={provide:$e,useExisting:(0,r.Gpc)(()=>_t)};let _t=(()=>{class e extends $e{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return Ye(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){Je(e.control||null,e,!1),rt(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(Je(t||null,e),n instanceof pt&&(Ye(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);(function(e,t){et(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return tt(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){et(this.form,this),this._oldForm&&tt(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ke,10),r.Y36(xe,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([bt]),r.qOj,r.TTD]}),e})();const Tt={provide:Ge,useExisting:(0,r.Gpc)(()=>It)};let It=(()=>{class e extends Ge{constructor(e,t,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===Se?n=e:Object.getPrototypeOf(e.constructor)===_e?r=e:i=e}),i||r||n||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return e=null==this.name?this.name:this.name.toString(),[...this._parent.path,e];var e}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36($e,13),r.Y36(ke,10),r.Y36(xe,10),r.Y36(Te,10),r.Y36(wt,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Tt]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})(),Et=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[vt]]}),e})(),St=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:wt,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[Et]}),e})(),At=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r,i=null,s=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new gt(n,{asyncValidators:s,updateOn:r,validators:i})}control(e,t,n){return new pt(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new mt(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof pt||e instanceof gt||e instanceof mt?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:St}),e})();var Ct=n(6163),kt=n(9342),xt=n(2570);function Ot(...e){let t=e[e.length-1];return(0,Ct.K)(t)?(e.pop(),(0,xt.r)(e,t)):(0,kt.n)(e)}var Nt=n(3559),Rt=n(3895);class Pt extends Nt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Rt.N;return this._value}next(e){super.next(this._value=e)}}var Dt=n(6673);class Lt extends Dt.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Mt extends Dt.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Zt=n(6015);function Ut(e,t,n,r,i=new Mt(e,n,r)){if(!i.closed)return t instanceof ge.y?t.subscribe(i):(0,Zt.s)(t)(i)}const Ft={};class qt{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Vt(e,this.resultSelector))}}class Vt extends Lt{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Ft),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Ut(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===Ft?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const jt=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var zt=n(7471);function Bt(...e){return(0,zt.J)(1)(Ot(...e))}const Ht=new ge.y(e=>e.complete());function $t(e){return e?function(e){return new ge.y(t=>e.schedule(()=>t.complete()))}(e):Ht}function Gt(e){return new ge.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,pe.D)(n):$t()).subscribe(t)})}var Kt=n(2875),Wt=n(6882);function Qt(e,t){return"function"==typeof t?n=>n.pipe(Qt((n,r)=>(0,pe.D)(e(n,r)).pipe((0,ye.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Yt(e))}class Yt{constructor(e){this.project=e}call(e,t){return t.subscribe(new Jt(e,this.project))}}class Jt extends Wt.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new Wt.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Wt.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Xt=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function en(e){return t=>0===e?$t():t.lift(new tn(e))}class tn{constructor(e){if(this.total=e,this.total<0)throw new Xt}call(e,t){return t.subscribe(new nn(e,this.total))}}class nn extends Dt.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function rn(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new sn(e,t,n))}}class sn{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new on(e,this.accumulator,this.seed,this.hasSeed))}}class on extends Dt.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function an(e,t){return function(n){return n.lift(new un(e,t))}}class un{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new cn(e,this.predicate,this.thisArg))}}class cn extends Dt.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function ln(e){return function(t){const n=new hn(e),r=t.lift(n);return n.caught=r}}class hn{constructor(e){this.selector=e}call(e,t){return t.subscribe(new dn(e,this.selector,this.caught))}}class dn extends Wt.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new Wt.IY(this);this.add(r);const i=(0,Wt.ft)(n,r);i!==r&&this.add(i)}}}var fn=n(3982);function pn(e,t){return(0,fn.zg)(e,t,1)}function gn(e){return function(t){return 0===e?$t():t.lift(new mn(e))}}class mn{constructor(e){if(this.total=e,this.total<0)throw new Xt}call(e,t){return t.subscribe(new yn(e,this.total))}}class yn extends Dt.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function vn(e=_n){return t=>t.lift(new wn(e))}class wn{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new bn(e,this.errorFactory))}}class bn extends Dt.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function _n(){return new jt}function Tn(e=null){return t=>t.lift(new In(e))}class In{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new En(e,this.defaultValue))}}class En extends Dt.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Sn=n(3392);function An(e,t){const n=arguments.length>=2;return r=>r.pipe(e?an((t,n)=>e(t,n,r)):Sn.y,en(1),n?Tn(t):vn(()=>new jt))}function Cn(){}var kn=n(5024);function xn(e,t,n){return function(r){return r.lift(new On(e,t,n))}}class On{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Nn(e,this.nextOrObserver,this.error,this.complete))}}class Nn extends Dt.L{constructor(e,t,n,r){super(e),this._tapNext=Cn,this._tapError=Cn,this._tapComplete=Cn,this._tapError=n||Cn,this._tapComplete=r||Cn,(0,kn.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Cn,this._tapError=t.error||Cn,this._tapComplete=t.complete||Cn)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}var Rn=n(1564),Pn=n(7570);class Dn{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Ln(e,this.callback))}}class Ln extends Dt.L{constructor(e,t){super(e),this.add(new Pn.w(t))}}class Mn{constructor(e,t){this.id=e,this.url=t}}class Zn extends Mn{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Un extends Mn{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Fn extends Mn{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qn extends Mn{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vn extends Mn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn extends Mn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn extends Mn{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bn extends Mn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn extends Mn{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $n{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kn{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wn{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yn{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jn{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Xn="primary";class er{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function tr(e){return new er(e)}function nr(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function rr(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function ir(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!sr(e[i],t[i]))return!1;return!0}function sr(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function or(e){return Array.prototype.concat.apply([],e)}function ar(e){return e.length>0?e[e.length-1]:null}function ur(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function cr(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,pe.D)(Promise.resolve(e)):Ot(e)}const lr={exact:function e(t,n,r){if(!wr(t.segments,n.segments))return!1;if(!gr(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:fr},hr={exact:function(e,t){return ir(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>sr(e[n],t[n]))},ignored:()=>!0};function dr(e,t,n){return lr[n.paths](e.root,t.root,n.matrixParams)&&hr[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function fr(e,t,n){return pr(e,t,t.segments,n)}function pr(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!wr(i,n)&&!t.hasChildren()&&!!gr(i,n,r)}if(e.segments.length===n.length){if(!wr(e.segments,n))return!1;if(!gr(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!fr(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!wr(e.segments,i)&&!!gr(e.segments,i,r)&&!!e.children.primary&&pr(e.children.primary,t,s,r)}}function gr(e,t,n){return t.every((t,r)=>hr[n](e[r].parameters,t.parameters))}class mr{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return Tr.serialize(this)}}class yr{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ur(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ir(this)}}class vr{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=tr(this.parameters)),this._parameterMap}toString(){return Or(this)}}function wr(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class br{}class _r{parse(e){const t=new Lr(e);return new mr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Er(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Ar(t)}=${Ar(e)}`).join("&"):`${Ar(t)}=${Ar(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Tr=new _r;function Ir(e){return e.segments.map(e=>Or(e)).join("/")}function Er(e,t){if(!e.hasChildren())return Ir(e);if(t){const t=e.children.primary?Er(e.children.primary,!1):"",n=[];return ur(e.children,(e,t)=>{t!==Xn&&n.push(`${t}:${Er(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return ur(e.children,(e,r)=>{r===Xn&&(n=n.concat(t(e,r)))}),ur(e.children,(e,r)=>{r!==Xn&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===Xn?[Er(e.children.primary,!1)]:[`${n}:${Er(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Ir(e)}/${t[0]}`:`${Ir(e)}/(${t.join("//")})`}}function Sr(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ar(e){return Sr(e).replace(/%3B/gi,";")}function Cr(e){return Sr(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kr(e){return decodeURIComponent(e)}function xr(e){return kr(e.replace(/\+/g,"%20"))}function Or(e){return`${Cr(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Cr(e)}=${Cr(t[e])}`).join("")}`;var t}const Nr=/^[^\/()?;=#]+/;function Rr(e){const t=e.match(Nr);return t?t[0]:""}const Pr=/^[^=?&#]+/,Dr=/^[^?&#]+/;class Lr{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yr([],{}):new yr([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new yr(e,t)),n}parseSegment(){const e=Rr(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new vr(kr(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Rr(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Rr(this.remaining);e&&(n=e,this.capture(n))}e[kr(t)]=kr(n)}parseQueryParam(e){const t=function(e){const t=e.match(Pr);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Dr);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=xr(t),i=xr(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Rr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Xn);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new yr([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Mr{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Zr(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Zr(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ur(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Ur(e,this._root).map(e=>e.value)}}function Zr(e,t){if(e===t.value)return t;for(const n of t.children){const t=Zr(e,n);if(t)return t}return null}function Ur(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Ur(e,n);if(r.length)return r.unshift(t),r}return[]}class Fr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function qr(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Vr extends Mr{constructor(e,t){super(e),this.snapshot=t,Gr(this,e)}toString(){return this.snapshot.toString()}}function jr(e,t){const n=function(e,t){const n=new Hr([],{},{},"",{},Xn,t,null,e.root,-1,{});return new $r("",new Fr(n,[]))}(e,t),r=new Pt([new vr("",{})]),i=new Pt({}),s=new Pt({}),o=new Pt({}),a=new Pt(""),u=new zr(r,i,o,a,s,Xn,t,n.root);return u.snapshot=n.root,new Vr(new Fr(u,[]),n)}class zr{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ye.U)(e=>tr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ye.U)(e=>tr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Br(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Hr{constructor(e,t,n,r,i,s,o,a,u,c,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $r extends Mr{constructor(e,t){super(t),this.url=e,Gr(this,t)}toString(){return Kr(this._root)}}function Gr(e,t){t.value._routerState=e,t.children.forEach(t=>Gr(e,t))}function Kr(e){const t=e.children.length>0?` { ${e.children.map(Kr).join(", ")} } `:"";return`${e.value}${t}`}function Wr(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,ir(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),ir(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!ir(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),ir(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Qr(e,t){return ir(e.params,t.params)&&function(e,t){return wr(e,t)&&e.every((e,n)=>ir(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||Qr(e.parent,t.parent))}function Yr(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return Yr(e,t,r);return Yr(e,t)})}(e,t,n);return new Fr(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return Jr(t,e),e}}const n=new zr(new Pt((r=t.value).url),new Pt(r.params),new Pt(r.queryParams),new Pt(r.fragment),new Pt(r.data),r.outlet,r.component,r),i=t.children.map(t=>Yr(e,t));return new Fr(n,i)}var r}function Jr(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)Jr(e.children[n],t.children[n])}function Xr(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ei(e){return"object"==typeof e&&null!=e&&e.outlets}function ti(e,t,n,r,i){let s={};return r&&ur(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new mr(n.root===e?t:ni(n.root,e,t),s,i)}function ni(e,t,n){const r={};return ur(e.children,(e,i)=>{r[i]=e===t?n:ni(e,t,n)}),new yr(e.segments,r)}class ri{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Xr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ei);if(r&&r!==ar(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ii{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function si(e,t,n){if(e||(e=new yr([],{})),0===e.segments.length&&e.hasChildren())return oi(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(ei(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!li(a,u,t))return s;r+=2}else{if(!li(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new yr(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new yr(e.segments.slice(r.pathIndex),e.children),oi(t,0,i)}return r.match&&0===i.length?new yr(e.segments,{}):r.match&&!e.hasChildren()?ai(e,t,n):r.match?oi(e,0,i):ai(e,t,n)}function oi(e,t,n){if(0===n.length)return new yr(e.segments,{});{const r=function(e){return ei(e[0])?e[0].outlets:{[Xn]:e}}(n),i={};return ur(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=si(e.children[r],t,n))}),ur(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new yr(e.segments,i)}}function ai(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(ei(s)){const e=ui(s.outlets);return new yr(r,e)}if(0===i&&Xr(n[0])){r.push(new vr(e.segments[t].path,ci(n[0]))),i++;continue}const o=ei(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Xr(a)?(r.push(new vr(o,ci(a))),i+=2):(r.push(new vr(o,{})),i++)}return new yr(r,{})}function ui(e){const t={};return ur(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=ai(new yr([],{}),0,e))}),t}function ci(e){const t={};return ur(e,(e,n)=>t[n]=`${e}`),t}function li(e,t,n){return e==n.path&&ir(t,n.parameters)}class hi{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Wr(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=qr(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),ur(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=qr(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=qr(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new Yn(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Wn(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(Wr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),di(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function di(e){Wr(e.value),e.children.forEach(di)}class fi{constructor(e,t){this.routes=e,this.module=t}}function pi(e){return"function"==typeof e}function gi(e){return e instanceof mr}const mi=Symbol("INITIAL_VALUE");function yi(){return Qt(e=>function(...e){let t,n;return(0,Ct.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,me.k)(e[0])&&(e=e[0]),(0,kt.n)(e,n).lift(new qt(t))}(e.map(e=>e.pipe(en(1),function(...e){const t=e[e.length-1];return(0,Ct.K)(t)?(e.pop(),n=>Bt(e,n,t)):t=>Bt(e,t)}(mi)))).pipe(rn((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==mi)return e;if(r===mi&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||gi(r))return r}return e},e)},mi),an(e=>e!==mi),(0,ye.U)(e=>gi(e)?e:!0===e),en(1)))}let vi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[ms]},encapsulation:2}),e})();function wi(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];bi(r,_i(t,r))}}function bi(e,t){e.children&&wi(e.children,t)}function _i(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Ti(e){const t=e.children&&e.children.map(Ti),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Xn&&(n.component=vi),n}function Ii(e){return e.outlet||Xn}function Ei(e,t){const n=e.filter(e=>Ii(e)===t);return n.push(...e.filter(e=>Ii(e)!==t)),n}const Si={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ai(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Si):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||rr)(n,e,t);if(!i)return Object.assign({},Si);const s={};ur(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ci(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>ki(e,t,n)&&Ii(n)!==Xn)}(e,n,r)){const i=new yr(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Ii(s)!==Xn){const n=new yr([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Ii(s)]=n}return i}(e,t,r,new yr(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>ki(e,t,n))}(e,n,r)){const s=new yr(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(ki(e,n,a)&&!i[Ii(a)]){const n=new yr([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Ii(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new yr(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function ki(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function xi(e,t,n,r){return!!(Ii(e)===r||r!==Xn&&ki(t,n,e))&&("**"===e.path||Ai(t,e,n).matched)}function Oi(e,t,n){return 0===t.length&&!e.children[n]}class Ni{constructor(e){this.segmentGroup=e||null}}class Ri{constructor(e){this.urlTree=e}}function Pi(e){return new ge.y(t=>t.error(new Ni(e)))}function Di(e){return new ge.y(t=>t.error(new Ri(e)))}function Li(e){return new ge.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Mi{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=Ci(this.urlTree.root,[],[],this.config).segmentGroup,t=new yr(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Xn).pipe((0,ye.U)(e=>this.createUrlTree(Zi(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ln(e=>{if(e instanceof Ri)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Ni)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Xn).pipe((0,ye.U)(t=>this.createUrlTree(Zi(t),e.queryParams,e.fragment))).pipe(ln(e=>{if(e instanceof Ni)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new yr([],{[Xn]:e}):e;return new mr(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,ye.U)(e=>new yr([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,pe.D)(r).pipe(pn(r=>{const i=n.children[r],s=Ei(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,ye.U)(e=>({segment:e,outlet:r})))}),rn((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?an((t,n)=>e(t,n,r)):Sn.y,gn(1),n?Tn(t):vn(()=>new jt))}())}expandSegment(e,t,n,r,i,s){return(0,pe.D)(n).pipe(pn(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(ln(e=>{if(e instanceof Ni)return Ot(null);throw e}))),An(e=>!!e),ln((e,n)=>{if(e instanceof jt||"EmptyError"===e.name){if(Oi(t,r,i))return Ot(new yr([],{}));throw new Ni(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return xi(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):Pi(t):Pi(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Di(i):this.lineralizeSegments(n,i).pipe((0,fn.zg)(n=>{const i=new yr(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ai(t,r,i);if(!o)return Pi(t);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Di(l):this.lineralizeSegments(r,l).pipe((0,fn.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Ot(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,ye.U)(e=>(n._loadedConfig=e,new yr(r,{})))):Ot(new yr(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Ai(t,n,r);if(!s)return Pi(t);const u=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,fn.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=Ci(t,o,u,s),l=new yr(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,ye.U)(e=>new yr(o,e)));if(0===s.length&&0===c.length)return Ot(new yr(o,{}));const h=Ii(n)===i;return this.expandSegment(r,l,s,c,h?Xn:i,!0).pipe((0,ye.U)(e=>new yr(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Ot(new fi(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ot(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,fn.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,ye.U)(e=>(t._loadedConfig=e,e))):function(e){return new ge.y(t=>t.error(nr(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Ot(new fi([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;return r&&0!==r.length?Ot(r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&pi(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!pi(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return cr(s)})).pipe(yi(),xn(e=>{if(!gi(e))return;const t=nr(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,ye.U)(e=>!0===e)):Ot(!0)}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ot(n);if(r.numberOfChildren>1||!r.children.primary)return Li(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new mr(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return ur(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return ur(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new yr(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Zi(e){const t={};for(const n of Object.keys(e.children)){const r=Zi(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new yr(e.segments.concat(t.segments),t.children)}return e}(new yr(e.segments,t))}class Ui{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Fi{constructor(e,t){this.component=e,this.route=t}}function qi(e,t,n){const r=e._root;return ji(r,t?t._root:null,n,[r.value])}function Vi(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ji(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=qr(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!wr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wr(e.url,t.url)||!ir(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qr(e,t)||!ir(e.queryParams,t.queryParams);case"paramsChange":default:return!Qr(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ui(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ji(e,t,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fi(a.outlet.component,o))}else o&&zi(t,a,i),i.canActivateChecks.push(new Ui(r)),ji(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),ur(s,(e,t)=>zi(e,n.getContext(t),i)),i}function zi(e,t,n){const r=qr(e),i=e.value;ur(r,(e,r)=>{zi(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Fi(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class Bi{}function Hi(e){return new ge.y(t=>t.error(e))}class $i{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=Ci(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Xn);if(null===t)return null;const n=new Hr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Xn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Fr(n,t),i=new $r(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=Br(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=Ei(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Ki(n);return r.sort((e,t)=>e.value.outlet===Xn?-1:t.value.outlet===Xn?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return Oi(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!xi(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?ar(n).parameters:{};i=new Hr(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yi(e),Ii(e),e.component,e,Wi(t),Qi(t)+n.length,Ji(e))}else{const r=Ai(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Hr(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Yi(e),Ii(e),e.component,e,Wi(t),Qi(t)+s.length,Ji(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=Ci(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const e=this.processChildren(a,u);return null===e?null:[new Fr(i,e)]}if(0===a.length&&0===c.length)return[new Fr(i,[])];const l=Ii(e)===r,h=this.processSegment(a,u,c,l?Xn:r);return null===h?null:[new Fr(i,h)]}}function Gi(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ki(e){const t=[],n=new Set;for(const r of e){if(!Gi(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=Ki(r.children);t.push(new Fr(r.value,e))}return t.filter(e=>!n.has(e))}function Wi(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Qi(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Yi(e){return e.data||{}}function Ji(e){return e.resolve||{}}function Xi(e){return Qt(t=>{const n=e(t);return n?(0,pe.D)(n).pipe((0,ye.U)(()=>t)):Ot(t)})}class es extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ts=new r.OlP("ROUTES");class ns{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,ye.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new fi(or(i.injector.get(ts,void 0,r.XFs.Self|r.XFs.Optional)).map(Ti),i)}),ln(e=>{throw t._loader$=void 0,e}));return t._loader$=new Kt.c(n,()=>new Nt.xQ).pipe((0,Rn.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,pe.D)(this.loader.load(e)):cr(e()).pipe((0,fn.zg)(e=>e instanceof r.YKP?Ot(e):(0,pe.D)(this.compiler.compileModuleAsync(e))))}}class rs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new is,this.attachRef=null}}class is{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new rs,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class ss{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function os(e){throw e}function as(e,t,n){return t.parse("/")}function us(e,t){return Ot(null)}const cs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ls={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hs=(()=>{class e{constructor(e,t,n,i,s,o,a,u){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nt.xQ,this.errorHandler=os,this.malformedUriErrorHandler=as,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:us,afterPreactivation:us},this.urlHandlingStrategy=new ss,this.routeReuseStrategy=new es,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new mr(new yr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ns(o,a,e=>this.triggerEvent(new $n(e)),e=>this.triggerEvent(new Gn(e))),this.routerState=jr(this.currentUrlTree,this.rootComponentType),this.transitions=new Pt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(an(e=>0!==e.id),(0,ye.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Qt(e=>{let n=!1,r=!1;return Ot(e).pipe(xn(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qt(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Ot(e).pipe(Qt(e=>{const n=this.transitions.getValue();return t.next(new Zn(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?Ht:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,Qt(e=>function(e,t,n,r,i){return new Mi(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,ye.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),xn(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,fn.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new $i(e,t,n,r,i,s).recognize();return null===o?Hi(new Bi):Ot(o)}catch(o){return Hi(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,ye.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),xn(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new Vn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Zn(n,this.serializeUrl(r),i,s);t.next(a);const u=jr(r,this.rootComponentType).snapshot;return Ot(Object.assign(Object.assign({},e),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Ht}),Xi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),xn(e=>{const t=new jn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,ye.U)(e=>Object.assign(Object.assign({},e),{guards:qi(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,fn.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Ot(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,pe.D)(e).pipe((0,fn.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Ot(s.map(s=>{const o=Vi(s,t,i);let a;if(function(e){return e&&pi(e.canDeactivate)}(o))a=cr(o.canDeactivate(e,t,n,r));else{if(!pi(o))throw new Error("Invalid CanDeactivate guard");a=cr(o(e,t,n,r))}return a.pipe(An())})).pipe(yi()):Ot(!0)}(e.component,e.route,n,t,r)),An(e=>!0!==e,!0))}(o,r,i,e).pipe((0,fn.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,pe.D)(t).pipe(pn(t=>Bt(function(e,t){return null!==e&&t&&t(new Kn(e)),Ot(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Qn(e)),Ot(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Gt(()=>Ot(t.guards.map(i=>{const s=Vi(i,t.node,n);let o;if(function(e){return e&&pi(e.canActivateChild)}(s))o=cr(s.canActivateChild(r,e));else{if(!pi(s))throw new Error("Invalid CanActivateChild guard");o=cr(s(r,e))}return o.pipe(An())})).pipe(yi())));return Ot(i).pipe(yi())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Ot(r.map(r=>Gt(()=>{const i=Vi(r,t,n);let s;if(function(e){return e&&pi(e.canActivate)}(i))s=cr(i.canActivate(t,e));else{if(!pi(i))throw new Error("Invalid CanActivate guard");s=cr(i(t,e))}return s.pipe(An())}))).pipe(yi()):Ot(!0)}(e,t.route,n))),An(e=>!0!==e,!0))}(r,s,e,t):Ot(n)),(0,ye.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),xn(e=>{if(gi(e.guardsResult)){const t=nr(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new zn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),an(e=>!!e.guardsResult||(this.cancelNavigationTransition(e,""),!1)),Xi(e=>{if(e.guards.canActivateChecks.length)return Ot(e).pipe(xn(e=>{const t=new Bn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Qt(e=>{let t=!1;return Ot(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,fn.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return Ot(e);let s=0;return(0,pe.D)(i).pipe(pn(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return Ot({});const s={};return(0,pe.D)(i).pipe((0,fn.zg)(i=>function(e,t,n,r){const i=Vi(e,t,r);return cr(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(xn(e=>{s[i]=e}))),gn(1),(0,fn.zg)(()=>Object.keys(s).length===i.length?Ot(s):Ht))}(e._resolve,e,t,r).pipe((0,ye.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Br(e,n).resolve),null)))}(e.route,t,n,r)),xn(()=>s++),gn(1),(0,fn.zg)(t=>s===i.length?Ot(e):Ht))})),xn({next:()=>t=!0,complete:()=>{t||this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value.")}}));var n,r}),xn(e=>{const t=new Hn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),Xi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,ye.U)(e=>{const t=function(e,t,n){const r=Yr(e,t._root,n?n._root:void 0);return new Vr(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),xn(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,ye.U)(e=>(new hi(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),xn({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(e,`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},e=>e.lift(new Dn(i))),ln(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=gi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const i=new Fn(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new qn(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(sd){e.reject(sd)}}var i;return Ht}));var i,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){wi(e),this.config=e.map(Ti),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return ti(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ri(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return ur(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new ri(n,t,r)}(n);if(s.toRoot())return ti(t.root,new yr([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new ii(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new ii(e,e===t.root,0)}const r=Xr(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ii(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?oi(o.segmentGroup,o.index,s.commands):si(o.segmentGroup,o.index,s.commands);return ti(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=u?u:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=gi(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||t.skipLocationChange||t.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},cs):!1===t?Object.assign({},ls):t,gi(e))return dr(this.currentUrlTree,e,n);const r=this.parseUrl(e);return dr(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Un(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==t&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===e.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((e,t)=>{u=e,c=t});const h=++this.navigationId;let d;return d="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){"computed"===this.canceledNavigationResolution?"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-e.targetPageId):this.resetUrlToCurrentUrlTree();const n=new Fn(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(br),r.LFG(is),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ds=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new Nt.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:ps(this.skipLocationChange),replaceUrl:ps(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ps(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(hs),r.Y36(zr),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})(),fs=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new Nt.xQ,this.subscription=e.events.subscribe(e=>{e instanceof Un&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ps(this.skipLocationChange),replaceUrl:ps(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ps(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(hs),r.Y36(zr),r.Y36(m))},e.\u0275dir=r.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Ikx("href",t.href,r.LSH),r.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function ps(e){return""===e||!!e}let gs=(()=>{class e{constructor(e,t,n,r,i,s){this.router=e,this.element=t,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(e=>{e instanceof Un&&this.update()})}ngAfterContentInit(){Ot(this.links.changes,this.linksWithHrefs.changes,Ot(null)).pipe((0,zt.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(e=>!!e).map(e=>e.onChanges);this.linkInputChangesSubscription=(0,pe.D)(t).pipe((0,zt.J)()).subscribe(e=>{this.isActive!==this.isLinkActive(this.router)(e)&&this.update()})}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){const t="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>e.isActive(n.urlTree,t)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(hs),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(ds,8),r.Y36(fs,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){if(1&e&&(r.Suo(n,ds,5),r.Suo(n,fs,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.links=e),r.iGM(e=r.CRH())&&(t.linksWithHrefs=e)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),e})(),ms=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Xn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ys(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(is),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class ys{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===zr?this.route:e===is?this.childContexts:this.parent.get(e,t)}}class vs{}class ws{preload(e,t){return Ot(null)}}let bs=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new ns(t,n,t=>e.triggerEvent(new $n(t)),t=>e.triggerEvent(new Gn(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(an(e=>e instanceof Un),pn(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,pe.D)(n).pipe((0,zt.J)(),(0,ye.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?Ot(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,fn.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(hs),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(vs))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),_s=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Zn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Un&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Jn&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Jn(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(hs),r.LFG(P),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Ts=new r.OlP("ROUTER_CONFIGURATION"),Is=new r.OlP("ROUTER_FORROOT_GUARD"),Es=[_,{provide:br,useClass:_r},{provide:hs,useFactory:function(e,t,n,r,i,s,o,a={},u,c){const l=new hs(null,e,t,n,r,i,s,or(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[br,is,_,r.zs3,r.v3s,r.Sil,ts,Ts,[class{},new r.FiY],[class{},new r.FiY]]},is,{provide:zr,useFactory:function(e){return e.routerState.root},deps:[hs]},{provide:r.v3s,useClass:r.EAV},bs,ws,class{preload(e,t){return t().pipe(ln(()=>Ot(null)))}},{provide:Ts,useValue:{enableTracing:!1}}];function Ss(){return new r.PXZ("Router",hs)}let As=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Es,Os(t),{provide:Is,useFactory:xs,deps:[[hs,new r.FiY,new r.tp0]]},{provide:Ts,useValue:n||{}},{provide:m,useFactory:ks,deps:[a,[new r.tBr(v),new r.FiY],Ts]},{provide:_s,useFactory:Cs,deps:[hs,P,Ts]},{provide:vs,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ws},{provide:r.PXZ,multi:!0,useFactory:Ss},[Ns,{provide:r.ip1,multi:!0,useFactory:Rs,deps:[Ns]},{provide:Ds,useFactory:Ps,deps:[Ns]},{provide:r.tb,multi:!0,useExisting:Ds}]]}}static forChild(t){return{ngModule:e,providers:[Os(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Is,8),r.LFG(hs,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function Cs(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new _s(e,t,n)}function ks(e,t,n={}){return n.useHash?new b(e,t):new w(e,t)}function xs(e){return"guarded"}function Os(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:ts,multi:!0,useValue:e}]}let Ns=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Nt.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(hs),r=this.injector.get(Ts);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Ot(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Ts),n=this.injector.get(bs),i=this.injector.get(_s),s=this.injector.get(hs),o=this.injector.get(r.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Rs(e){return e.appInitializer.bind(e)}function Ps(e){return e.bootstrapListener.bind(e)}const Ds=new r.OlP("Router Initializer");let Ls=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-finish"]],decls:35,vars:0,consts:[[1,"xsm-img"],[1,"m-0","d-flex","vh-100","row","justify-content-center","align-items-center"],[1,"card","corral"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/gifAttack.gif","alt","",1,"img-thumbnail"],[1,"text-success","text-center"],[1,"sm-img"],[1,"md-img"],[1,"lg-img"],[1,"xlg-img"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._uU(3," // IMG Local "),r._UZ(4,"img",3),r.TgZ(5,"h4",4),r._uU(6,"Etical Hacking Success"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.TgZ(8,"div",1),r.TgZ(9,"div",2),r._uU(10," // IMG Local "),r._UZ(11,"img",3),r.TgZ(12,"h1",4),r._uU(13,"Etical Hacking Success"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",6),r.TgZ(15,"div",1),r.TgZ(16,"div",2),r._uU(17," //IMG Local "),r._UZ(18,"img",3),r.TgZ(19,"h1",4),r._uU(20,"Etical Hacking Success"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"div",7),r.TgZ(22,"div",1),r.TgZ(23,"div",2),r._uU(24," // IMG Local "),r._UZ(25,"img",3),r.TgZ(26,"h1",4),r._uU(27,"Etical Hacking Success"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"div",8),r.TgZ(29,"div",1),r.TgZ(30,"div",2),r._uU(31," //IMG Local "),r._UZ(32,"img",3),r.TgZ(33,"h1",4),r._uU(34,"Etical Hacking Success"),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[".container-fluid[_ngcontent-%COMP%], .lg-img[_ngcontent-%COMP%], .md-img[_ngcontent-%COMP%], .sm-img[_ngcontent-%COMP%], .xlg-img[_ngcontent-%COMP%], .xsm-img[_ngcontent-%COMP%]{background-color:#000}@media screen and (min-width:280px){.corral[_ngcontent-%COMP%]{margin:0 auto;width:290px;position:relative}h4[_ngcontent-%COMP%]{margin-top:12px;font-weight:700}}@media (min-width:576px){.corral[_ngcontent-%COMP%]{margin:0 auto;width:380px;position:relative}h1[_ngcontent-%COMP%]{margin-top:12px;font-weight:700}}@media (min-width:768px){.corral[_ngcontent-%COMP%]{margin:0 auto;width:460px;position:relative}h1[_ngcontent-%COMP%]{margin-top:12px;font-weight:700}}@media (min-width:992px){.corral[_ngcontent-%COMP%]{margin:0 auto;width:510px;position:relative}h1[_ngcontent-%COMP%]{margin-top:12px;font-weight:700}}@media (min-width:1200px){.corral[_ngcontent-%COMP%]{margin:0 auto;width:600px;position:relative}h1[_ngcontent-%COMP%]{margin-top:12px;font-weight:700}}"]}),e})();var Ms=n(7462),Zs=n(7979),Us=n(9517),Fs=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},qs=n(2314);function Vs(e){return(0,qs.m)(null==e?void 0:e.then)}var js=n(4157);function zs(e){return(0,qs.m)(e[js.L])}function Bs(e){return Symbol.asyncIterator&&(0,qs.m)(null==e?void 0:e[Symbol.asyncIterator])}function Hs(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var $s="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Gs(e){return(0,qs.m)(null==e?void 0:e[$s])}function Ks(e){return(0,Us.FC)(this,arguments,function(){var t,n,r;return(0,Us.Jh)(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,Us.qq)(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,(0,Us.qq)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,Us.qq)(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function Ws(e){return(0,qs.m)(null==e?void 0:e.getReader)}var Qs=n(4608);function Ys(e){if(e instanceof Zs.y)return e;if(null!=e){if(zs(e))return i=e,new Zs.y(function(e){var t=i[js.L]();if((0,qs.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(Fs(e))return r=e,new Zs.y(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()});if(Vs(e))return n=e,new Zs.y(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,Qs.h)});if(Bs(e))return Js(e);if(Gs(e))return t=e,new Zs.y(function(e){var n,r;try{for(var i=(0,Us.XA)(t),s=i.next();!s.done;s=i.next())if(e.next(s.value),e.closed)return}catch(o){n={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()});if(Ws(e))return Js(Ks(e))}var t,n,r,i;throw Hs(e)}function Js(e){return new Zs.y(function(t){(function(e,t){var n,r,i,s;return(0,Us.mG)(this,void 0,void 0,function(){var o;return(0,Us.Jh)(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=(0,Us.KL)(e),a.label=1;case 1:return[4,n.next()];case 2:if((r=a.sent()).done)return[3,4];if(t.next(r.value),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=a.sent(),i={error:o},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}var Xs=n(1034),eo=n(3073),to=n(2548);function no(e,t){if(!e)throw new Error("Iterable cannot be null");return new Zs.y(function(n){(0,to.f)(n,t,function(){var r=e[Symbol.asyncIterator]();(0,to.f)(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}function ro(e,t){return t?function(e,t){if(null!=e){if(zs(e))return function(e,t){return Ys(e).pipe((0,eo.R)(t),(0,Xs.Q)(t))}(e,t);if(Fs(e))return function(e,t){return new Zs.y(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Vs(e))return function(e,t){return Ys(e).pipe((0,eo.R)(t),(0,Xs.Q)(t))}(e,t);if(Bs(e))return no(e,t);if(Gs(e))return function(e,t){return new Zs.y(function(n){var r;return(0,to.f)(n,t,function(){r=e[$s](),(0,to.f)(n,t,function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(s){return void n.error(s)}i?n.complete():n.next(t)},0,!0)}),function(){return(0,qs.m)(null==r?void 0:r.return)&&r.return()}})}(e,t);if(Ws(e))return function(e,t){return no(Ks(e),t)}(e,t)}throw Hs(e)}(e,t):Ys(e)}function io(e){return e&&(0,qs.m)(e.schedule)}function so(e){return e[e.length-1]}function oo(e){return io(so(e))?e.pop():void 0}function ao(e,t){return"number"==typeof so(e)?e.pop():t}function uo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=oo(e);return ro(e,n)}var co=n(3887),lo=n(1989),ho=n(7038);function fo(e,t){return(0,lo.e)(function(n,r){var i=0;n.subscribe(new ho.Q(r,function(n){r.next(e.call(t,n,i++))}))})}function po(e,t,n){return void 0===n&&(n=1/0),(0,qs.m)(t)?po(function(n,r){return fo(function(e,i){return t(n,e,r,i)})(Ys(e(n,r)))},n):("number"==typeof t&&(n=t),(0,lo.e)(function(t,r){return function(e,t,n,r,i,s,o,a){var u=[],c=0,l=0,h=!1,d=function(){!h||u.length||c||t.complete()},f=function(e){c++;var i=!1;Ys(n(e,l++)).subscribe(new ho.Q(t,function(e){t.next(e)},function(){i=!0},void 0,function(){if(i)try{for(c--;u.length&&c<r;)void 0,e=u.shift(),f(e);d()}catch(n){t.error(n)}var e}))};return e.subscribe(new ho.Q(t,function(e){return c<r?f(e):u.push(e)},function(){h=!0,d()})),function(){}}(t,r,e,n)}))}var go=n(9879);function mo(e){return void 0===e&&(e=1/0),po(go.y,e)}function yo(){return mo(1)}function vo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yo()(ro(e,oo(e)))}function wo(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=oo(e);return(0,lo.e)(function(t,r){(n?vo(e,t,n):vo(e,t)).subscribe(r)})}function bo(){return(0,lo.e)(function(e,t){var n,r=!1;e.subscribe(new ho.Q(t,function(e){var i=n;n=e,r&&t.next([i,e]),r=!0}))})}function _o(e,t,n,r,i){return function(s,o){var a=n,u=t,c=0;s.subscribe(new ho.Q(o,function(t){var n=c++;u=a?e(u,t,n):(a=!0,t),r&&o.next(u)},i&&function(){a&&o.next(u),o.complete()}))}}function To(e,t){return(0,lo.e)(_o(e,t,arguments.length>=2,!0))}function Io(e,t){return e===t}function Eo(e,t){return(0,lo.e)(function(n,r){var i=0;n.subscribe(new ho.Q(r,function(n){return e.call(t,n,i++)&&r.next(n)}))})}n(6268);var So,Ao=n(1932),Co=n(6304),ko=n(7092),xo=n(5119),Oo=n(2134),No=n(5725),Ro="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Po={},Do=Do||{},Lo=Ro||self;function Mo(){}function Zo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Uo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Fo="closure_uid_"+(1e9*Math.random()>>>0),qo=0;function Vo(e,t,n){return e.call.apply(e.bind,arguments)}function jo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function zo(e,t,n){return(zo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vo:jo).apply(null,arguments)}function Bo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ho(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function $o(){this.s=this.s,this.o=this.o}var Go={};$o.prototype.s=!1,$o.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Fo)&&e[Fo]||(e[Fo]=++qo)}(this);delete Go[e]}},$o.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ko=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Wo=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Qo(e){return Array.prototype.concat.apply([],arguments)}function Yo(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jo(e){return/^[\s\xa0]*$/.test(e)}var Xo,ea=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ta(e,t){return-1!=e.indexOf(t)}function na(e,t){return e<t?-1:e>t?1:0}e:{var ra=Lo.navigator;if(ra){var ia=ra.userAgent;if(ia){Xo=ia;break e}}Xo=""}function sa(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function oa(e){const t={};for(const n in e)t[n]=e[n];return t}var aa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ua(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<aa.length;t++)n=aa[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ca(e){return ca[" "](e),e}ca[" "]=Mo;var la,ha,da=ta(Xo,"Opera"),fa=ta(Xo,"Trident")||ta(Xo,"MSIE"),pa=ta(Xo,"Edge"),ga=pa||fa,ma=ta(Xo,"Gecko")&&!(ta(Xo.toLowerCase(),"webkit")&&!ta(Xo,"Edge"))&&!(ta(Xo,"Trident")||ta(Xo,"MSIE"))&&!ta(Xo,"Edge"),ya=ta(Xo.toLowerCase(),"webkit")&&!ta(Xo,"Edge");function va(){var e=Lo.document;return e?e.documentMode:void 0}e:{var wa="",ba=(ha=Xo,ma?/rv:([^\);]+)(\)|;)/.exec(ha):pa?/Edge\/([\d\.]+)/.exec(ha):fa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ha):ya?/WebKit\/(\S+)/.exec(ha):da?/(?:Version)[ \/]?(\S+)/.exec(ha):void 0);if(ba&&(wa=ba?ba[1]:""),fa){var _a=va();if(null!=_a&&_a>parseFloat(wa)){la=String(_a);break e}}la=wa}var Ta={};var Ia=Lo.document&&fa&&(va()||parseInt(la,10))||void 0,Ea=function(){if(!Lo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Lo.addEventListener("test",Mo,t),Lo.removeEventListener("test",Mo,t)}catch(n){}return e}();function Sa(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Aa(e,t){if(Sa.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ma){e:{try{ca(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Ca[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Aa.Z.h.call(this)}}Sa.prototype.h=function(){this.defaultPrevented=!0},Ho(Aa,Sa);var Ca={2:"touch",3:"pen",4:"mouse"};Aa.prototype.h=function(){Aa.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ka="closure_listenable_"+(1e6*Math.random()|0),xa=0;function Oa(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++xa,this.ca=this.fa=!1}function Na(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ra(e){this.src=e,this.g={},this.h=0}function Pa(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ko(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Na(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Da(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}Ra.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Da(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Oa(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var La="closure_lm_"+(1e6*Math.random()|0),Ma={};function Za(e,t,n,r,i){if(r&&r.once)return Fa(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Za(e,t[s],n,r,i);return null}return n=$a(n),e&&e[ka]?e.N(t,n,Uo(r)?!!r.capture:!!r,i):Ua(e,t,n,!1,r,i)}function Ua(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Uo(i)?!!i.capture:!!i,a=Ba(e);if(a||(e[La]=a=new Ra(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=za;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ea||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ja(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fa(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Fa(e,t[s],n,r,i);return null}return n=$a(n),e&&e[ka]?e.O(t,n,Uo(r)?!!r.capture:!!r,i):Ua(e,t,n,!0,r,i)}function qa(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)qa(e,t[s],n,r,i);else r=Uo(r)?!!r.capture:!!r,n=$a(n),e&&e[ka]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Da(s=e.g[t],n,r,i))&&(Na(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Ba(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Da(t,n,r,i)),(n=-1<e?t[e]:null)&&Va(n))}function Va(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ka])Pa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ja(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ba(t))?(Pa(n,e),0==n.h&&(n.src=null,t[La]=null)):Na(e)}}}function ja(e){return e in Ma?Ma[e]:Ma[e]="on"+e}function za(e,t){if(e.ca)e=!0;else{t=new Aa(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Va(e),e=n.call(r,t)}return e}function Ba(e){return(e=e[La])instanceof Ra?e:null}var Ha="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(e){return"function"==typeof e?e:(e[Ha]||(e[Ha]=function(t){return e.handleEvent(t)}),e[Ha])}function Ga(){$o.call(this),this.i=new Ra(this),this.P=this,this.I=null}function Ka(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Sa(t,e);else if(t instanceof Sa)t.target=t.target||e;else{var i=t;ua(t=new Sa(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Wa(o,r,!0,t)&&i}if(i=Wa(o=t.g=e,r,!0,t)&&i,i=Wa(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Wa(o=t.g=n[s],r,!1,t)&&i}function Wa(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Pa(e.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ho(Ga,$o),Ga.prototype[ka]=!0,Ga.prototype.removeEventListener=function(e,t,n,r){qa(this,e,t,n,r)},Ga.prototype.M=function(){if(Ga.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Na(n[r]);delete t.g[e],t.h--}}this.I=null},Ga.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ga.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qa=Lo.JSON.stringify;function Ya(){var e=iu;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ja,Xa=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new eu,e=>e.reset());class eu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tu(e){Lo.setTimeout(()=>{throw e},0)}function nu(e,t){Ja||function(){var e=Lo.Promise.resolve(void 0);Ja=function(){e.then(su)}}(),ru||(Ja(),ru=!0),iu.add(e,t)}var ru=!1,iu=new class{constructor(){this.h=this.g=null}add(e,t){const n=Xa.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function su(){for(var e;e=Ya();){try{e.h.call(e.g)}catch(n){tu(n)}var t=Xa;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ru=!1}function ou(e,t){Ga.call(this),this.h=e||1,this.g=t||Lo,this.j=zo(this.kb,this),this.l=Date.now()}function au(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function uu(e,t,n){if("function"==typeof e)n&&(e=zo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=zo(e.handleEvent,e)}return 2147483647<Number(t)?-1:Lo.setTimeout(e,t||0)}function cu(e){e.g=uu(()=>{e.g=null,e.i&&(e.i=!1,cu(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ho(ou,Ga),(So=ou.prototype).da=!1,So.S=null,So.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ka(this,"tick"),this.da&&(au(this),this.start()))}},So.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},So.M=function(){ou.Z.M.call(this),au(this),delete this.g};class lu extends $o{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cu(this)}M(){super.M(),this.g&&(Lo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hu(e){$o.call(this),this.h=e,this.g={}}Ho(hu,$o);var du=[];function fu(e,t,n,r){Array.isArray(n)||(n&&(du[0]=n.toString()),n=du);for(var i=0;i<n.length;i++){var s=Za(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function pu(e){sa(e.g,function(e,t){this.g.hasOwnProperty(t)&&Va(e)},e),e.g={}}function gu(){this.g=!0}function mu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Qa(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}hu.prototype.M=function(){hu.Z.M.call(this),pu(this)},hu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gu.prototype.Aa=function(){this.g=!1},gu.prototype.info=function(){};var yu={},vu=null;function wu(){return vu=vu||new Ga}function bu(e){Sa.call(this,yu.Ma,e)}function _u(e){const t=wu();Ka(t,new bu(t,e))}function Tu(e,t){Sa.call(this,yu.STAT_EVENT,e),this.stat=t}function Iu(e){const t=wu();Ka(t,new Tu(t,e))}function Eu(e,t){Sa.call(this,yu.Na,e),this.size=t}function Su(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Lo.setTimeout(function(){e()},t)}yu.Ma="serverreachability",Ho(bu,Sa),yu.STAT_EVENT="statevent",Ho(Tu,Sa),yu.Na="timingevent",Ho(Eu,Sa);var Au={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Cu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ku(){}function xu(){}ku.prototype.h=null;var Ou,Nu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ru(){Sa.call(this,"d")}function Pu(){Sa.call(this,"c")}function Du(){}function Lu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new hu(this),this.P=Zu,this.W=new ou(e=ga?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Mu}function Mu(){this.i=null,this.g="",this.h=!1}Ho(Ru,Sa),Ho(Pu,Sa),Ho(Du,ku),Du.prototype.g=function(){return new XMLHttpRequest},Du.prototype.i=function(){return{}},Ou=new Du;var Zu=45e3,Uu={},Fu={};function qu(e,t,n){e.K=1,e.v=cc(rc(t)),e.s=n,e.U=!0,Vu(e,null)}function Vu(e,t){e.F=Date.now(),Hu(e),e.A=rc(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Tc(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Mu,e.g=Tl(e.l,n?t:null,!e.s),0<e.O&&(e.L=new lu(zo(e.Ia,e,e.g),e.O)),fu(e.V,e.g,"readystatechange",e.gb),t=e.H?oa(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),_u(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function ju(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function zu(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Bu(e,n),r==Fu){4==t&&(e.o=4,Iu(14),i=!1),mu(e.j,e.m,null,"[Incomplete Response]");break}if(r==Uu){e.o=4,Iu(15),mu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}mu(e.j,e.m,r,null),Qu(e,r)}ju(e)&&r!=Fu&&r!=Uu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Iu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),pl(t),t.L=!0,Iu(11))):(mu(e.j,e.m,n,"[Invalid Chunked Response]"),Wu(e),Ku(e))}function Bu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fu:(n=Number(t.substring(n,r)),isNaN(n)?Uu:(r+=1)+n>t.length?Fu:(t=t.substr(r,n),e.C=r+n,t))}function Hu(e){e.Y=Date.now()+e.P,$u(e,e.P)}function $u(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Su(zo(e.eb,e),t)}function Gu(e){e.B&&(Lo.clearTimeout(e.B),e.B=null)}function Ku(e){0==e.l.G||e.I||yl(e.l,e)}function Wu(e){Gu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,au(e.W),pu(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Qu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||kc(n.i,e)))if(n.I=e.N,!e.J&&kc(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ml(n),sl(n)}fl(n),Iu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Su(zo(n.ab,n),6e3));if(1>=Cc(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else wl(n,11)}else if((e.J||n.g==e)&&ml(n),!Jo(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(ta(e,"spdy")||ta(e,"quic")||ta(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(xc(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,uc(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=_l(r,r.H?r.la:null,r.W),o.J){Oc(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Gu(a),Hu(a)),r.g=o}else dl(r);0<n.l.length&&ul(n)}else"stop"!=c[0]&&"close"!=c[0]||wl(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wl(n,7):il(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}_u(4)}catch(c){}}function Yu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Zo(e)||"string"==typeof e)Wo(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Zo(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Zo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Ju(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ju)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Xu(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];ec(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)ec(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function ec(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(So=Lu.prototype).setTimeout=function(e){this.P=e},So.gb=function(e){e=e.target;const t=this.L;t&&3==Xc(e)?t.l():this.Ia(e)},So.Ia=function(e){try{if(e==this.g)e:{const l=Xc(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||ga||this.g&&(this.h.h||this.g.ga()||el(this.g)))){this.I||4!=l||7==t||_u(8==t||0>=h?3:2),Gu(this);var n=this.g.ba();this.N=n;t:if(ju(this)){var r=el(this.g);e="";var i=r.length,s=4==Xc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Wu(this),Ku(this);var o="";break t}this.h.i=new Lo.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jo(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Iu(12),Wu(this),Ku(this);break e}mu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qu(this,n)}this.U?(zu(this,l,o),ga&&this.i&&3==l&&(fu(this.V,this.W,"tick",this.fb),this.W.start())):(mu(this.j,this.m,o,null),Qu(this,o)),4==l&&Wu(this),this.i&&!this.I&&(4==l?yl(this.l,this):(this.i=!1,Hu(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Iu(12)):(this.o=0,Iu(13)),Wu(this),Ku(this)}}}catch(l){}},So.fb=function(){if(this.g){var e=Xc(this.g),t=this.g.ga();this.C<t.length&&(Gu(this),zu(this,e,t),this.i&&4!=e&&Hu(this))}},So.cancel=function(){this.I=!0,Wu(this)},So.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(_u(3),Iu(17)),Wu(this),this.o=2,Ku(this)):$u(this,this.Y-e)},(So=Ju.prototype).R=function(){Xu(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},So.T=function(){return Xu(this),this.g.concat()},So.get=function(e,t){return ec(this.h,e)?this.h[e]:t},So.set=function(e,t){ec(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},So.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var tc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nc(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof nc){this.g=void 0!==t?t:e.g,ic(this,e.j),this.s=e.s,sc(this,e.i),oc(this,e.m),this.l=e.l,t=e.h;var n=new vc;n.i=t.i,t.g&&(n.g=new Ju(t.g),n.h=t.h),ac(this,n),this.o=e.o}else e&&(n=String(e).match(tc))?(this.g=!!t,ic(this,n[1]||"",!0),this.s=lc(n[2]||""),sc(this,n[3]||"",!0),oc(this,n[4]),this.l=lc(n[5]||"",!0),ac(this,n[6]||"",!0),this.o=lc(n[7]||"")):(this.g=!!t,this.h=new vc(null,this.g))}function rc(e){return new nc(e)}function ic(e,t,n){e.j=n?lc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sc(e,t,n){e.i=n?lc(t,!0):t}function oc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ac(e,t,n){t instanceof vc?(e.h=t,function(e,t){t&&!e.j&&(wc(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(bc(this,t),Tc(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=hc(t,mc)),e.h=new vc(t,e.g))}function uc(e,t,n){e.h.set(t,n)}function cc(e){return uc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hc(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,dc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}nc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hc(t,fc,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hc(t,fc,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(hc(n,"/"==n.charAt(0)?gc:pc,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hc(n,yc)),e.join("")};var fc=/[#\/\?@]/g,pc=/[#\?:]/g,gc=/[#\?]/g,mc=/[#\?@]/g,yc=/#/g;function vc(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wc(e){e.g||(e.g=new Ju,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function bc(e,t){wc(e),t=Ic(e,t),ec(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,ec((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Xu(e)))}function _c(e,t){return wc(e),t=Ic(e,t),ec(e.g.h,t)}function Tc(e,t,n){bc(e,t),0<n.length&&(e.i=null,e.g.set(Ic(e,t),Yo(n)),e.h+=n.length)}function Ic(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ec(e){this.l=e||Sc,e=Lo.PerformanceNavigationTiming?0<(e=Lo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Lo.g&&Lo.g.Ea&&Lo.g.Ea()&&Lo.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(So=vc.prototype).add=function(e,t){wc(this),this.i=null,e=Ic(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},So.forEach=function(e,t){wc(this),this.g.forEach(function(n,r){Wo(n,function(n){e.call(t,n,r,this)},this)},this)},So.T=function(){wc(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},So.R=function(e){wc(this);var t=[];if("string"==typeof e)_c(this,e)&&(t=Qo(t,this.g.get(Ic(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Qo(t,e[n])}return t},So.set=function(e,t){return wc(this),this.i=null,_c(this,e=Ic(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},So.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},So.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Sc=10;function Ac(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Cc(e){return e.h?1:e.g?e.g.size:0}function kc(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xc(e,t){e.g?e.g.add(t):e.h=t}function Oc(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nc(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Yo(e.i)}function Rc(){}function Pc(){this.g=new Rc}function Dc(e,t,n){const r=n||"";try{Yu(e,function(e,n){let i=e;Uo(e)&&(i=Qa(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Mc(e){this.l=e.$b||null,this.j=e.ib||!1}function Zc(e,t){Ga.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Uc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ec.prototype.cancel=function(){if(this.i=Nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Rc.prototype.stringify=function(e){return Lo.JSON.stringify(e,void 0)},Rc.prototype.parse=function(e){return Lo.JSON.parse(e,void 0)},Ho(Mc,ku),Mc.prototype.g=function(){return new Zc(this.l,this.j)},Mc.prototype.i=function(e){return function(){return e}}({}),Ho(Zc,Ga);var Uc=0;function Fc(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function qc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vc(e)}function Vc(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(So=Zc.prototype).open=function(e,t){if(this.readyState!=Uc)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vc(this)},So.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Lo).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},So.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qc(this)),this.readyState=Uc},So.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fc(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},So.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qc(this):Vc(this),3==this.readyState&&Fc(this)}},So.Ua=function(e){this.g&&(this.response=this.responseText=e,qc(this))},So.Ta=function(e){this.g&&(this.response=e,qc(this))},So.ha=function(){this.g&&qc(this)},So.setRequestHeader=function(e,t){this.v.append(e,t)},So.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},So.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jc=Lo.JSON.parse;function zc(e){Ga.call(this),this.headers=new Ju,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bc,this.K=this.L=!1}Ho(zc,Ga);var Bc="",Hc=/^https?$/i,$c=["POST","PUT"];function Gc(e){return"content-type"==e.toLowerCase()}function Kc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wc(e),Yc(e)}function Wc(e){e.D||(e.D=!0,Ka(e,"complete"),Ka(e,"error"))}function Qc(e){if(e.h&&void 0!==Do&&(!e.C[1]||4!=Xc(e)||2!=e.ba()))if(e.v&&4==Xc(e))uu(e.Fa,0,e);else if(Ka(e,"readystatechange"),4==Xc(e)){e.h=!1;try{const u=e.ba();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===u){var i=String(e.H).match(tc)[1]||null;if(!i&&Lo.self&&Lo.self.location){var s=Lo.self.location.protocol;i=s.substr(0,s.length-1)}r=!Hc.test(i?i.toLowerCase():"")}n=r}if(n)Ka(e,"complete"),Ka(e,"success");else{e.m=6;try{var o=2<Xc(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Wc(e)}}finally{Yc(e)}}}function Yc(e,t){if(e.g){Jc(e);const r=e.g,i=e.C[0]?Mo:null;e.g=null,e.C=null,t||Ka(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Jc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Lo.clearTimeout(e.A),e.A=null)}function Xc(e){return e.g?e.g.readyState:0}function el(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Bc:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function tl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return sa(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):uc(e,t,n))}function nl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rl(e){this.za=0,this.l=[],this.h=new gu,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nl("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nl("baseRetryDelayMs",5e3,e),this.$a=nl("retryDelaySeedMs",1e4,e),this.Ya=nl("forwardChannelMaxRetries",2,e),this.ra=nl("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ec(e&&e.concurrentRequestLimit),this.Ca=new Pc,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function il(e){if(ol(e),3==e.G){var t=e.V++,n=rc(e.F);uc(n,"SID",e.J),uc(n,"RID",t),uc(n,"TYPE","terminate"),ll(e,n),(t=new Lu(e,e.h,t,void 0)).K=2,t.v=cc(rc(n)),n=!1,Lo.navigator&&Lo.navigator.sendBeacon&&(n=Lo.navigator.sendBeacon(t.v.toString(),"")),!n&&Lo.Image&&((new Image).src=t.v,n=!0),n||(t.g=Tl(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Hu(t)}bl(e)}function sl(e){e.g&&(pl(e),e.g.cancel(),e.g=null)}function ol(e){sl(e),e.u&&(Lo.clearTimeout(e.u),e.u=null),ml(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Lo.clearTimeout(e.m),e.m=null)}function al(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&ul(e)}function ul(e){Ac(e.i)||e.m||(e.m=!0,nu(e.Ha,e),e.C=0)}function cl(e,t){var n;n=t?t.m:e.V++;const r=rc(e.F);uc(r,"SID",e.J),uc(r,"RID",n),uc(r,"AID",e.U),ll(e,r),e.o&&e.s&&tl(r,e.o,e.s),n=new Lu(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=hl(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),xc(e.i,n),qu(n,r,t)}function ll(e,t){e.j&&Yu({},function(e,n){uc(t,n,e)})}function hl(e,t,n){n=Math.min(e.l.length,n);var r=e.j?zo(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{Dc(a,e,"req"+n+"_")}catch(eh){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function dl(e){e.g||e.u||(e.Y=1,nu(e.Ga,e),e.A=0)}function fl(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Su(zo(e.Ga,e),vl(e,e.A)),e.A++,0))}function pl(e){null!=e.B&&(Lo.clearTimeout(e.B),e.B=null)}function gl(e){e.g=new Lu(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=rc(e.oa);uc(t,"RID","rpc"),uc(t,"SID",e.J),uc(t,"CI",e.N?"0":"1"),uc(t,"AID",e.U),ll(e,t),uc(t,"TYPE","xmlhttp"),e.o&&e.s&&tl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=cc(rc(t)),n.s=null,n.U=!0,Vu(n,e)}function ml(e){null!=e.v&&(Lo.clearTimeout(e.v),e.v=null)}function yl(e,t){var n=null;if(e.g==t){ml(e),pl(e),e.g=null;var r=2}else{if(!kc(e.i,t))return;n=t.D,Oc(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ka(r=wu(),new Eu(r,n,t,i)),ul(e)}else dl(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Cc(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Su(zo(e.Ha,e,t),vl(e,e.C)),e.C++,0)))}(e,t)||2==r&&fl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wl(e,5);break;case 4:wl(e,10);break;case 3:wl(e,6);break;default:wl(e,2)}}function vl(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wl(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=zo(e.jb,e);n||(n=new nc("//www.google.com/images/cleardot.gif"),Lo.location&&"http"==Lo.location.protocol||ic(n,"https"),cc(n)),function(e,t){const n=new gu;if(Lo.Image){const r=new Image;r.onload=Bo(Lc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bo(Lc,n,r,"TestLoadImage: error",!1,t),r.onabort=Bo(Lc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bo(Lc,n,r,"TestLoadImage: timeout",!1,t),Lo.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Iu(2);e.G=0,e.j&&e.j.va(t),bl(e),ol(e)}function bl(e){e.G=0,e.I=-1,e.j&&(0==Nc(e.i).length&&0==e.l.length||(e.i.i.length=0,Yo(e.l),e.l.length=0),e.j.ua())}function _l(e,t,n){let r=function(e){return e instanceof nc?rc(e):new nc(e,void 0)}(n);if(""!=r.i)t&&sc(r,t+"."+r.i),oc(r,r.m);else{const e=Lo.location;r=function(e,t,n,r){var i=new nc(null,void 0);return e&&ic(i,e),t&&sc(i,t),n&&oc(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&sa(e.aa,function(e,t){uc(r,t,e)}),n=e.sa,(t=e.D)&&n&&uc(r,t,n),uc(r,"VER",e.ma),ll(e,r),r}function Tl(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new zc(n&&e.Ba&&!e.qa?new Mc({ib:!0}):e.qa)).L=e.H,t}function Il(){}function El(){if(fa&&!(10<=Number(Ia)))throw Error("Environmental error: no available transport.")}function Sl(e,t){Ga.call(this),this.g=new rl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Jo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jo(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new kl(this)}function Al(e){Ru.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cl(){Pu.call(this),this.status=1}function kl(e){this.g=e}(So=zc.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ou.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Ou),this.g.onreadystatechange=zo(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Kc(this,s)}e=n||"";const i=new Ju(this.headers);r&&Yu(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=Gc;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Lo.FormData&&e instanceof Lo.FormData,!(0<=Ko($c,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jc(this),0<this.B&&((this.K=function(e){return fa&&function(){return e=Ta,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=ea(String(la)).split("."),n=ea("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=na(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||na(0==i[2].length,0==s[2].length)||na(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zo(this.pa,this)):this.A=uu(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kc(this,s)}},So.pa=function(){void 0!==Do&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ka(this,"timeout"),this.abort(8))},So.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ka(this,"complete"),Ka(this,"abort"),Yc(this))},So.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yc(this,!0)),zc.Z.M.call(this)},So.Fa=function(){this.s||(this.F||this.v||this.l?Qc(this):this.cb())},So.cb=function(){Qc(this)},So.ba=function(){try{return 2<Xc(this)?this.g.status:-1}catch(ha){return-1}},So.ga=function(){try{return this.g?this.g.responseText:""}catch(ha){return""}},So.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jc(t)}},So.Da=function(){return this.m},So.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(So=rl.prototype).ma=8,So.G=1,So.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},So.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Lu(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=oa(s),ua(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hl(this,i,t),uc(n=rc(this.F),"RID",e),uc(n,"CVER",22),this.D&&uc(n,"X-HTTP-Session-Id",this.D),ll(this,n),this.o&&s&&tl(n,this.o,s),xc(this.i,i),this.Ra&&uc(n,"TYPE","init"),this.ja?(uc(n,"$req",t),uc(n,"SID","null"),i.$=!0,qu(i,n,null)):qu(i,n,t),this.G=2}}else 3==this.G&&(e?cl(this,e):0==this.l.length||Ac(this.i)||cl(this))},So.Ga=function(){if(this.u=null,gl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Su(zo(this.bb,this),e)}},So.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Iu(10),sl(this),gl(this))},So.ab=function(){null!=this.v&&(this.v=null,sl(this),fl(this),Iu(19))},So.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Iu(2)):(this.h.info("Failed to ping google.com"),Iu(1))},(So=Il.prototype).xa=function(){},So.wa=function(){},So.va=function(){},So.ua=function(){},So.Oa=function(){},El.prototype.g=function(e,t){return new Sl(e,t)},Ho(Sl,Ga),Sl.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),nu(zo(e.hb,e,t))),Iu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=_l(e,null,e.W),ul(e)},Sl.prototype.close=function(){il(this.g)},Sl.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,al(this.g,t)}else this.v?((t={}).__data__=Qa(e),al(this.g,t)):al(this.g,e)},Sl.prototype.M=function(){this.g.j=null,delete this.j,il(this.g),delete this.g,Sl.Z.M.call(this)},Ho(Al,Ru),Ho(Cl,Pu),Ho(kl,Il),kl.prototype.xa=function(){Ka(this.g,"a")},kl.prototype.wa=function(e){Ka(this.g,new Al(e))},kl.prototype.va=function(e){Ka(this.g,new Cl(e))},kl.prototype.ua=function(){Ka(this.g,"b")},El.prototype.createWebChannel=El.prototype.g,Sl.prototype.send=Sl.prototype.u,Sl.prototype.open=Sl.prototype.m,Sl.prototype.close=Sl.prototype.close,Au.NO_ERROR=0,Au.TIMEOUT=8,Au.HTTP_ERROR=6,Cu.COMPLETE="complete",xu.EventType=Nu,Nu.OPEN="a",Nu.CLOSE="b",Nu.ERROR="c",Nu.MESSAGE="d",Ga.prototype.listen=Ga.prototype.N,zc.prototype.listenOnce=zc.prototype.O,zc.prototype.getLastError=zc.prototype.La,zc.prototype.getLastErrorCode=zc.prototype.Da,zc.prototype.getStatus=zc.prototype.ba,zc.prototype.getResponseJson=zc.prototype.Qa,zc.prototype.getResponseText=zc.prototype.ga,zc.prototype.send=zc.prototype.ea;var xl=Po.createWebChannelTransport=function(){return new El},Ol=Po.getStatEventTarget=function(){return wu()},Nl=Po.ErrorCode=Au,Rl=Po.EventType=Cu,Pl=Po.Event=yu,Dl=Po.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ll=Po.FetchXmlHttpFactory=Mc,Ml=Po.WebChannel=xu,Zl=Po.XhrIo=zc;const Ul="@firebase/firestore";class Fl{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fl.UNAUTHENTICATED=new Fl(null),Fl.GOOGLE_CREDENTIALS=new Fl("google-credentials-uid"),Fl.FIRST_PARTY=new Fl("first-party-uid"),Fl.MOCK_USER=new Fl("mock-user");let ql="9.1.3";const Vl=new Oo.Yd("@firebase/firestore");function jl(){return Vl.logLevel}function zl(e,...t){if(Vl.logLevel<=Oo.in.DEBUG){const n=t.map($l);Vl.debug(`Firestore (${ql}): ${e}`,...n)}}function Bl(e,...t){if(Vl.logLevel<=Oo.in.ERROR){const n=t.map($l);Vl.error(`Firestore (${ql}): ${e}`,...n)}}function Hl(e,...t){if(Vl.logLevel<=Oo.in.WARN){const n=t.map($l);Vl.warn(`Firestore (${ql}): ${e}`,...n)}}function $l(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Gl(e="Unexpected state"){const t=`FIRESTORE (${ql}) INTERNAL ASSERTION FAILED: `+e;throw Bl(t),new Error(t)}function Kl(e,t){e||Gl()}function Wl(e,t){return e}const Ql={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yl extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Xl{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class eh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fl.UNAUTHENTICATED))}shutdown(){}}class th{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nh{constructor(e){this.t=e,this.currentUser=Fl.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new Jl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,Co.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{zl("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(zl("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jl)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(zl("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Kl("string"==typeof t.accessToken),new Xl(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Kl(null===e||"string"==typeof e),new Fl(e)}}class rh{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Fl.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class ih{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new rh(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fl.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function oh(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}sh.T=-1;class ah{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=oh(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function uh(e,t){return e<t?-1:e>t?1:0}function ch(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function lh(e){return e+"\0"}class hh{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Yl(Ql.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Yl(Ql.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Yl(Ql.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Yl(Ql.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hh.fromMillis(Date.now())}static fromDate(e){return hh.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new hh(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?uh(this.nanoseconds,e.nanoseconds):uh(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dh{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dh(e)}static min(){return new dh(new hh(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function fh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ph(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function gh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class mh{constructor(e,t,n){void 0===t?t=0:t>e.length&&Gl(),void 0===n?n=e.length-t:n>e.length-t&&Gl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===mh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mh?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yh extends mh{construct(e,t,n){return new yh(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Yl(Ql.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new yh(t)}static emptyPath(){return new yh([])}}const vh=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wh extends mh{construct(e,t,n){return new wh(e,t,n)}static isValidIdentifier(e){return vh.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wh.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wh(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Yl(Ql.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Yl(Ql.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Yl(Ql.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Yl(Ql.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wh(t)}static emptyPath(){return new wh([])}}class bh{constructor(e){this.fields=e,e.sort(wh.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ch(this.fields,e.fields,(e,t)=>e.isEqual(t))}}let _h=(()=>{class e{constructor(e){this.binaryString=e}static fromBase64String(t){const n=atob(t);return new e(n)}static fromUint8Array(t){const n=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return uh(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}return e.EMPTY_BYTE_STRING=new e(""),e})();const Th=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ih(e){if(Kl(!!e),"string"==typeof e){let t=0;const n=Th.exec(e);if(Kl(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Eh(e.seconds),nanos:Eh(e.nanos)}}function Eh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sh(e){return"string"==typeof e?_h.fromBase64String(e):_h.fromUint8Array(e)}function Ah(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ch(e){const t=e.mapValue.fields.__previous_value__;return Ah(t)?Ch(t):t}function kh(e){const t=Ih(e.mapValue.fields.__local_write_time__.timestampValue);return new hh(t.seconds,t.nanos)}function xh(e){return null==e}function Oh(e){return 0===e&&1/e==-1/0}function Nh(e){return"number"==typeof e&&Number.isInteger(e)&&!Oh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Rh{constructor(e){this.path=e}static fromPath(e){return new Rh(yh.fromString(e))}static fromName(e){return new Rh(yh.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===yh.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yh.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rh(new yh(e.slice()))}}function Ph(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ah(e)?4:10:Gl()}function Dh(e,t){const n=Ph(e);if(n!==Ph(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kh(e).isEqual(kh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ih(e.timestampValue),r=Ih(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sh(e.bytesValue).isEqual(Sh(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Eh(e.geoPointValue.latitude)===Eh(t.geoPointValue.latitude)&&Eh(e.geoPointValue.longitude)===Eh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Eh(e.integerValue)===Eh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Eh(e.doubleValue),r=Eh(t.doubleValue);return n===r?Oh(n)===Oh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ch(e.arrayValue.values||[],t.arrayValue.values||[],Dh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fh(n)!==fh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Dh(n[i],r[i])))return!1;return!0}(e,t);default:return Gl()}}function Lh(e,t){return void 0!==(e.values||[]).find(e=>Dh(e,t))}function Mh(e,t){const n=Ph(e),r=Ph(t);if(n!==r)return uh(n,r);switch(n){case 0:return 0;case 1:return uh(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Eh(e.integerValue||e.doubleValue),r=Eh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zh(e.timestampValue,t.timestampValue);case 4:return Zh(kh(e),kh(t));case 5:return uh(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Sh(e),r=Sh(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=uh(n[i],r[i]);if(0!==e)return e}return uh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=uh(Eh(e.latitude),Eh(t.latitude));return 0!==n?n:uh(Eh(e.longitude),Eh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Mh(n[i],r[i]);if(e)return e}return uh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=uh(r[o],s[o]);if(0!==e)return e;const t=Mh(n[r[o]],i[s[o]]);if(0!==t)return t}return uh(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Gl()}}function Zh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return uh(e,t);const n=Ih(e),r=Ih(t),i=uh(n.seconds,r.seconds);return 0!==i?i:uh(n.nanos,r.nanos)}function Uh(e){return Fh(e)}function Fh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ih(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sh(e.bytesValue).toBase64():"referenceValue"in e?Rh.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Fh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Fh(e.fields[i])}`;return n+"}"}(e.mapValue):Gl();var t}function qh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Vh(e){return!!e&&"integerValue"in e}function jh(e){return!!e&&"arrayValue"in e}function zh(e){return!!e&&"nullValue"in e}function Bh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hh(e){return!!e&&"mapValue"in e}function $h(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ph(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=$h(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$h(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Gh{constructor(e){this.value=e}static empty(){return new Gh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$h(t)}setAll(e){let t=wh.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=$h(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Dh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Hh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ph(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Gh($h(this.value))}}function Kh(e){const t=[];return ph(e.fields,(e,n)=>{const r=new wh([e]);if(Hh(n)){const e=Kh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new bh(t)}class Wh{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Wh(e,0,dh.min(),Gh.empty(),0)}static newFoundDocument(e,t,n){return new Wh(e,1,t,n,0)}static newNoDocument(e,t){return new Wh(e,2,t,Gh.empty(),0)}static newUnknownDocument(e,t){return new Wh(e,3,t,Gh.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Wh(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qh{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function Yh(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Qh(e,t,n,r,i,s,o)}function Jh(e){const t=Wl(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+Uh(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),xh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=hd(t.startAt)),t.endAt&&(e+="|ub:",e+=hd(t.endAt)),t.A=e}return t.A}function Xh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!fd(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Dh(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gd(e.startAt,t.startAt)&&gd(e.endAt,t.endAt)}function ed(e){return Rh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class td extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new nd(e,t,n):"array-contains"===t?new od(e,n):"in"===t?new ad(e,n):"not-in"===t?new ud(e,n):"array-contains-any"===t?new cd(e,n):new td(e,t,n)}static R(e,t,n){return"in"===t?new rd(e,n):new id(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Mh(t,this.value)):null!==t&&Ph(this.value)===Ph(t)&&this.P(Mh(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gl()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nd extends td{constructor(e,t,n){super(e,t,n),this.key=Rh.fromName(n.referenceValue)}matches(e){const t=Rh.comparator(e.key,this.key);return this.P(t)}}class rd extends td{constructor(e,t){super(e,"in",t),this.keys=sd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class id extends td{constructor(e,t){super(e,"not-in",t),this.keys=sd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Rh.fromName(e.referenceValue))}class od extends td{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jh(t)&&Lh(t.arrayValue,this.value)}}class ad extends td{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lh(this.value.arrayValue,t)}}class ud extends td{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lh(this.value.arrayValue,t)}}class cd extends td{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Lh(this.value.arrayValue,e))}}class ld{constructor(e,t){this.position=e,this.before=t}}function hd(e){return`${e.before?"b":"a"}:${e.position.map(e=>Uh(e)).join(",")}`}class dd{constructor(e,t="asc"){this.field=e,this.dir=t}}function fd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function pd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Rh.comparator(Rh.fromName(o.referenceValue),n.key):Mh(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function gd(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Dh(e.position[n],t.position[n]))return!1;return!0}class md{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function yd(e,t,n,r,i,s,o,a){return new md(e,t,n,r,i,s,o,a)}function vd(e){return new md(e)}function wd(e){return!xh(e.limit)&&"F"===e.limitType}function bd(e){return!xh(e.limit)&&"L"===e.limitType}function _d(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Td(e){for(const t of e.filters)if(t.v())return t.field;return null}function Id(e){return null!==e.collectionGroup}function Ed(e){const t=Wl(e);if(null===t.V){t.V=[];const e=Td(t),n=_d(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new dd(e)),t.V.push(new dd(wh.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new dd(wh.keyField(),e))}}}return t.V}function Sd(e){const t=Wl(e);if(!t.S)if("F"===t.limitType)t.S=Yh(t.path,t.collectionGroup,Ed(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Ed(t))e.push(new dd(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new ld(t.endAt.position,!t.endAt.before):null,r=t.startAt?new ld(t.startAt.position,!t.startAt.before):null;t.S=Yh(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function Ad(e,t,n){return new md(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cd(e,t){return Xh(Sd(e),Sd(t))&&e.limitType===t.limitType}function kd(e){return`${Jh(Sd(e))}|lt:${e.limitType}`}function xd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Uh(t.value)}`;var t}).join(", ")}]`),xh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+hd(e.startAt)),e.endAt&&(t+=", endAt: "+hd(e.endAt)),`Target(${t})`}(Sd(e))}; limitType=${e.limitType})`}function Od(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!pd(e.startAt,Ed(e),t)||e.endAt&&pd(e.endAt,Ed(e),t))}(e,t)}function Nd(e){return(t,n)=>{let r=!1;for(const i of Ed(e)){const e=Rd(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Rd(e,t,n){const r=e.field.isKeyField()?Rh.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mh(r,i):Gl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Gl()}}function Pd(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(t)?"-0":t}}function Dd(e){return{integerValue:""+e}}function Ld(e,t){return Nh(t)?Dd(t):Pd(e,t)}class Md{constructor(){this._=void 0}}function Zd(e,t,n){return e instanceof qd?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Vd?jd(e,t):e instanceof zd?Bd(e,t):function(e,t){const n=Fd(e,t),r=$d(n)+$d(e.C);return Vh(n)&&Vh(e.C)?Dd(r):Pd(e.N,r)}(e,t)}function Ud(e,t,n){return e instanceof Vd?jd(e,t):e instanceof zd?Bd(e,t):n}function Fd(e,t){return e instanceof Hd?Vh(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class qd extends Md{}class Vd extends Md{constructor(e){super(),this.elements=e}}function jd(e,t){const n=Gd(t);for(const r of e.elements)n.some(e=>Dh(e,r))||n.push(r);return{arrayValue:{values:n}}}class zd extends Md{constructor(e){super(),this.elements=e}}function Bd(e,t){let n=Gd(t);for(const r of e.elements)n=n.filter(e=>!Dh(e,r));return{arrayValue:{values:n}}}class Hd extends Md{constructor(e,t){super(),this.N=e,this.C=t}}function $d(e){return Eh(e.integerValue||e.doubleValue)}function Gd(e){return jh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Kd{constructor(e,t){this.field=e,this.transform=t}}class Wd{constructor(e,t){this.version=e,this.transformResults=t}}class Qd{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qd}static exists(e){return new Qd(void 0,e)}static updateTime(e){return new Qd(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yd(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Jd{}function Xd(e,t,n){e instanceof sf?function(e,t,n){const r=e.value.clone(),i=uf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof of?function(e,t,n){if(!Yd(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=uf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(af(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ef(e,t,n){e instanceof sf?function(e,t,n){if(!Yd(e.precondition,t))return;const r=e.value.clone(),i=cf(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(rf(t),r).setHasLocalMutations()}(e,t,n):e instanceof of?function(e,t,n){if(!Yd(e.precondition,t))return;const r=cf(e.fieldTransforms,n,t),i=t.data;i.setAll(af(e)),i.setAll(r),t.convertToFoundDocument(rf(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Yd(e.precondition,t)&&t.convertToNoDocument(dh.min())}(e,t)}function tf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Fd(r.transform,e||null);null!=i&&(null==n&&(n=Gh.empty()),n.set(r.field,i))}return n||null}function nf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ch(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Vd&&t instanceof Vd||e instanceof zd&&t instanceof zd?ch(e.elements,t.elements,Dh):e instanceof Hd&&t instanceof Hd?Dh(e.C,t.C):e instanceof qd&&t instanceof qd}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function rf(e){return e.isFoundDocument()?e.version:dh.min()}class sf extends Jd{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class of extends Jd{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function af(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function uf(e,t,n){const r=new Map;Kl(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Ud(o,a,n[i]))}return r}function cf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Zd(e,s,t))}return r}class lf extends Jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class hf extends Jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class df{constructor(e){this.count=e}}var ff,pf;function gf(e){switch(e){default:return Gl();case Ql.CANCELLED:case Ql.UNKNOWN:case Ql.DEADLINE_EXCEEDED:case Ql.RESOURCE_EXHAUSTED:case Ql.INTERNAL:case Ql.UNAVAILABLE:case Ql.UNAUTHENTICATED:return!1;case Ql.INVALID_ARGUMENT:case Ql.NOT_FOUND:case Ql.ALREADY_EXISTS:case Ql.PERMISSION_DENIED:case Ql.FAILED_PRECONDITION:case Ql.ABORTED:case Ql.OUT_OF_RANGE:case Ql.UNIMPLEMENTED:case Ql.DATA_LOSS:return!0}}function mf(e){if(void 0===e)return Bl("GRPC error has no .code"),Ql.UNKNOWN;switch(e){case ff.OK:return Ql.OK;case ff.CANCELLED:return Ql.CANCELLED;case ff.UNKNOWN:return Ql.UNKNOWN;case ff.DEADLINE_EXCEEDED:return Ql.DEADLINE_EXCEEDED;case ff.RESOURCE_EXHAUSTED:return Ql.RESOURCE_EXHAUSTED;case ff.INTERNAL:return Ql.INTERNAL;case ff.UNAVAILABLE:return Ql.UNAVAILABLE;case ff.UNAUTHENTICATED:return Ql.UNAUTHENTICATED;case ff.INVALID_ARGUMENT:return Ql.INVALID_ARGUMENT;case ff.NOT_FOUND:return Ql.NOT_FOUND;case ff.ALREADY_EXISTS:return Ql.ALREADY_EXISTS;case ff.PERMISSION_DENIED:return Ql.PERMISSION_DENIED;case ff.FAILED_PRECONDITION:return Ql.FAILED_PRECONDITION;case ff.ABORTED:return Ql.ABORTED;case ff.OUT_OF_RANGE:return Ql.OUT_OF_RANGE;case ff.UNIMPLEMENTED:return Ql.UNIMPLEMENTED;case ff.DATA_LOSS:return Ql.DATA_LOSS;default:return Gl()}}(pf=ff||(ff={}))[pf.OK=0]="OK",pf[pf.CANCELLED=1]="CANCELLED",pf[pf.UNKNOWN=2]="UNKNOWN",pf[pf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pf[pf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pf[pf.NOT_FOUND=5]="NOT_FOUND",pf[pf.ALREADY_EXISTS=6]="ALREADY_EXISTS",pf[pf.PERMISSION_DENIED=7]="PERMISSION_DENIED",pf[pf.UNAUTHENTICATED=16]="UNAUTHENTICATED",pf[pf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pf[pf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pf[pf.ABORTED=10]="ABORTED",pf[pf.OUT_OF_RANGE=11]="OUT_OF_RANGE",pf[pf.UNIMPLEMENTED=12]="UNIMPLEMENTED",pf[pf.INTERNAL=13]="INTERNAL",pf[pf.UNAVAILABLE=14]="UNAVAILABLE",pf[pf.DATA_LOSS=15]="DATA_LOSS";class yf{constructor(e,t){this.comparator=e,this.root=t||wf.EMPTY}insert(e,t){return new yf(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wf.BLACK,null,null))}remove(e){return new yf(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wf.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vf(this.root,e,this.comparator,!0)}}class vf{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wf{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:wf.RED,this.left=null!=r?r:wf.EMPTY,this.right=null!=i?i:wf.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new wf(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wf.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return wf.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Gl();if(this.right.isRed())throw Gl();const e=this.left.check();if(e!==this.right.check())throw Gl();return e+(this.isRed()?0:1)}}wf.EMPTY=null,wf.RED=!0,wf.BLACK=!1,wf.EMPTY=new class{constructor(){this.size=0}get key(){throw Gl()}get value(){throw Gl()}get color(){throw Gl()}get left(){throw Gl()}get right(){throw Gl()}copy(e,t,n,r,i){return this}insert(e,t,n){return new wf(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bf{constructor(e){this.comparator=e,this.data=new yf(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _f(this.data.getIterator())}getIteratorFrom(e){return new _f(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof bf))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bf(this.comparator);return t.data=e,t}}class _f{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Tf=new yf(Rh.comparator);function If(){return Tf}const Ef=new yf(Rh.comparator);function Sf(){return Ef}const Af=new yf(Rh.comparator);function Cf(){return Af}const kf=new bf(Rh.comparator);function xf(...e){let t=kf;for(const n of e)t=t.add(n);return t}const Of=new bf(uh);function Nf(){return Of}class Rf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Pf.createSynthesizedTargetChangeForCurrentChange(e,t)),new Rf(dh.min(),n,Nf(),If(),xf())}}class Pf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Pf(_h.EMPTY_BYTE_STRING,t,xf(),xf(),xf())}}class Df{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class Lf{constructor(e,t){this.targetId=e,this.O=t}}class Mf{constructor(e,t,n=_h.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Zf{constructor(){this.F=0,this.M=qf(),this.L=_h.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=xf(),t=xf(),n=xf();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Gl()}}),new Pf(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=qf()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Uf{constructor(e){this.tt=e,this.et=new Map,this.nt=If(),this.st=Ff(),this.it=new bf(uh)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:Gl()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(ed(e))if(0===n){const n=new Rh(e.path);this.at(t,n,Wh.newNoDocument(n,dh.min()))}else Kl(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&ed(i.target)){const t=new Rh(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,Wh.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=xf();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new Rf(e,t,this.it,this.nt,n);return this.nt=If(),this.st=Ff(),this.it=new bf(uh),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Zf,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new bf(uh),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||zl("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new Zf),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Ff(){return new yf(Rh.comparator)}function qf(){return new yf(Rh.comparator)}const Vf={asc:"ASCENDING",desc:"DESCENDING"},jf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class zf{constructor(e,t){this.databaseId=e,this.D=t}}function Bf(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hf(e,t){return e.D?t.toBase64():t.toUint8Array()}function $f(e,t){return Bf(e,t.toTimestamp())}function Gf(e){return Kl(!!e),dh.fromTimestamp(function(e){const t=Ih(e);return new hh(t.seconds,t.nanos)}(e))}function Kf(e,t){return function(e){return new yh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Wf(e){const t=yh.fromString(e);return Kl(wp(t)),t}function Qf(e,t){return Kf(e.databaseId,t.path)}function Yf(e,t){const n=Wf(t);if(n.get(1)!==e.databaseId.projectId)throw new Yl(Ql.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yl(Ql.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rh(tp(n))}function Jf(e,t){return Kf(e.databaseId,t)}function Xf(e){const t=Wf(e);return 4===t.length?yh.emptyPath():tp(t)}function ep(e){return new yh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function tp(e){return Kl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function np(e,t,n){return{name:Qf(e,t),fields:n.value.mapValue.fields}}function rp(e,t,n){const r=Yf(e,t.name),i=Gf(t.updateTime),s=new Gh({mapValue:{fields:t.fields}}),o=Wh.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function ip(e,t){let n;if(t instanceof sf)n={update:np(e,t.key,t.value)};else if(t instanceof lf)n={delete:Qf(e,t.key)};else if(t instanceof of)n={update:np(e,t.key,t.data),updateMask:vp(t.fieldMask)};else{if(!(t instanceof hf))return Gl();n={verify:Qf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof qd)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hd)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Gl()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$f(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Gl()}(e,t.precondition)),n}function sp(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Qd.updateTime(Gf(e.updateTime)):void 0!==e.exists?Qd.exists(e.exists):Qd.none()}(t.currentDocument):Qd.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(Kl("REQUEST_TIME"===t.setToServerValue),n=new qd):"appendMissingElements"in t?n=new Vd(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new zd(t.removeAllFromArray.values||[]):"increment"in t?n=new Hd(e,t.increment):Gl();const r=wh.fromServerFormat(t.fieldPath);return new Kd(r,n)}(e,t)):[];if(t.update){const i=Yf(e,t.update.name),s=new Gh({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new bh((e.fieldPaths||[]).map(e=>wh.fromServerFormat(e)))}(t.updateMask);return new of(i,s,e,n,r)}return new sf(i,s,n,r)}if(t.delete){const r=Yf(e,t.delete);return new lf(r,n)}if(t.verify){const r=Yf(e,t.verify);return new hf(r,n)}return Gl()}function op(e,t){return{documents:[Jf(e,t.path)]}}function ap(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Jf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Jf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(Bh(e.value))return{unaryFilter:{field:pp(e.field),op:"IS_NAN"}};if(zh(e.value))return{unaryFilter:{field:pp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bh(e.value))return{unaryFilter:{field:pp(e.field),op:"IS_NOT_NAN"}};if(zh(e.value))return{unaryFilter:{field:pp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pp(e.field),op:fp(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:pp(e.field),direction:dp(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||xh(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=lp(t.startAt)),t.endAt&&(n.structuredQuery.endAt=lp(t.endAt)),n}function up(e){let t=Xf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Kl(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=cp(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new dd(gp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,xh(t)?null:t}(n.limit));let u=null;n.startAt&&(u=hp(n.startAt));let c=null;return n.endAt&&(c=hp(n.endAt)),yd(t,i,o,s,a,"F",u,c)}function cp(e){return e?void 0!==e.unaryFilter?[yp(e)]:void 0!==e.fieldFilter?[mp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>cp(e)).reduce((e,t)=>e.concat(t)):Gl():[]}function lp(e){return{before:e.before,values:e.position}}function hp(e){return new ld(e.values||[],!!e.before)}function dp(e){return Vf[e]}function fp(e){return jf[e]}function pp(e){return{fieldPath:e.canonicalString()}}function gp(e){return wh.fromServerFormat(e.fieldPath)}function mp(e){return td.create(gp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gl()}}(e.fieldFilter.op),e.fieldFilter.value)}function yp(e){switch(e.unaryFilter.op){case"IS_NAN":const t=gp(e.unaryFilter.field);return td.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=gp(e.unaryFilter.field);return td.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gp(e.unaryFilter.field);return td.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=gp(e.unaryFilter.field);return td.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Gl()}}function vp(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function wp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function bp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Tp(t)),t=_p(e.get(n),t);return Tp(t)}function _p(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Tp(e){return e+"\x01\x01"}function Ip(e){const t=e.length;if(Kl(t>=2),2===t)return Kl("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),yh.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Gl(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Gl()}s=t+2}return new yh(r)}class Ep{constructor(e,t){this.seconds=e,this.nanoseconds=t}}let Sp=(()=>{class e{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}return e.store="owner",e.key="owner",e})(),Ap=(()=>{class e{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}return e.store="mutationQueues",e.keyPath="userId",e})();class Cp{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Cp.store="mutations",Cp.keyPath="batchId",Cp.userMutationsIndex="userMutationsIndex",Cp.userMutationsKeyPath=["userId","batchId"];let kp=(()=>{class e{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,bp(t)]}static key(e,t,n){return[e,bp(t),n]}}return e.store="documentMutations",e.PLACEHOLDER=new e,e})();class xp{constructor(e,t){this.path=e,this.readTime=t}}class Op{constructor(e,t){this.path=e,this.version=t}}class Np{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Np.store="remoteDocuments",Np.readTimeIndex="readTimeIndex",Np.readTimeIndexPath="readTime",Np.collectionReadTimeIndex="collectionReadTimeIndex",Np.collectionReadTimeIndexPath=["parentPath","readTime"];let Rp=(()=>{class e{constructor(e){this.byteSize=e}}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e})();class Pp{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Pp.store="targets",Pp.keyPath="targetId",Pp.queryTargetsIndexName="queryTargetsIndex",Pp.queryTargetsKeyPath=["canonicalId","targetId"];class Dp{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Dp.store="targetDocuments",Dp.keyPath=["targetId","path"],Dp.documentTargetsIndex="documentTargetsIndex",Dp.documentTargetsKeyPath=["path","targetId"];let Lp=(()=>{class e{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}return e.key="targetGlobalKey",e.store="targetGlobal",e})(),Mp=(()=>{class e{constructor(e,t){this.collectionId=e,this.parent=t}}return e.store="collectionParents",e.keyPath=["collectionId","parent"],e})(),Zp=(()=>{class e{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}return e.store="clientMetadata",e.keyPath="clientId",e})(),Up=(()=>{class e{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}return e.store="bundles",e.keyPath="bundleId",e})(),Fp=(()=>{class e{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}return e.store="namedQueries",e.keyPath="name",e})();const qp=[Ap.store,Cp.store,kp.store,Np.store,Pp.store,Sp.store,Lp.store,Dp.store,Zp.store,Rp.store,Mp.store,Up.store,Fp.store],Vp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class zp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new zp((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof zp?t:zp.resolve(t)}catch(e){return zp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):zp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):zp.reject(t)}static resolve(e){return new zp((t,n)=>{t(e)})}static reject(e){return new zp((t,n)=>{n(e)})}static waitFor(e){return new zp((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=zp.resolve(!1);for(const n of e)t=t.next(e=>e?zp.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class Bp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Jl,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new Gp(e,t.error)):this.Et.resolve()},this.transaction.onerror=t=>{const n=Jp(t.target.error);this.Et.reject(new Gp(e,n))}}static open(e,t,n,r){try{return new Bp(t,e.transaction(r,n))}catch(e){throw new Gp(t,e)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(zl("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Wp(t)}}class Hp{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===Hp.Rt((0,No.z$)())&&Bl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return zl("SimpleDb","Removing database:",e),Qp(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,No.hl)())return!1;if(Hp.Pt())return!0;const e=(0,No.z$)(),t=Hp.Rt(e),n=0<t&&t<10,r=Hp.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(e){var t=this;return(0,Co.Z)(function*(){return t.db||(zl("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new Gp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new Yl(Ql.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new Yl(Ql.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Gp(e,n))},i.onupgradeneeded=e=>{zl("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{zl("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=e=>t.Nt(e)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,Co.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Dt(e);const t=Bp.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).catch(e=>(t.abort(e),zp.reject(e))).toPromise();return o.catch(()=>{}),yield t.It,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(zl("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $p{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Qp(this.kt.delete())}}class Gp extends Yl{constructor(e,t){super(Ql.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Kp(e){return"IndexedDbTransactionError"===e.name}class Wp{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(zl("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(zl("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Qp(n)}add(e){return zl("SimpleDb","ADD",this.store.name,e,e),Qp(this.store.add(e))}get(e){return Qp(this.store.get(e)).next(t=>(void 0===t&&(t=null),zl("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return zl("SimpleDb","DELETE",this.store.name,e),Qp(this.store.delete(e))}count(){return zl("SimpleDb","COUNT",this.store.name),Qp(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){zl("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new zp((n,r)=>{t.onerror=e=>{const t=Jp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new zp((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new $p(i),o=t(i.primaryKey,i.value,s);if(o instanceof zp){const e=o.catch(e=>(s.done(),zp.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>zp.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Qp(e){return new zp((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=Jp(e.target.error);n(t)}})}let Yp=!1;function Jp(e){const t=Hp.Rt((0,No.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Yl("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yp||(Yp=!0,setTimeout(()=>{throw e},0)),e}}return e}class Xp extends jp{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function eg(e,t){const n=Wl(e);return Hp.St(n.Qt,t)}class tg{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Xd(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&ef(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&ef(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(dh.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xf())}isEqual(e){return this.batchId===e.batchId&&ch(this.mutations,e.mutations,(e,t)=>nf(e,t))&&ch(this.baseMutations,e.baseMutations,(e,t)=>nf(e,t))}}class ng{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Kl(e.mutations.length===n.length);let r=Cf();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ng(e,t,n,r)}}class rg{constructor(e,t,n,r,i=dh.min(),s=dh.min(),o=_h.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new rg(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new rg(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rg(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ig{constructor(e){this.Wt=e}}function sg(e,t){if(t.document)return rp(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Rh.fromSegments(t.noDocument.path),n=lg(t.noDocument.readTime),r=Wh.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Rh.fromSegments(t.unknownDocument.path),n=lg(t.unknownDocument.version);return Wh.newUnknownDocument(e,n)}return Gl()}function og(e,t,n){const r=ag(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Qf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Bf(e,t.version.toTimestamp())}}(e.Wt,t);return new Np(null,null,n,t.hasCommittedMutations,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=cg(t.version),s=t.hasCommittedMutations;return new Np(null,new xp(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=cg(t.version);return new Np(new Op(e,n),null,null,!0,r,i)}return Gl()}function ag(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ug(e){const t=new hh(e[0],e[1]);return dh.fromTimestamp(t)}function cg(e){const t=e.toTimestamp();return new Ep(t.seconds,t.nanoseconds)}function lg(e){const t=new hh(e.seconds,e.nanoseconds);return dh.fromTimestamp(t)}function hg(e,t){const n=(t.baseMutations||[]).map(t=>sp(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>sp(e.Wt,t)),i=hh.fromMillis(t.localWriteTimeMs);return new tg(t.batchId,i,n,r)}function dg(e){const t=lg(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?lg(e.lastLimboFreeSnapshotVersion):dh.min();let r;var i;return void 0!==e.query.documents?(Kl(1===(i=e.query).documents.length),r=Sd(vd(Xf(i.documents[0])))):r=function(e){return Sd(up(e))}(e.query),new rg(r,e.targetId,0,e.lastListenSequenceNumber,t,n,_h.fromBase64String(e.resumeToken))}function fg(e,t){const n=cg(t.snapshotVersion),r=cg(t.lastLimboFreeSnapshotVersion);let i;i=ed(t.target)?op(e.Wt,t.target):ap(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Pp(t.targetId,Jh(t.target),n,s,t.sequenceNumber,r,i)}function pg(e){const t=up({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ad(t,t.limit,"L"):t}class gg{getBundleMetadata(e,t){return mg(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:lg(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return mg(e).put({bundleId:(n=t).id,createTime:cg(Gf(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return yg(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:pg(t.bundledQuery),readTime:lg(t.readTime)};var t})}saveNamedQuery(e,t){return yg(e).put(function(e){return{name:e.name,readTime:cg(Gf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function mg(e){return eg(e,Up.store)}function yg(e){return eg(e,Fp.store)}class vg{constructor(){this.Gt=new wg}addToCollectionParentIndex(e,t){return this.Gt.add(t),zp.resolve()}getCollectionParents(e,t){return zp.resolve(this.Gt.getEntries(t))}}class wg{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new bf(yh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new bf(yh.comparator)).toArray()}}class bg{constructor(){this.zt=new wg}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:bp(r)};return _g(e).put(i)}return zp.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[lh(t),""],!1,!0);return _g(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Ip(r.parent))}return n})}}function _g(e){return eg(e,Mp.store)}const Tg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ig{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ig(e,Ig.DEFAULT_COLLECTION_PERCENTILE,Ig.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Eg(e,t,n){const r=e.store(Cp.store),i=e.store(kp.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(u.next(()=>{Kl(1===a)}));const c=[];for(const l of n.mutations){const e=kp.key(t,l.key.path,n.batchId);s.push(i.delete(e)),c.push(l.key)}return zp.waitFor(s).next(()=>c)}function Sg(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Gl();t=e.noDocument}return JSON.stringify(t).length}Ig.DEFAULT_COLLECTION_PERCENTILE=10,Ig.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ig.DEFAULT=new Ig(41943040,Ig.DEFAULT_COLLECTION_PERCENTILE,Ig.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ig.DISABLED=new Ig(-1,0,0);class Ag{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){Kl(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Ag(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kg(e).Kt({index:Cp.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=xg(e),s=kg(e);return s.add({}).next(o=>{Kl("number"==typeof o);const a=new tg(o,t,n,r),u=function(e,t,n){const r=n.baseMutations.map(t=>ip(e.Wt,t)),i=n.mutations.map(t=>ip(e.Wt,t));return new Cp(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let l=new bf((e,t)=>uh(e.canonicalString(),t.canonicalString()));for(const e of r){const t=kp.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),c.push(s.put(u)),c.push(i.put(t,kp.PLACEHOLDER))}return l.forEach(t=>{c.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),zp.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return kg(e).get(t).next(e=>e?(Kl(e.userId===this.userId),hg(this.N,e)):null)}Xt(e,t){return this.Jt[t]?zp.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return kg(e).Kt({index:Cp.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(Kl(t.batchId>=n),i=hg(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return kg(e).Kt({index:Cp.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kg(e).Lt(Cp.userMutationsIndex,t).next(e=>e.map(e=>hg(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=kp.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return xg(e).Kt({range:r},(n,r,s)=>{const[o,a,u]=n,c=Ip(a);if(o===this.userId&&t.path.isEqual(c))return kg(e).get(u).next(e=>{if(!e)throw Gl();Kl(e.userId===this.userId),i.push(hg(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bf(uh);const r=[];return t.forEach(t=>{const i=kp.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=xg(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,u=Ip(o);s===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()});r.push(o)}),zp.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=kp.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new bf(uh);return xg(e).Kt({range:s},(e,t,i)=>{const[s,a,u]=e,c=Ip(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(u)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(kg(e).get(t).next(e=>{if(null===e)throw Gl();Kl(e.userId===this.userId),n.push(hg(this.N,e))}))}),zp.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Eg(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),zp.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return zp.resolve();const n=IDBKeyRange.lowerBound(kp.prefixForUser(this.userId)),r=[];return xg(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Ip(e[1]);r.push(t)}else n.done()}).next(()=>{Kl(0===r.length)})})}containsKey(e,t){return Cg(e,this.userId,t)}ee(e){return Og(e).get(this.userId).next(e=>e||new Ap(this.userId,-1,""))}}function Cg(e,t,n){const r=kp.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return xg(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,u]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function kg(e){return eg(e,Cp.store)}function xg(e){return eg(e,kp.store)}function Og(e){return eg(e,Ap.store)}class Ng{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Ng(0)}static ie(){return new Ng(-1)}}class Rg{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new Ng(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>dh.fromTimestamp(new hh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Pg(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(Kl(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Pg(e).Kt((s,o)=>{const a=dg(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>zp.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Pg(e).Kt((e,n)=>{const r=dg(n);t(r)})}re(e){return Dg(e).get(Lp.key).next(e=>(Kl(null!==e),e))}oe(e,t){return Dg(e).put(Lp.key,t)}ae(e,t){return Pg(e).put(fg(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Jh(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Pg(e).Kt({range:r,index:Pp.queryTargetsIndexName},(e,n,r)=>{const s=dg(n);Xh(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=Lg(e);return t.forEach(t=>{const s=bp(t.path);r.push(i.put(new Dp(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),zp.waitFor(r)}removeMatchingKeys(e,t,n){const r=Lg(e);return zp.forEach(t,t=>{const i=bp(t.path);return zp.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=Lg(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Lg(e);let i=xf();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=Ip(e[1]),s=new Rh(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=bp(t.path),r=IDBKeyRange.bound([n],[lh(n)],!1,!0);let i=0;return Lg(e).Kt({index:Dp.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Tt(e,t){return Pg(e).get(t).next(e=>e?dg(e):null)}}function Pg(e){return eg(e,Pp.store)}function Dg(e){return eg(e,Lp.store)}function Lg(e){return eg(e,Dp.store)}function Mg(e){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,Co.Z)(function*(e){if(e.code!==Ql.FAILED_PRECONDITION||e.message!==Vp)throw e;zl("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Ug([e,t],[n,r]){const i=uh(e,n);return 0===i?uh(t,r):i}class Fg{constructor(e){this.ue=e,this.buffer=new bf(Ug),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Ug(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qg{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const n=this.de?3e5:6e4;zl("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,Co.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){Kp(e)?zl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield Mg(e)}yield t._e(e)}))}}class Vg{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return zp.resolve(sh.T);const n=new Fg(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(zl("LruGarbageCollector","Garbage collection skipped; disabled"),zp.resolve(Tg)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(zl("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tg):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(zl("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),jl()<=Oo.in.DEBUG&&zl("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-c}ms`),zp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class jg{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Vg(e,t)}(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Te(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(e,n)=>t(n))}addReference(e,t,n){return zg(e,n)}removeReference(e,t,n){return zg(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return zg(e,t)}Ie(e,t){return function(e,t){let n=!1;return Og(e).jt(r=>Cg(e,r,t).next(e=>(e&&(n=!0),zp.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),Lg(e).delete([0,bp(s.path)])))});r.push(t)}}).next(()=>zp.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return zg(e,t)}Ee(e,t){const n=Lg(e);let r,i=sh.T;return n.Kt({index:Dp.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==sh.T&&t(new Rh(Ip(r)),i),i=o,r=s):i=sh.T}).next(()=>{i!==sh.T&&t(new Rh(Ip(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zg(e,t){return Lg(e).put(function(e,t){return new Dp(0,bp(e.path),t)}(t,e.currentSequenceNumber))}class Bg{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){ph(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return gh(this.inner)}}class Hg{constructor(){this.changes=new Bg(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:dh.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Wh.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?zp.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $g{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return Wg(e).put(Qg(t),n)}removeEntry(e,t){const n=Wg(e),r=Qg(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return Wg(e).get(Qg(t)).next(e=>this.Re(t,e))}be(e,t){return Wg(e).get(Qg(t)).next(e=>({document:this.Re(t,e),size:Sg(e)}))}getEntries(e,t){let n=If();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=If(),r=new yf(Rh.comparator);return this.Pe(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,Sg(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return zp.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return Wg(e).Kt({range:r},(e,t,r)=>{const o=Rh.fromSegments(e);for(;s&&Rh.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=If();const i=t.path.length+1,s={};if(n.isEqual(dh.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=ag(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Np.collectionReadTimeIndex}return Wg(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=sg(this.N,n);t.path.isPrefixOf(o.key.path)?Od(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new Gg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Kg(e).get(Rp.key).next(e=>(Kl(!!e),e))}Ae(e,t){return Kg(e).put(Rp.key,t)}Re(e,t){if(t){const e=sg(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(dh.min()))return e}return Wh.newInvalidDocument(e)}}class Gg extends Hg{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Bg(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new bf((e,t)=>uh(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=og(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const u=Sg(a);n+=u-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=og(this.Se.N,Wh.newNoDocument(i,dh.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),zp.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function Kg(e){return eg(e,Rp.store)}function Wg(e){return eg(e,Np.store)}function Qg(e){return e.path.toArray()}class Yg{constructor(e){this.N=e}Ct(e,t,n,r){Kl(n<r&&n>=0&&r<=11);const i=new Bp("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Sp.store)}(e),function(e){e.createObjectStore(Ap.store,{keyPath:Ap.keyPath}),e.createObjectStore(Cp.store,{keyPath:Cp.keyPath,autoIncrement:!0}).createIndex(Cp.userMutationsIndex,Cp.userMutationsKeyPath,{unique:!0}),e.createObjectStore(kp.store)}(e),Jg(e),function(e){e.createObjectStore(Np.store)}(e));let s=zp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Dp.store),e.deleteObjectStore(Pp.store),e.deleteObjectStore(Lp.store)}(e),Jg(e)),s=s.next(()=>function(e){const t=e.store(Lp.store),n=new Lp(0,0,dh.min().toTimestamp(),0);return t.put(Lp.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(Cp.store).Lt().next(n=>{e.deleteObjectStore(Cp.store),e.createObjectStore(Cp.store,{keyPath:Cp.keyPath,autoIncrement:!0}).createIndex(Cp.userMutationsIndex,Cp.userMutationsKeyPath,{unique:!0});const r=t.store(Cp.store),i=n.map(e=>r.put(e));return zp.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(Zp.store,{keyPath:Zp.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(Rp.store)}(e),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Np.store);t.createIndex(Np.readTimeIndex,Np.readTimeIndexPath,{unique:!1}),t.createIndex(Np.collectionReadTimeIndex,Np.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(Up.store,{keyPath:Up.keyPath})}(e),function(e){e.createObjectStore(Fp.store,{keyPath:Fp.keyPath})}(e)})),s}Ne(e){let t=0;return e.store(Np.store).Kt((e,n)=>{t+=Sg(n)}).next(()=>{const n=new Rp(t);return e.store(Rp.store).put(Rp.key,n)})}Ce(e){const t=e.store(Ap.store),n=e.store(Cp.store);return t.Lt().next(t=>zp.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(Cp.userMutationsIndex,r).next(n=>zp.forEach(n,n=>{Kl(n.userId===t.userId);const r=hg(this.N,n);return Eg(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Dp.store),n=e.store(Np.store);return e.store(Lp.store).get(Lp.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new yh(n),o=function(e){return[0,bp(e)]}(s);r.push(t.get(o).next(n=>n?zp.resolve():(n=>t.put(new Dp(0,bp(n),e.highestListenSequenceNumber)))(s)))}).next(()=>zp.waitFor(r))})}ke(e,t){e.createObjectStore(Mp.store,{keyPath:Mp.keyPath});const n=t.store(Mp.store),r=new wg,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:bp(r)})}};return t.store(Np.store).Kt({qt:!0},(e,t)=>{const n=new yh(e);return i(n.popLast())}).next(()=>t.store(kp.store).Kt({qt:!0},([e,t,n],r)=>{const s=Ip(t);return i(s.popLast())}))}$e(e){const t=e.store(Pp.store);return t.Kt((e,n)=>{const r=dg(n),i=fg(this.N,r);return t.put(i)})}}function Jg(e){e.createObjectStore(Dp.store,{keyPath:Dp.keyPath}).createIndex(Dp.documentTargetsIndex,Dp.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Pp.store,{keyPath:Pp.keyPath}).createIndex(Pp.queryTargetsIndexName,Pp.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Lp.store)}const Xg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class em{constructor(e,t,n,r,i,s,o,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=u,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!em.bt())throw new Yl(Ql.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jg(this,r),this.We=t+"main",this.N=new ig(a),this.Ge=new Hp(this.We,11,new Yg(this.N)),this.ze=new Rg(this.referenceDelegate,this.N),this.Ht=new bg,this.He=function(e,t){return new $g(e,t)}(this.N,this.Ht),this.Je=new gg,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&Bl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Yl(Ql.FAILED_PRECONDITION,Xg);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new sh(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var n=(0,Co.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,Co.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,Co.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nm(e).put(new Zp(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Kp(e))return zl("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return zl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return tm(e).get(Sp.key).next(e=>zp.resolve(this.cn(e)))}un(e){return nm(e).delete(this.clientId)}hn(){var e=this;return(0,Co.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=eg(t,Zp.store);return n.Lt().next(t=>{const r=e.fn(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return zp.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.Ye)for(const n of t)e.Ye.removeItem(e.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?zp.resolve(!0):tm(e).get(Sp.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Yl(Ql.FAILED_PRECONDITION,Xg);return!1}}return!(!this.networkEnabled||!this.inForeground)||nm(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&zl("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,Co.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Sp.store,Zp.store],t=>{const n=new Xp(t,sh.T);return e.on(n).next(()=>e.un(n))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>nm(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return Ag.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return zl("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",qp,i=>(r=new Xp(i,this.Le?this.Le.next():sh.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw Bl(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Yl(Ql.FAILED_PRECONDITION,Vp);return n(r)}).next(e=>this.an(r).next(()=>e)):this.Tn(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}Tn(e){return tm(e).get(Sp.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Yl(Ql.FAILED_PRECONDITION,Xg)})}an(e){const t=new Sp(this.clientId,this.allowTabSynchronization,Date.now());return tm(e).put(Sp.key,t)}static bt(){return Hp.bt()}on(e){const t=tm(e);return t.get(Sp.key).next(e=>this.cn(e)?(zl("IndexedDbPersistence","Releasing primary lease."),t.delete(Sp.key)):zp.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Bl(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,No.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return zl("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Bl("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(Ho){Bl("Failed to set zombie client id.",Ho)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(Ho){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function tm(e){return eg(e,Sp.store)}function nm(e){return eg(e,Zp.store)}function rm(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class im{constructor(e,t){this.progress=e,this.En=t}}class sm{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return Rh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):Id(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new Rh(t)).next(e=>{let t=Sf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=Sf();return this.Ht.getCollectionParents(e,r).next(s=>zp.forEach(s,s=>{const o=function(e,t){return new md(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Wh.newInvalidDocument(n),r=r.insert(n,i)),ef(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{Od(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=xf();for(const s of t)for(const e of s.mutations)e instanceof of&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class om{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=xf(),r=xf();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new om(e,t.fromCache,n,r)}}class am{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(dh.min())?this.Fn(e,t):this.On.Pn(e,r).next(i=>{const s=this.Mn(t,i);return(wd(t)||bd(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):(jl()<=Oo.in.DEBUG&&zl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),xd(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new bf(Nd(e));return t.forEach((t,r)=>{Od(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return jl()<=Oo.in.DEBUG&&zl("QueryEngine","Using full collection scan to execute query:",xd(t)),this.On.getDocumentsMatchingQuery(e,t,dh.min())}}class um{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new yf(uh),this.qn=new Bg(e=>Jh(e),Xh),this.Kn=dh.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new sm(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function cm(e,t,n,r){return new um(e,t,n,r)}function lm(e,t){return hm.apply(this,arguments)}function hm(){return(hm=(0,Co.Z)(function*(e,t){const n=Wl(e);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new sm(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=xf();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function dm(e,t){const n=Wl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=zp.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Kl(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}function fm(e){const t=Wl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function pm(e,t){const n=Wl(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const u=t.resumeToken;if(u.approximateByteSize()>0){const c=a.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,c),function(e,t,n){return Kl(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,t)&&o.push(n.ze.updateTargetData(e,c))}});let a=If();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(gm(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(dh.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return zp.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}function gm(e,t,n,r,i){let s=xf();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=If();return n.forEach((n,o)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(dh.min())?(t.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,u),s=s.insert(n,o)):zl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function mm(e,t){const n=Wl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function ym(e,t){const n=Wl(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,zp.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new rg(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function vm(e,t,n){return wm.apply(this,arguments)}function wm(){return(wm=(0,Co.Z)(function*(e,t,n){const r=Wl(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Kp(e))throw e;zl("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function bm(e,t,n){const r=Wl(e);let i=dh.min(),s=xf();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Wl(e),i=r.qn.get(n);return void 0!==i?zp.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,Sd(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:dh.min(),n?s:xf())).next(e=>({documents:e,Gn:s})))}function _m(e,t){const n=Wl(e),r=Wl(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Tt(e,t).next(e=>e?e.target:null))}function Tm(e){const t=Wl(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Wl(e);let i=If(),s=ag(n);const o=Wg(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Np.readTimeIndex,range:a},(e,t)=>{const n=sg(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({En:i,readTime:ug(s)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:n})=>(t.Kn=n,e))}function Im(){return(Im=(0,Co.Z)(function*(e){const t=Wl(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=Wg(e);let n=dh.min();return t.Kt({index:Np.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=ug(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function Em(){return(Em=(0,Co.Z)(function*(e,t,n,r){const i=Wl(e);let s=xf(),o=If(),a=Cf();for(const l of n){const e=t.zn(l.metadata.name);l.document&&(s=s.add(e)),o=o.insert(e,t.Hn(l)),a=a.insert(e,t.Jn(l.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield ym(i,function(e){return Sd(vd(yh.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>gm(e,u,o,dh.min(),a).next(t=>(u.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.ze.addMatchingKeys(e,s,c.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))})).apply(this,arguments)}function Sm(e,t){return Am.apply(this,arguments)}function Am(){return(Am=(0,Co.Z)(function*(e,t,n=xf()){const r=yield ym(e,Sd(pg(t.bundledQuery))),i=Wl(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=Gf(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(_h.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})})).apply(this,arguments)}class Cm{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return zp.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Gf(n.createTime)}),zp.resolve()}getNamedQuery(e,t){return zp.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:pg(e.bundledQuery),readTime:Gf(e.readTime)}}(t)),zp.resolve()}}class km{constructor(){this.Zn=new bf(xm.ts),this.es=new bf(xm.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new xm(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new xm(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new Rh(new yh([])),n=new xm(t,e),r=new xm(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Rh(new yh([])),n=new xm(t,e),r=new xm(t,e+1);let i=xf();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new xm(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class xm{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Rh.comparator(e.key,t.key)||uh(e.ls,t.ls)}static ns(e,t){return uh(e.ls,t.ls)||Rh.comparator(e.key,t.key)}}class Om{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new bf(xm.ts)}checkEmpty(e){return zp.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new tg(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new xm(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return zp.resolve(s)}lookupMutationBatch(e,t){return zp.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return zp.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return zp.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return zp.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new xm(t,0),r=new xm(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),zp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new bf(uh);return t.forEach(e=>{const t=new xm(e,0),r=new xm(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),zp.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Rh.isDocumentKey(i)||(i=i.child(""));const s=new xm(new Rh(i),0);let o=new bf(uh);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),zp.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Kl(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return zp.forEach(t.mutations,r=>{const i=new xm(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new xm(t,0),r=this.ds.firstAfterOrEqual(n);return zp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return zp.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class Nm{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new yf(Rh.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return zp.resolve(n?n.document.clone():Wh.newInvalidDocument(t))}getEntries(e,t){let n=If();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Wh.newInvalidDocument(e))}),zp.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=If();const i=new Rh(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Od(t,i)&&(r=r.insert(i.key,i.clone()))}return zp.resolve(r)}Ts(e,t){return zp.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Rm(this)}getSize(e){return zp.resolve(this.size)}}class Rm extends Hg{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),zp.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class Pm{constructor(e){this.persistence=e,this.Es=new Bg(e=>Jh(e),Xh),this.lastRemoteSnapshotVersion=dh.min(),this.highestTargetId=0,this.Is=0,this.As=new km,this.targetCount=0,this.Rs=Ng.se()}forEachTarget(e,t){return this.Es.forEach((e,n)=>t(n)),zp.resolve()}getLastRemoteSnapshotVersion(e){return zp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return zp.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),zp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),zp.resolve()}ae(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Ng(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,zp.resolve()}updateTargetData(e,t){return this.ae(t),zp.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,zp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),zp.waitFor(i).next(()=>r)}getTargetCount(e){return zp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Es.get(t)||null;return zp.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),zp.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),zp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),zp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return zp.resolve(n)}containsKey(e,t){return zp.resolve(this.As.containsKey(t))}}class Dm{constructor(e,t){this.bs={},this.Le=new sh(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new Pm(this),this.Ht=new vg,this.He=function(e,t){return new Nm(e,t)}(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new ig(t),this.Je=new Cm(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Om(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){zl("MemoryPersistence","Starting transaction:",e);const r=new Lm(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return zp.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class Lm extends jp{constructor(e){super(),this.currentSequenceNumber=e}}class Mm{constructor(e){this.persistence=e,this.Ds=new km,this.Cs=null}static Ns(e){return new Mm(e)}get xs(){if(this.Cs)return this.Cs;throw Gl()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),zp.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),zp.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),zp.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zp.forEach(this.xs,n=>{const r=Rh.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return zp.or([()=>zp.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Zm(e,t){return`firestore_clients_${e}_${t}`}function Um(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Fm(e,t){return`firestore_targets_${e}_${t}`}class qm{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Yl(r.error.code,r.error.message))),s?new qm(e,t,r.state,i):(Bl("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vm{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Yl(n.error.code,n.error.message))),i?new Vm(e,n.state,r):(Bl("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Nf();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Nh(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new jm(e,i):(Bl("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class zm{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new zm(t.clientId,t.onlineState):(Bl("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Bm{constructor(){this.activeTargetIds=Nf()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hm{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new yf(uh),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Zm(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Bm),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Co.Z)(function*(){const t=yield e.syncEngine.pn();for(const r of t){if(r===e.Ls)continue;const t=e.getItem(Zm(e.persistenceKey,r));if(t){const n=jm.$s(r,t);n&&(e.qs=e.qs.insert(n.clientId,n))}}e.Ys();const n=e.storage.getItem(e.Hs);if(n){const t=e.Xs(n);t&&e.Zs(t)}for(const r of e.Ks)e.Us(r);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Fm(this.persistenceKey,e));if(n){const r=Vm.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Fm(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return zl("SharedClientState","READ",e,t),t}setItem(e,t){zl("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){zl("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const n=e;if(n.storageArea===this.storage){if(zl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void Bl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Co.Z)(function*(){if(t.started){if(null!==n.key)if(t.Ws.test(n.key)){if(null==n.newValue){const e=t.ai(n.key);return t.ci(e,null)}{const e=t.ui(n.key,n.newValue);if(e)return t.ci(e.clientId,e)}}else if(t.Gs.test(n.key)){if(null!==n.newValue){const e=t.hi(n.key,n.newValue);if(e)return t.li(e)}}else if(t.zs.test(n.key)){if(null!==n.newValue){const e=t.fi(n.key,n.newValue);if(e)return t.di(e)}}else if(n.key===t.Hs){if(null!==n.newValue){const e=t.Xs(n.newValue);if(e)return t.Zs(e)}}else if(n.key===t.Qs){const e=function(e){let t=sh.T;if(null!=e)try{const n=JSON.parse(e);Kl("number"==typeof n),t=n}catch(e){Bl("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==sh.T&&t.sequenceNumberHandler(e)}else if(n.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new qm(this.currentUser,e,t,n),i=Um(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=Um(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=Fm(this.persistenceKey,e),i=new Vm(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return jm.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return qm.$s(new Fl(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return Vm.$s(r,t)}Xs(e){return zm.$s(e)}li(e){var t=this;return(0,Co.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);zl("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Nf();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class $m{constructor(){this.yi=new Bm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Bm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Gm{Ti(e){}shutdown(){}}class Km{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){zl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){zl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Wm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Qm{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Ym extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);zl("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(zl("RestConnection","Received: ",e),e),t=>{throw Hl("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+ql,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${Wm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new Zl;o.listenOnce(Rl.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Nl.NO_ERROR:const t=o.getResponseJson();zl("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Nl.TIMEOUT:zl("Connection",'RPC "'+e+'" timed out'),s(new Yl(Ql.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const n=o.getStatus();if(zl("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ql).indexOf(t)>=0?t:Ql.UNKNOWN}(e.status);s(new Yl(t,e.message))}else s(new Yl(Ql.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Yl(Ql.UNAVAILABLE,"Connection failed."));break;default:Gl()}}finally{zl("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=xl(),i=Ol(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Ll({})),this.Ui(s.initMessageHeaders,t),(0,No.uI)()||(0,No.b$)()||(0,No.d)()||(0,No.w1)()||(0,No.Mn)()||(0,No.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");zl("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let u=!1,c=!1;const l=new Qm({vi:e=>{c?zl("Connection","Not sending because WebChannel is closed:",e):(u||(zl("Connection","Opening WebChannel transport."),a.open(),u=!0),zl("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,Ml.EventType.OPEN,()=>{c||zl("Connection","WebChannel transport opened.")}),h(a,Ml.EventType.CLOSE,()=>{c||(c=!0,zl("Connection","WebChannel transport closed"),l.$i())}),h(a,Ml.EventType.ERROR,e=>{c||(c=!0,Hl("Connection","WebChannel transport errored:",e),l.$i(new Yl(Ql.UNAVAILABLE,"The operation could not be completed")))}),h(a,Ml.EventType.MESSAGE,e=>{var t;if(!c){const n=e.data[0];Kl(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){zl("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=ff[e];if(void 0!==t)return mf(t)}(e),n=i.message;void 0===t&&(t=Ql.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,l.$i(new Yl(t,n)),a.close()}else zl("Connection","WebChannel received:",n),l.Oi(n)}}),h(i,Pl.STAT_EVENT,e=>{e.stat===Dl.PROXY?zl("Connection","Detected buffering proxy"):e.stat===Dl.NOPROXY&&zl("Connection","Detected no buffering proxy")}),setTimeout(()=>{l.ki()},0),l}}function Jm(){return"undefined"!=typeof window?window:null}function Xm(){return"undefined"!=typeof document?document:null}function ey(e){return new zf(e,!0)}class ty{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&zl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class ny{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new ty(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var e=this;return(0,Co.Z)(function*(){e.ar()&&(yield e.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}dr(){var e=this;return(0,Co.Z)(function*(){if(e.cr())return e.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(e,t){var n=this;return(0,Co.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==e?n.rr.reset():t&&t.code===Ql.RESOURCE_EXHAUSTED?(Bl(t.toString()),Bl("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):t&&t.code===Ql.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Ci(t)})()}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new Yl(Ql.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Tr(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){var e=this;this.state=4,this.rr.Xi((0,Co.Z)(function*(){e.state=0,e.start()}))}pr(e){return zl("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(zl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ry extends ny{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Tr(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Gl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(Kl(void 0===t||"string"==typeof t),_h.fromBase64String(t||"")):(Kl(void 0===t||t instanceof Uint8Array),_h.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ql.UNKNOWN:mf(e.code);return new Yl(t,e.message||"")}(o);n=new Mf(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=Yf(e,r.document.name),s=Gf(r.document.updateTime),o=new Gh({mapValue:{fields:r.document.fields}}),a=Wh.newFoundDocument(i,s,o);n=new Df(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=Yf(e,r.document),s=r.readTime?Gf(r.readTime):dh.min(),o=Wh.newNoDocument(i,s);n=new Df([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=Yf(e,r.document);n=new Df([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return Gl();{const e=t.filter,r=new df(e.count||0);n=new Lf(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return dh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?dh.min():t.readTime?Gf(t.readTime):dh.min()}(e);return this.listener.Er(t,n)}Ir(e){const t={};t.database=ep(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=ed(r)?{documents:op(e,r)}:{query:ap(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Hf(e,t.resumeToken):t.snapshotVersion.compareTo(dh.min())>0&&(n.readTime=Bf(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=ep(this.N),t.removeTarget=e,this.wr(t)}}class iy extends ny{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(e){return this.nr.ji("Write",e)}onMessage(e){if(Kl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(Kl(void 0!==t),e.map(e=>function(e,t){let n=Gf(e.updateTime?e.updateTime:t);return n.isEqual(dh.min())&&(n=Gf(t)),new Wd(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Gf(e.commitTime);return this.listener.vr(n,t)}return Kl(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=ep(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ip(this.N,e))};this.wr(t)}}class sy extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Yl(Ql.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ql.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Yl(Ql.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ql.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Yl(Ql.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class oy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Bl(t),this.$r=!1):zl("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class ay{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ti(e=>{n.enqueueAndForget((0,Co.Z)(function*(){var e;vy(s)&&(zl("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,Co.Z)(function*(e){const t=Wl(e);t.Kr.add(4),yield ly(t),t.Wr.set("Unknown"),t.Kr.delete(4),yield uy(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.Wr=new oy(n,r)}}function uy(e){return cy.apply(this,arguments)}function cy(){return(cy=(0,Co.Z)(function*(e){if(vy(e))for(const t of e.jr)yield t(!0)})).apply(this,arguments)}function ly(e){return hy.apply(this,arguments)}function hy(){return(hy=(0,Co.Z)(function*(e){for(const t of e.jr)yield t(!1)})).apply(this,arguments)}function dy(e,t){const n=Wl(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),yy(n)?my(n):Hy(n).cr()&&py(n,t))}function fy(e,t){const n=Wl(e),r=Hy(n);n.qr.delete(t),r.cr()&&gy(n,t),0===n.qr.size&&(r.cr()?r.lr():vy(n)&&n.Wr.set("Unknown"))}function py(e,t){e.Gr.Y(t.targetId),Hy(e).Ir(t)}function gy(e,t){e.Gr.Y(t),Hy(e).Ar(t)}function my(e){e.Gr=new Uf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>e.qr.get(t)||null}),Hy(e).start(),e.Wr.Or()}function yy(e){return vy(e)&&!Hy(e).ar()&&e.qr.size>0}function vy(e){return 0===Wl(e).Kr.size}function wy(e){e.Gr=void 0}function by(e){return _y.apply(this,arguments)}function _y(){return(_y=(0,Co.Z)(function*(e){e.qr.forEach((t,n)=>{py(e,t)})})).apply(this,arguments)}function Ty(e,t){return Iy.apply(this,arguments)}function Iy(){return(Iy=(0,Co.Z)(function*(e,t){wy(e),yy(e)?(e.Wr.Lr(t),my(e)):e.Wr.set("Unknown")})).apply(this,arguments)}function Ey(e,t,n){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,Co.Z)(function*(e,t,n){if(e.Wr.set("Online"),t instanceof Mf&&2===t.state&&t.cause)try{yield(r=(0,Co.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){zl("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield Ay(e,n)}else if(t instanceof Df?e.Gr.rt(t):t instanceof Lf?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(dh.min()))try{const t=yield fm(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(_h.EMPTY_BYTE_STRING,n.snapshotVersion)),gy(e,t);const r=new rg(n.target,t,1,n.sequenceNumber);py(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){zl("RemoteStore","Failed to raise snapshot:",t),yield Ay(e,t)}var r})).apply(this,arguments)}function Ay(e,t,n){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,Co.Z)(function*(e,t,n){if(!Kp(t))throw t;e.Kr.add(1),yield ly(e),e.Wr.set("Offline"),n||(n=()=>fm(e.localStore)),e.asyncQueue.enqueueRetryable((0,Co.Z)(function*(){zl("RemoteStore","Retrying IndexedDB access"),yield n(),e.Kr.delete(1),yield uy(e)}))})).apply(this,arguments)}function ky(e,t){return t().catch(n=>Ay(e,n,t))}function xy(e){return Oy.apply(this,arguments)}function Oy(){return(Oy=(0,Co.Z)(function*(e){const t=Wl(e),n=$y(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;Ny(t);)try{const e=yield mm(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,Ry(t,e)}catch(e){yield Ay(t,e)}Py(t)&&Dy(t)})).apply(this,arguments)}function Ny(e){return vy(e)&&e.Ur.length<10}function Ry(e,t){e.Ur.push(t);const n=$y(e);n.cr()&&n.br&&n.Pr(t.mutations)}function Py(e){return vy(e)&&!$y(e).ar()&&e.Ur.length>0}function Dy(e){$y(e).start()}function Ly(e){return My.apply(this,arguments)}function My(){return(My=(0,Co.Z)(function*(e){$y(e).Sr()})).apply(this,arguments)}function Zy(e){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,Co.Z)(function*(e){const t=$y(e);for(const n of e.Ur)t.Pr(n.mutations)})).apply(this,arguments)}function Fy(e,t,n){return qy.apply(this,arguments)}function qy(){return(qy=(0,Co.Z)(function*(e,t,n){const r=e.Ur.shift(),i=ng.from(r,t,n);yield ky(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield xy(e)})).apply(this,arguments)}function Vy(e,t){return jy.apply(this,arguments)}function jy(){return(jy=(0,Co.Z)(function*(e,t){var n;t&&$y(e).br&&(yield(n=(0,Co.Z)(function*(e,t){if(gf(n=t.code)&&n!==Ql.ABORTED){const n=e.Ur.shift();$y(e).hr(),yield ky(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield xy(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),Py(e)&&Dy(e)})).apply(this,arguments)}function zy(e,t){return By.apply(this,arguments)}function By(){return(By=(0,Co.Z)(function*(e,t){const n=Wl(e);t?(n.Kr.delete(2),yield uy(n)):t||(n.Kr.add(2),yield ly(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function Hy(e){return e.zr||(e.zr=function(e,t,n){const r=Wl(e);return r.Cr(),new ry(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:by.bind(null,e),Ci:Ty.bind(null,e),Er:Ey.bind(null,e)}),e.jr.push(function(){var t=(0,Co.Z)(function*(t){t?(e.zr.hr(),yy(e)?my(e):e.Wr.set("Unknown")):(yield e.zr.stop(),wy(e))});return function(e){return t.apply(this,arguments)}}())),e.zr}function $y(e){return e.Hr||(e.Hr=function(e,t,n){const r=Wl(e);return r.Cr(),new iy(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Ly.bind(null,e),Ci:Vy.bind(null,e),Vr:Zy.bind(null,e),vr:Fy.bind(null,e)}),e.jr.push(function(){var t=(0,Co.Z)(function*(t){t?(e.Hr.hr(),yield xy(e)):(yield e.Hr.stop(),e.Ur.length>0&&(zl("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))});return function(e){return t.apply(this,arguments)}}())),e.Hr}class Gy{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Jl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Gy(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yl(Ql.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ky(e,t){if(Bl("AsyncQueue",`${t}: ${e}`),Kp(e))return new Yl(Ql.UNAVAILABLE,`${t}: ${e}`);throw e}class Wy{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Rh.comparator(t.key,n.key):(e,t)=>Rh.comparator(e.key,t.key),this.keyedMap=Sf(),this.sortedSet=new yf(this.comparator)}static emptySet(e){return new Wy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wy))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Wy;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Qy{constructor(){this.Jr=new yf(Rh.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Gl():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class Yy{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Yy(e,t,Wy.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Jy{constructor(){this.Xr=void 0,this.listeners=[]}}class Xy{constructor(){this.queries=new Bg(e=>kd(e),Cd),this.onlineState="Unknown",this.Zr=new Set}}function ev(e,t){return tv.apply(this,arguments)}function tv(){return(tv=(0,Co.Z)(function*(e,t){const n=Wl(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Jy),i)try{s.Xr=yield n.onListen(r)}catch(e){const n=Ky(e,`Initialization of query '${xd(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&ov(n)})).apply(this,arguments)}function nv(e,t){return rv.apply(this,arguments)}function rv(){return(rv=(0,Co.Z)(function*(e,t){const n=Wl(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function iv(e,t){const n=Wl(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.no(i)&&(r=!0);e.Xr=i}}r&&ov(n)}function sv(e,t,n){const r=Wl(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function ov(e){e.Zr.forEach(e=>{e.next()})}class av{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Yy(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Yy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class uv{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class cv{constructor(e){this.N=e}zn(e){return Yf(this.N,e)}Hn(e){return e.metadata.exists?rp(this.N,e.document,!1):Wh.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Gf(e)}}class lv{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=hv(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new cv(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||xf()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,Co.Z)(function*(){const t=yield function(e,t,n,r){return Em.apply(this,arguments)}(e.localStore,new cv(e.N),e.documents,e.lo.id),n=e.wo(e.documents);for(const r of e.queries)yield Sm(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",new im(Object.assign({},e.progress),t)})()}}function hv(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class dv{constructor(e){this.key=e}}class fv{constructor(e){this.key=e}}class pv{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=xf(),this.mutatedKeys=xf(),this.po=Nd(e),this.To=new Wy(this.po)}get Eo(){return this._o}Io(e,t){const n=t?t.Ao:new Qy,r=t?t.To:this.To;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=wd(this.query)&&r.size===this.query.limit?r.last():null,u=bd(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),l=Od(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ro(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.po(l,a)>0||u&&this.po(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),wd(this.query)||bd(this.query))for(;s.size>this.query.limit;){const e=wd(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{To:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.To;this.To=e.To,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gl()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.bo(n);const s=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new Yy(this.query,e.To,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({To:this.To,Ao:new Qy,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.To.has(e)&&!this.To.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=xf(),this.To.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new fv(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new dv(n))}),t}So(e){this._o=e.Gn,this.yo=xf();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Yy.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class gv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class mv{constructor(e){this.key=e,this.Co=!1}}class yv{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new Bg(e=>kd(e),Cd),this.ko=new Map,this.$o=new Set,this.Oo=new yf(Rh.comparator),this.Fo=new Map,this.Mo=new km,this.Lo={},this.Bo=new Map,this.Uo=Ng.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function vv(e,t){return wv.apply(this,arguments)}function wv(){return(wv=(0,Co.Z)(function*(e,t){const n=uw(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=yield ym(n.localStore,Sd(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield bv(n,t,r,"current"===s),n.isPrimaryClient&&dy(n.remoteStore,e)}return i})).apply(this,arguments)}function bv(e,t,n,r){return _v.apply(this,arguments)}function _v(){return(_v=(0,Co.Z)(function*(e,t,n,r){e.Ko=(t,n,r)=>{return(i=(0,Co.Z)(function*(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=yield bm(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Fv(e,t.targetId,o.vo),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield bm(e.localStore,t,!0),s=new pv(t,i.Gn),o=s.Io(i.documents),a=Pf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=s.applyChanges(o,e.isPrimaryClient,a);Fv(e,n,u.vo);const c=new gv(t,n,s);return e.xo.set(t,c),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),u.snapshot})).apply(this,arguments)}function Tv(e,t){return Iv.apply(this,arguments)}function Iv(){return(Iv=(0,Co.Z)(function*(e,t){const n=Wl(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(e=>!Cd(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield vm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),fy(n.remoteStore,r.targetId),Zv(n,r.targetId)}).catch(Mg))):(Zv(n,r.targetId),yield vm(n.localStore,r.targetId,!0))})).apply(this,arguments)}function Ev(){return(Ev=(0,Co.Z)(function*(e,t,n){const r=cw(e);try{const e=yield function(e,t){const n=Wl(e),r=hh.now(),i=t.reduce((e,t)=>e.add(t.key),xf());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=tf(e,s.get(e.key));null!=t&&o.push(new of(e.key,t,Kh(t.value.mapValue),Qd.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new yf(uh)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),yield jv(r,e.changes),yield xy(r.remoteStore)}catch(e){const t=Ky(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function Sv(e,t){return Av.apply(this,arguments)}function Av(){return(Av=(0,Co.Z)(function*(e,t){const n=Wl(e);try{const e=yield pm(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(Kl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?Kl(r.Co):e.removedDocuments.size>0&&(Kl(r.Co),r.Co=!1))}),yield jv(n,e,t)}catch(e){yield Mg(e)}})).apply(this,arguments)}function Cv(e,t,n){const r=Wl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Wl(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.eo(t)&&(r=!0)}),r&&ov(n)}(r.eventManager,t),e.length&&r.No.Er(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kv(e,t,n){return xv.apply(this,arguments)}function xv(){return(xv=(0,Co.Z)(function*(e,t,n){const r=Wl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new yf(Rh.comparator);e=e.insert(s,Wh.newNoDocument(s,dh.min()));const n=xf().add(s),i=new Rf(dh.min(),new Map,new bf(uh),e,n);yield Sv(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),Vv(r)}else yield vm(r.localStore,t,!1).then(()=>Zv(r,t,n)).catch(Mg)})).apply(this,arguments)}function Ov(e,t){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,Co.Z)(function*(e,t){const n=Wl(e),r=t.batch.batchId;try{const e=yield dm(n.localStore,t);Mv(n,r,null),Lv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield jv(n,e)}catch(e){yield Mg(e)}})).apply(this,arguments)}function Rv(e,t,n){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,Co.Z)(function*(e,t,n){const r=Wl(e);try{const e=yield function(e,t){const n=Wl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(Kl(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);Mv(r,t,n),Lv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield jv(r,e)}catch(n){yield Mg(n)}})).apply(this,arguments)}function Dv(){return(Dv=(0,Co.Z)(function*(e,t){const n=Wl(e);vy(n.remoteStore)||zl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Wl(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=Ky(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function Lv(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function Mv(e,t,n){const r=Wl(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function Zv(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||Uv(e,t)})}function Uv(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(fy(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),Vv(e))}function Fv(e,t,n){for(const r of n)r instanceof dv?(e.Mo.addReference(r.key,t),qv(e,r)):r instanceof fv?(zl("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||Uv(e,r.key)):Gl()}function qv(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(zl("SyncEngine","New document in limbo: "+n),e.$o.add(r),Vv(e))}function Vv(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new Rh(yh.fromString(t)),r=e.Uo.next();e.Fo.set(r,new mv(n)),e.Oo=e.Oo.insert(n,r),dy(e.remoteStore,new rg(Sd(vd(n.path)),r,2,sh.T))}}function jv(e,t,n){return zv.apply(this,arguments)}function zv(){return(zv=(0,Co.Z)(function*(e,t,n){const r=Wl(e),i=[],s=[],o=[];var a;r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=om.kn(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.No.Er(i),yield(a=(0,Co.Z)(function*(e,t){const n=Wl(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>zp.forEach(t,t=>zp.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>zp.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Kp(e))throw e;zl("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function Bv(e,t){return Hv.apply(this,arguments)}function Hv(){return(Hv=(0,Co.Z)(function*(e,t){const n=Wl(e);if(!n.currentUser.isEqual(t)){zl("SyncEngine","User change. New user:",t.toKey());const e=yield lm(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach(e=>{e.forEach(e=>{e.reject(new Yl(Ql.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield jv(n,e.Wn)}})).apply(this,arguments)}function $v(e,t){const n=Wl(e),r=n.Fo.get(t);if(r&&r.Co)return xf().add(r.key);{let e=xf();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.Eo)}return e}}function Gv(e,t){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,Co.Z)(function*(e,t){const n=Wl(e),r=yield bm(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&Fv(n,t.targetId,i.vo),i})).apply(this,arguments)}function Wv(e){return Qv.apply(this,arguments)}function Qv(){return(Qv=(0,Co.Z)(function*(e){const t=Wl(e);return Tm(t.localStore).then(e=>jv(t,e))})).apply(this,arguments)}function Yv(e,t,n,r){return Jv.apply(this,arguments)}function Jv(){return(Jv=(0,Co.Z)(function*(e,t,n,r){const i=Wl(e),s=yield function(e,t){const n=Wl(e),r=Wl(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):zp.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield xy(i.remoteStore):"acknowledged"===n||"rejected"===n?(Mv(i,t,r||null),Lv(i,t),function(e,t){Wl(Wl(e).In).te(t)}(i.localStore,t)):Gl(),yield jv(i,s)):zl("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Xv(){return(Xv=(0,Co.Z)(function*(e,t){const n=Wl(e);if(uw(n),cw(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield ew(n,e.toArray());n.qo=!0,yield zy(n.remoteStore,!0);for(const r of t)dy(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(Zv(n,i),vm(n.localStore,i,!0))),fy(n.remoteStore,i)}),yield t,yield ew(n,e),function(e){const t=Wl(e);t.Fo.forEach((e,n)=>{fy(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new yf(Rh.comparator)}(n),n.qo=!1,yield zy(n.remoteStore,!1)}})).apply(this,arguments)}function ew(e,t,n){return tw.apply(this,arguments)}function tw(){return(tw=(0,Co.Z)(function*(e,t,n){const r=Wl(e),i=[],s=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=yield ym(r.localStore,Sd(t[0]));for(const e of t){const t=r.xo.get(e),n=yield Gv(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield _m(r.localStore,o);e=yield ym(r.localStore,t),yield bv(r,nw(t),o,!1)}i.push(e)}return r.No.Er(s),i})).apply(this,arguments)}function nw(e){return yd(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function rw(e){const t=Wl(e);return Wl(Wl(t.localStore).persistence).pn()}function iw(e,t,n,r){return sw.apply(this,arguments)}function sw(){return(sw=(0,Co.Z)(function*(e,t,n,r){const i=Wl(e);if(i.qo)zl("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=yield Tm(i.localStore),r=Rf.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield jv(i,e,r);break}case"rejected":yield vm(i.localStore,t,!0),Zv(i,t,r);break;default:Gl()}})).apply(this,arguments)}function ow(e,t,n){return aw.apply(this,arguments)}function aw(){return(aw=(0,Co.Z)(function*(e,t,n){const r=uw(e);if(r.qo){for(const e of t){if(r.ko.has(e)){zl("SyncEngine","Adding an already active target "+e);continue}const t=yield _m(r.localStore,e),n=yield ym(r.localStore,t);yield bv(r,nw(t),n.targetId,!1),dy(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&(yield vm(r.localStore,e,!1).then(()=>{fy(r.remoteStore,e),Zv(r,e)}).catch(Mg))}})).apply(this,arguments)}function uw(e){const t=Wl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Sv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$v.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kv.bind(null,t),t.No.Er=iv.bind(null,t.eventManager),t.No.jo=sv.bind(null,t.eventManager),t}function cw(e){const t=Wl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ov.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rv.bind(null,t),t}class lw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Co.Z)(function*(){t.N=ey(e.databaseInfo.databaseId),t.sharedClientState=t.Wo(e),t.persistence=t.Go(e),yield t.persistence.start(),t.gcScheduler=t.zo(e),t.localStore=t.Ho(e)})()}zo(e){return null}Ho(e){return cm(this.persistence,new am,e.initialUser,this.N)}Go(e){return new Dm(Mm.Ns,this.N)}Wo(e){return new $m}terminate(){var e=this;return(0,Co.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hw extends lw{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,Co.Z)(function*(){yield t().call(n,e),yield function(e){return Im.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,e),yield cw(n.Jo.syncEngine),yield xy(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(e){return cm(this.persistence,new am,e.initialUser,this.N)}zo(e){return new qg(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=rm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ig.withCacheSize(this.cacheSizeBytes):Ig.DEFAULT;return new em(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Jm(),Xm(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new $m}}class dw extends hw{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,Co.Z)(function*(){yield t().call(n,e);const r=n.Jo.syncEngine;n.sharedClientState instanceof Hm&&(n.sharedClientState.syncEngine={_i:Yv.bind(null,r),mi:iw.bind(null,r),gi:ow.bind(null,r),pn:rw.bind(null,r),wi:Wv.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var e=(0,Co.Z)(function*(e){yield function(e,t){return Xv.apply(this,arguments)}(n.Jo.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}Wo(e){const t=Jm();if(!Hm.bt(t))throw new Yl(Ql.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=rm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hm(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class fw{initialize(e,t){var n=this;return(0,Co.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>Cv(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=Bv.bind(null,n.syncEngine),yield zy(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Xy}createDatastore(e){const t=ey(e.databaseInfo.databaseId),n=new Ym(e.databaseInfo);return function(e,t,n){return new sy(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Cv(this.syncEngine,e,0),s=Km.bt()?new Km:new Gm,new ay(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new yv(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Co.Z)(function*(e){const t=Wl(e);zl("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),yield ly(t),t.Qr.shutdown(),t.Wr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pw(e,t=10240){let n=0;return{read:()=>(0,Co.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,Co.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class mw{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Jl,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}getMetadata(){var e=this;return(0,Co.Z)(function*(){return e.metadata.promise})()}Qo(){var e=this;return(0,Co.Z)(function*(){return yield e.getMetadata(),e.ea()})()}ea(){var e=this;return(0,Co.Z)(function*(){const t=yield e.na();if(null===t)return null;const n=e.ta.decode(t),r=Number(n);isNaN(r)&&e.sa(`length string (${n}) is not valid number`);const i=yield e.ia(r);return new uv(JSON.parse(i),t.length+r)})()}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}na(){var e=this;return(0,Co.Z)(function*(){for(;e.ra()<0&&!(yield e.oa()););if(0===e.buffer.length)return null;const t=e.ra();t<0&&e.sa("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ia(e){var t=this;return(0,Co.Z)(function*(){for(;t.buffer.length<e;)(yield t.oa())&&t.sa("Reached the end of bundle when more is expected.");const n=t.ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}oa(){var e=this;return(0,Co.Z)(function*(){const t=yield e.Zo.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class yw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Co.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Yl(Ql.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,Co.Z)(function*(e,t){const n=Wl(e),r=ep(n.N)+"/documents",i={documents:t.map(e=>Qf(n.N,e))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Kl(!!t.found);const n=Yf(e,t.found.name),r=Gf(t.found.updateTime),i=new Gh({mapValue:{fields:t.found.fields}});return Wh.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Kl(!!t.missing),Kl(!!t.readTime);const n=Yf(e,t.missing),r=Gf(t.readTime);return Wh.newNoDocument(n,r)}(e,t):Gl()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());Kl(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new lf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Co.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=Rh.fromPath(n);e.mutations.push(new hf(r,e.precondition(r)))}),yield(n=(0,Co.Z)(function*(e,t){const n=Wl(e),r=ep(n.N)+"/documents",i={writes:t.map(e=>ip(n.N,e))};yield n.Li("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Gl();t=dh.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Yl(Ql.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Qd.updateTime(t):Qd.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dh.min()))throw new Yl(Ql.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qd.updateTime(t)}return Qd.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vw{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new ty(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var e=this;this.rr.Xi((0,Co.Z)(function*(){const t=new yw(e.datastore),n=e.ua(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.ha(t)}))}).catch(t=>{e.ha(t)})}))}ua(e){try{const t=this.updateFunction(e);return!xh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!gf(t)}return!1}}class ww{constructor(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Fl.UNAUTHENTICATED,this.clientId=ah.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var e=(0,Co.Z)(function*(e){zl("FirestoreClient","Received user=",e.uid),yield r.credentialListener(e),r.user=e});return function(t){return e.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,Co.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Yl(Ql.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Jl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Co.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(n){const e=Ky(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function bw(e,t){return _w.apply(this,arguments)}function _w(){return(_w=(0,Co.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),zl("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,Co.Z)(function*(e){r.isEqual(e)||(yield lm(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function Tw(e,t){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,Co.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield Ew(e);zl("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>{return(n=(0,Co.Z)(function*(e,t){const n=Wl(e);n.asyncQueue.verifyOperationInProgress(),zl("RemoteStore","RemoteStore received new credentials");const r=vy(n);n.Kr.add(3),yield ly(n),r&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),yield uy(n)}),function(e,t){return n.apply(this,arguments)})(t.remoteStore,e);var n}),e.onlineComponents=t})).apply(this,arguments)}function Ew(e){return Sw.apply(this,arguments)}function Sw(){return(Sw=(0,Co.Z)(function*(e){return e.offlineComponents||(zl("FirestoreClient","Using default OfflineComponentProvider"),yield bw(e,new lw)),e.offlineComponents})).apply(this,arguments)}function Aw(e){return Cw.apply(this,arguments)}function Cw(){return(Cw=(0,Co.Z)(function*(e){return e.onlineComponents||(zl("FirestoreClient","Using default OnlineComponentProvider"),yield Tw(e,new fw)),e.onlineComponents})).apply(this,arguments)}function kw(e){return Ew(e).then(e=>e.persistence)}function xw(e){return Ew(e).then(e=>e.localStore)}function Ow(e){return Aw(e).then(e=>e.remoteStore)}function Nw(e){return Aw(e).then(e=>e.syncEngine)}function Rw(e){return Pw.apply(this,arguments)}function Pw(){return(Pw=(0,Co.Z)(function*(e){const t=yield Aw(e),n=t.eventManager;return n.onListen=vv.bind(null,t.syncEngine),n.onUnlisten=Tv.bind(null,t.syncEngine),n})).apply(this,arguments)}function Dw(e,t,n={}){const r=new Jl;return e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return function(e,t,n,r,i){const s=new gw({next:s=>{t.enqueueAndForget(()=>nv(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Yl(Ql.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Yl(Ql.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new av(vd(n.path),s,{includeMetadataChanges:!0,uo:!0});return ev(e,o)}(yield Rw(e),e.asyncQueue,t,n,r)})),r.promise}function Lw(e,t,n={}){const r=new Jl;return e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return function(e,t,n,r,i){const s=new gw({next:n=>{t.enqueueAndForget(()=>nv(e,o)),n.fromCache&&"server"===r.source?i.reject(new Yl(Ql.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new av(n,s,{includeMetadataChanges:!0,uo:!0});return ev(e,o)}(yield Rw(e),e.asyncQueue,t,n,r)})),r.promise}class Mw{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Zw{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zw&&e.projectId===this.projectId&&e.database===this.database}}const Uw=new Map;function Fw(e,t,n){if(!n)throw new Yl(Ql.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function qw(e,t,n,r){if(!0===t&&!0===r)throw new Yl(Ql.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vw(e){if(!Rh.isDocumentKey(e))throw new Yl(Ql.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jw(e){if(Rh.isDocumentKey(e))throw new Yl(Ql.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function zw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Gl()}function Bw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yl(Ql.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zw(e);throw new Yl(Ql.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Hw(e,t){if(t<=0)throw new Yl(Ql.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class $w{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Yl(Ql.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Yl(Ql.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gw{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $w({}),this._settingsFrozen=!1,e instanceof Zw?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yl(Ql.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zw(e.options.projectId)}(e))}get app(){if(!this._app)throw new Yl(Ql.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Yl(Ql.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $w(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new eh;switch(e.type){case"gapi":const t=e.client;return Kl(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ih(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Yl(Ql.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Uw.get(e);t&&(zl("ComponentProvider","Removing Datastore"),Uw.delete(e),t.terminate())}(this),Promise.resolve()}}class Kw{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kw(this.firestore,e,this._key)}}class Ww{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ww(this.firestore,e,this._query)}}class Qw extends Ww{constructor(e,t,n){super(e,t,vd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kw(this.firestore,null,new Rh(e))}withConverter(e){return new Qw(this.firestore,e,this._path)}}function Yw(e,t,...n){if(e=(0,No.m9)(e),Fw("collection","path",t),e instanceof Gw){const r=yh.fromString(t,...n);return jw(r),new Qw(e,null,r)}{if(!(e instanceof Kw||e instanceof Qw))throw new Yl(Ql.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(yh.fromString(t,...n));return jw(r),new Qw(e.firestore,null,r)}}function Jw(e,t,...n){if(e=(0,No.m9)(e),1===arguments.length&&(t=ah.I()),Fw("doc","path",t),e instanceof Gw){const r=yh.fromString(t,...n);return Vw(r),new Kw(e,null,new Rh(r))}{if(!(e instanceof Kw||e instanceof Qw))throw new Yl(Ql.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(yh.fromString(t,...n));return Vw(r),new Kw(e.firestore,e instanceof Qw?e.converter:null,new Rh(r))}}function Xw(e,t){return e=(0,No.m9)(e),t=(0,No.m9)(t),(e instanceof Kw||e instanceof Qw)&&(t instanceof Kw||t instanceof Qw)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function eb(e,t){return e=(0,No.m9)(e),t=(0,No.m9)(t),e instanceof Ww&&t instanceof Ww&&e.firestore===t.firestore&&Cd(e._query,t._query)&&e.converter===t.converter}class tb{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new ty(this,"async_queue_retry"),this.Ta=()=>{const e=Xm();e&&zl("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=Xm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ea(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Xm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ta)}}enqueue(e){if(this.Ea(),this.wa)return new Promise(()=>{});const t=new Jl;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}Aa(){var e=this;return(0,Co.Z)(function*(){if(0!==e.da.length){try{yield e.da[0](),e.da.shift(),e.rr.reset()}catch(Ho){if(!Kp(Ho))throw Ho;zl("AsyncQueue","Operation failed with retryable error: "+Ho)}e.da.length>0&&e.rr.Xi(()=>e.Aa())}})()}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,Bl("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ea(),this.pa.indexOf(e)>-1&&(t=0);const r=Gy.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ea(){this.ma&&Gl()}verifyOperationInProgress(){}ba(){var e=this;return(0,Co.Z)(function*(){let t;do{t=e.fa,yield t}while(t!==e.fa)})()}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function nb(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class rb{constructor(){this._progressObserver={},this._taskCompletionResolver=new Jl,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ib extends Gw{constructor(e,t){super(e,t),this.type="firestore",this._queue=new tb,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ob(this),this._firestoreClient.terminate()}}function sb(e){return e._firestoreClient||ob(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ob(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Mw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ww(e._credentials,e._queue,r)}function ab(e,t,n){const r=new Jl;return e.asyncQueue.enqueue((0,Co.Z)(function*(){try{yield bw(e,n),yield Tw(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Ql.FAILED_PRECONDITION||e.code===Ql.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function ub(e){if(e._initialized||e._terminated)throw new Yl(Ql.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cb{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Yl(Ql.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wh(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lb{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lb(_h.fromBase64String(e))}catch(e){throw new Yl(Ql.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new lb(_h.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class hb{constructor(e){this._methodName=e}}class db{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Yl(Ql.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Yl(Ql.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return uh(this._lat,e._lat)||uh(this._long,e._long)}}const fb=/^__.*__$/;class pb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new of(e,this.data,this.fieldMask,t,this.fieldTransforms):new sf(e,this.data,t,this.fieldTransforms)}}class gb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new of(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gl()}}class yb{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new yb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return Zb(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(mb(this.Da)&&fb.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class vb{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||ey(e)}Ba(e,t,n,r=!1){return new yb({Da:e,methodName:t,La:n,path:wh.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function wb(e){const t=e._freezeSettings(),n=ey(e._databaseId);return new vb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bb(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);Pb("Data must be an object, but it was:",o,r);const a=Nb(r,o);let u,c;if(s.merge)u=new bh(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Db(t,r,n);if(!o.contains(i))throw new Yl(Ql.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ub(e,i)||e.push(i)}u=new bh(e),c=o.fieldTransforms.filter(e=>u.covers(e.field))}else u=null,c=o.fieldTransforms;return new pb(new Gh(a),u,c)}class _b extends hb{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _b}}function Tb(e,t,n){return new yb({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class Ib extends hb{_toFieldTransform(e){return new Kd(e.path,new qd)}isEqual(e){return e instanceof Ib}}class Eb extends hb{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Tb(this,e,!0),n=this.Ua.map(e=>Ob(e,t)),r=new Vd(n);return new Kd(e.path,r)}isEqual(e){return this===e}}class Sb extends hb{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Tb(this,e,!0),n=this.Ua.map(e=>Ob(e,t)),r=new zd(n);return new Kd(e.path,r)}isEqual(e){return this===e}}class Ab extends hb{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Hd(e.N,Ld(e.N,this.qa));return new Kd(e.path,t)}isEqual(e){return this===e}}function Cb(e,t,n,r){const i=e.Ba(1,t,n);Pb("Data must be an object, but it was:",i,r);const s=[],o=Gh.empty();ph(r,(e,r)=>{const a=Mb(t,e,n);r=(0,No.m9)(r);const u=i.$a(a);if(r instanceof _b)s.push(a);else{const e=Ob(r,u);null!=e&&(s.push(a),o.set(a,e))}});const a=new bh(s);return new gb(o,a,i.fieldTransforms)}function kb(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[Db(t,r,n)],u=[i];if(s.length%2!=0)throw new Yl(Ql.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Db(t,s[d])),u.push(s[d+1]);const c=[],l=Gh.empty();for(let d=a.length-1;d>=0;--d)if(!Ub(c,a[d])){const e=a[d];let t=u[d];t=(0,No.m9)(t);const n=o.$a(e);if(t instanceof _b)c.push(e);else{const r=Ob(t,n);null!=r&&(c.push(e),l.set(e,r))}}const h=new bh(c);return new gb(l,h,o.fieldTransforms)}function xb(e,t,n,r=!1){return Ob(n,e.Ba(r?4:3,t))}function Ob(e,t){if(Rb(e=(0,No.m9)(e)))return Pb("Unsupported field value:",t,e),Nb(e,t);if(e instanceof hb)return function(e,t){if(!mb(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ob(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,No.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ld(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=hh.fromDate(e);return{timestampValue:Bf(t.N,n)}}if(e instanceof hh){const n=new hh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bf(t.N,n)}}if(e instanceof db)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lb)return{bytesValue:Hf(t.N,e._byteString)};if(e instanceof Kw){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Kf(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${zw(e)}`)}(e,t)}function Nb(e,t){const n={};return gh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ph(e,(e,r)=>{const i=Ob(r,t.Na(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Rb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof hh||e instanceof db||e instanceof lb||e instanceof Kw||e instanceof hb)}function Pb(e,t,n){if(!Rb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=zw(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}}function Db(e,t,n){if((t=(0,No.m9)(t))instanceof cb)return t._internalPath;if("string"==typeof t)return Mb(e,t);throw Zb("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Lb=new RegExp("[~\\*/\\[\\]]");function Mb(e,t,n){if(t.search(Lb)>=0)throw Zb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cb(...t.split("."))._internalPath}catch(r){throw Zb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Zb(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Yl(Ql.INVALID_ARGUMENT,a+e+u)}function Ub(e,t){return e.some(e=>e.isEqual(t))}class Fb{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kw(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class qb extends Fb{data(){return super.data()}}function Vb(e,t){return"string"==typeof t?Mb(e,t):t instanceof cb?t._internalPath:t._delegate._internalPath}class jb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zb extends Fb{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Vb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Bb extends zb{data(e={}){return super.data(e)}}class Hb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new jb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Bb(this._firestore,this._userDataWriter,n.key,n,new jb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yl(Ql.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Bb(e._firestore,e._userDataWriter,n.doc.key,n.doc,new jb(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Bb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new jb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:$b(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $b(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gl()}}function Gb(e,t){return e instanceof zb&&t instanceof zb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hb&&t instanceof Hb&&e._firestore===t._firestore&&eb(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Kb(e){if(bd(e)&&0===e.explicitOrderBy.length)throw new Yl(Ql.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wb{}function Qb(e,...t){for(const n of t)e=n._apply(e);return e}class Yb extends Wb{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=wb(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Yl(Ql.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){i_(o,s);const t=[];for(const n of o)t.push(r_(r,e,n));a={arrayValue:{values:t}}}else a=r_(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||i_(o,s),a=xb(n,"where",o,"in"===s||"not-in"===s);const u=td.create(i,s,a);return function(e,t){if(t.v()){const n=Td(e);if(null!==n&&!n.isEqual(t.field))throw new Yl(Ql.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=_d(e);null!==r&&s_(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new Yl(Ql.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Ww(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new md(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class Jb extends Wb{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Yl(Ql.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Yl(Ql.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new dd(t,n);return function(e,t){if(null===_d(e)){const n=Td(e);null!==n&&s_(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Ww(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new md(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Xb extends Wb{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new Ww(e.firestore,e.converter,Ad(e._query,this.Ga,this.za))}}class e_ extends Wb{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=n_(e,this.type,this.Ha,this.Ja);return new Ww(e.firestore,e.converter,function(e,t){return new md(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class t_ extends Wb{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=n_(e,this.type,this.Ha,this.Ja);return new Ww(e.firestore,e.converter,function(e,t){return new md(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function n_(e,t,n,r){if(n[0]=(0,No.m9)(n[0]),n[0]instanceof Fb)return function(e,t,n,r,i){if(!r)throw new Yl(Ql.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Ed(e))if(o.field.isKeyField())s.push(qh(t,r.key));else{const e=r.data.field(o.field);if(Ah(e))throw new Yl(Ql.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Yl(Ql.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new ld(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=wb(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Yl(Ql.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let u=0;u<i.length;u++){const s=i[u];if(o[u].field.isKeyField()){if("string"!=typeof s)throw new Yl(Ql.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Id(e)&&-1!==s.indexOf("/"))throw new Yl(Ql.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(yh.fromString(s));if(!Rh.isDocumentKey(n))throw new Yl(Ql.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Rh(n);a.push(qh(t,i))}else{const e=xb(n,r,s);a.push(e)}}return new ld(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function r_(e,t,n){if("string"==typeof(n=(0,No.m9)(n))){if(""===n)throw new Yl(Ql.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Id(t)&&-1!==n.indexOf("/"))throw new Yl(Ql.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(yh.fromString(n));if(!Rh.isDocumentKey(r))throw new Yl(Ql.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qh(e,new Rh(r))}if(n instanceof Kw)return qh(e,n._key);throw new Yl(Ql.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${zw(n)}.`)}function i_(e,t){if(!Array.isArray(e)||0===e.length)throw new Yl(Ql.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Yl(Ql.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function s_(e,t,n){if(!n.isEqual(t))throw new Yl(Ql.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class o_{convertValue(e,t="none"){switch(Ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Eh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Gl()}}convertObject(e,t){const n={};return ph(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new db(Eh(e.latitude),Eh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ch(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const t=Ih(e);return new hh(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yh.fromString(e);Kl(wp(n));const r=new Zw(n.get(1),n.get(3)),i=new Rh(n.popFirst(5));return r.isEqual(t)||Bl(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function a_(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class u_ extends o_{constructor(e){super(),this.firestore=e}convertBytes(e){return new lb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kw(this.firestore,null,t)}}class c_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wb(e)}set(e,t,n){this._verifyNotCommitted();const r=l_(e,this._firestore),i=a_(r.converter,t,n),s=bb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Qd.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=l_(e,this._firestore);let s;return s="string"==typeof(t=(0,No.m9)(t))||t instanceof cb?kb(this._dataReader,"WriteBatch.update",i._key,t,n,r):Cb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,Qd.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=l_(e,this._firestore);return this._mutations=this._mutations.concat(new lf(t._key,Qd.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Yl(Ql.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function l_(e,t){if((e=(0,No.m9)(e)).firestore!==t)throw new Yl(Ql.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class h_ extends o_{constructor(e){super(),this.firestore=e}convertBytes(e){return new lb(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kw(this.firestore,null,t)}}function d_(e,t,n){e=Bw(e,Kw);const r=Bw(e.firestore,ib),i=a_(e.converter,t,n);return g_(r,[bb(wb(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qd.none())])}function f_(e,t,n,...r){e=Bw(e,Kw);const i=Bw(e.firestore,ib),s=wb(i);let o;return o="string"==typeof(t=(0,No.m9)(t))||t instanceof cb?kb(s,"updateDoc",e._key,t,n,r):Cb(s,"updateDoc",e._key,t),g_(i,[o.toMutation(e._key,Qd.exists(!0))])}function p_(e,...t){var n,r,i;e=(0,No.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||nb(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(nb(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,l;if(e instanceof Kw)c=Bw(e.firestore,ib),l=vd(e._key.path),u={next:n=>{t[o]&&t[o](m_(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Bw(e,Ww);c=Bw(n.firestore,ib),l=n._query;const r=new h_(c);u={next:e=>{t[o]&&t[o](new Hb(c,r,n,e))},error:t[o+1],complete:t[o+2]},Kb(e._query)}return function(e,t,n,r){const i=new gw(r),s=new av(t,i,n);return e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return ev(yield Rw(e),s)})),()=>{i.Xo(),e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return nv(yield Rw(e),s)}))}}(sb(c),l,a,u)}function g_(e,t){return function(e,t){const n=new Jl;return e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return function(e,t,n){return Ev.apply(this,arguments)}(yield Nw(e),t,n)})),n.promise}(sb(e),t)}function m_(e,t,n){const r=n.docs.get(t._key),i=new h_(e);return new zb(e,i,t._key,r,new jb(n.hasPendingWrites,n.fromCache),t.converter)}class y_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wb(e)}get(e){const t=l_(e,this._firestore),n=new u_(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Gl();const r=e[0];if(r.isFoundDocument())return new Fb(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Fb(this._firestore,n,t._key,null,t.converter);throw Gl()})}set(e,t,n){const r=l_(e,this._firestore),i=a_(r.converter,t,n),s=bb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=l_(e,this._firestore);let s;return s="string"==typeof(t=(0,No.m9)(t))||t instanceof cb?kb(this._dataReader,"Transaction.update",i._key,t,n,r):Cb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=l_(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=l_(e,this._firestore),n=new h_(this._firestore);return super.get(e).then(e=>new zb(this._firestore,n,t._key,e._document,new jb(!1,!1),t.converter))}}function v_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Yl("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function w_(){if("undefined"==typeof Uint8Array)throw new Yl("unimplemented","Uint8Arrays are not available in this environment.")}function b_(){if("undefined"==typeof atob)throw new Yl("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e){ql=e}(ko.SDK_VERSION),(0,ko._registerComponent)(new xo.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new ib(n,new nh(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,ko.registerVersion)(Ul,"3.1.1",void 0),(0,ko.registerVersion)(Ul,"3.1.1","esm2017");class __{constructor(e){this._delegate=e}static fromBase64String(e){return b_(),new __(lb.fromBase64String(e))}static fromUint8Array(e){return w_(),new __(lb.fromUint8Array(e))}toBase64(){return b_(),this._delegate.toBase64()}toUint8Array(){return w_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function T_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class I_{enableIndexedDbPersistence(e,t){return function(e,t){ub(e=Bw(e,ib));const n=sb(e),r=e._freezeSettings(),i=new fw;return ab(n,i,new hw(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){ub(e=Bw(e,ib));const t=sb(e),n=e._freezeSettings(),r=new fw;return ab(t,r,new dw(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Yl(Ql.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Jl;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Co.Z)(function*(){try{yield(n=(0,Co.Z)(function*(e){if(!Hp.bt())return Promise.resolve();const t=e+"main";yield Hp.delete(t)}),function(e){return n.apply(this,arguments)})(rm(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class E_{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zw||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Hl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=Bw(e,Gw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Hl("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Fl.MOCK_USER;else{t=(0,No.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Yl(Ql.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Fl(s)}e._credentials=new th(new Xl(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Co.Z)(function*(){const t=yield kw(e),n=yield Ow(e);return t.setNetworkEnabled(!0),function(e){const t=Wl(e);return t.Kr.delete(0),uy(t)}(n)}))}(sb(e=Bw(e,ib)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Co.Z)(function*(){const t=yield kw(e),n=yield Ow(e);return t.setNetworkEnabled(!1),(r=(0,Co.Z)(function*(e){const t=Wl(e);t.Kr.add(0),yield ly(t),t.Wr.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(sb(e=Bw(e,ib)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,qw("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Jl;return e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return function(e,t){return Dv.apply(this,arguments)}(yield Nw(e),t)})),t.promise}(sb(e=Bw(e,ib)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new gw(t);return e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return function(e,t){Wl(e).Zr.add(t),t.next()}(yield Rw(e),n)})),()=>{n.Xo(),e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return function(e,t){Wl(e).Zr.delete(t)}(yield Rw(e),n)}))}}(sb(e=Bw(e,ib)),nb(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Yl("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new U_(this,Yw(this._delegate,e))}catch(t){throw O_(t,"collection()","Firestore.collection()")}}doc(e){try{return new x_(this,Jw(this._delegate,e))}catch(t){throw O_(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new L_(this,function(e,t){if(e=Bw(e,Gw),Fw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Yl(Ql.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ww(e,null,function(e){return new md(yh.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw O_(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new Jl;return e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){const r=yield function(e){return Aw(e).then(e=>e.datastore)}(e);new vw(e.asyncQueue,r,t,n).run()})),n.promise}(sb(e),n=>t(new y_(e,n)))}(this._delegate,t=>e(new A_(this,t)))}batch(){return sb(this._delegate),new C_(new c_(this._delegate,e=>g_(this._delegate,e)))}loadBundle(e){return function(e,t){const n=sb(e=Bw(e,ib)),r=new rb;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new mw(e,t)}(function(e,t){if(e instanceof Uint8Array)return pw(e,t);if(e instanceof ArrayBuffer)return pw(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,ey(t));e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){!function(e,t,n){const r=Wl(e);var i;(i=(0,Co.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=Wl(e),r=Gf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(hv(r));const i=new lv(r,e.localStore,t.N);let s=yield t.Qo();for(;s;){const e=yield i.fo(s);e&&n._updateProgress(e),s=yield t.Qo()}const o=yield i.complete();yield jv(e,o.En,void 0),yield function(e,t){const n=Wl(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Hl("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Nw(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,Co.Z)(function*(){return function(e,t){const n=Wl(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(yield xw(e),t)}))}(sb(e=Bw(e,ib)),t).then(t=>t?new Ww(e,null,t.query):null)}(this._delegate,e).then(e=>e?new L_(this,e):null)}}class S_ extends o_{constructor(e){super(),this.firestore=e}convertBytes(e){return new __(new lb(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return x_.forKey(t,this.firestore,null)}}class A_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new S_(e)}get(e){const t=F_(e);return this._delegate.get(t).then(e=>new P_(this._firestore,new zb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=F_(e);return n?(v_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=F_(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=F_(e);return this._delegate.delete(t),this}}class C_{constructor(e){this._delegate=e}set(e,t,n){const r=F_(e);return n?(v_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=F_(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=F_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}let k_=(()=>{class e{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Bb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new D_(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(t,n){const r=e.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let s=i.get(n);return s||(s=new e(t,new S_(t),n),i.set(n,s)),s}}return e.INSTANCES=new WeakMap,e})();class x_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new S_(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Yl("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new x_(t,new Kw(t._delegate,n,new Rh(e)))}static forKey(e,t,n){return new x_(t,new Kw(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new U_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new U_(this.firestore,Yw(this._delegate,e))}catch(t){throw O_(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,No.m9)(e))instanceof Kw&&Xw(this._delegate,e)}set(e,t){t=v_("DocumentReference.set",t);try{return t?d_(this._delegate,e,t):d_(this._delegate,e)}catch(n){throw O_(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?f_(this._delegate,e):f_(this._delegate,e,t,...n)}catch(r){throw O_(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return g_(Bw(e.firestore,ib),[new lf(e._key,Qd.none())])}(this._delegate)}onSnapshot(...e){const t=N_(e),n=R_(e,e=>new P_(this.firestore,new zb(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return p_(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Bw(e,Kw);const t=Bw(e.firestore,ib),n=sb(t),r=new h_(t);return function(e,t){const n=new Jl;return e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return(r=(0,Co.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Wl(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Yl(Ql.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Ky(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield xw(e),t,n);var r})),n.promise}(n,e._key).then(n=>new zb(t,r,e._key,n,new jb(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Bw(e,Kw);const t=Bw(e.firestore,ib);return Dw(sb(t),e._key,{source:"server"}).then(n=>m_(t,e,n))}(this._delegate):function(e){e=Bw(e,Kw);const t=Bw(e.firestore,ib);return Dw(sb(t),e._key).then(n=>m_(t,e,n))}(this._delegate),t.then(e=>new P_(this.firestore,new zb(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new x_(this.firestore,this._delegate.withConverter(e?k_.getInstance(this.firestore,e):null))}}function O_(e,t,n){return e.message=e.message.replace(t,n),e}function N_(e){for(const t of e)if("object"==typeof t&&!T_(t))return t;return{}}function R_(e,t){var n,r;let i;return i=T_(e[0])?e[0]:T_(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class P_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new x_(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Gb(this._delegate,e._delegate)}}class D_ extends P_{data(e){const t=this._delegate.data(e);return function(e,t){e||Gl()}(void 0!==t),t}}class L_{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new S_(e)}where(e,t,n){try{return new L_(this.firestore,Qb(this._delegate,function(e,t,n){const r=t,i=Vb("where",e);return new Yb(i,r,n)}(e,t,n)))}catch(r){throw O_(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new L_(this.firestore,Qb(this._delegate,function(e,t="asc"){const n=t,r=Vb("orderBy",e);return new Jb(r,n)}(e,t)))}catch(n){throw O_(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new L_(this.firestore,Qb(this._delegate,function(e){return Hw("limit",e),new Xb("limit",e,"F")}(e)))}catch(t){throw O_(t,"limit()","Query.limit()")}}limitToLast(e){try{return new L_(this.firestore,Qb(this._delegate,function(e){return Hw("limitToLast",e),new Xb("limitToLast",e,"L")}(e)))}catch(t){throw O_(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new L_(this.firestore,Qb(this._delegate,function(...e){return new e_("startAt",e,!0)}(...e)))}catch(t){throw O_(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new L_(this.firestore,Qb(this._delegate,function(...e){return new e_("startAfter",e,!1)}(...e)))}catch(t){throw O_(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new L_(this.firestore,Qb(this._delegate,function(...e){return new t_("endBefore",e,!0)}(...e)))}catch(t){throw O_(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new L_(this.firestore,Qb(this._delegate,function(...e){return new t_("endAt",e,!1)}(...e)))}catch(t){throw O_(t,"endAt()","Query.endAt()")}}isEqual(e){return eb(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Bw(e,Ww);const t=Bw(e.firestore,ib),n=sb(t),r=new h_(t);return function(e,t){const n=new Jl;return e.asyncQueue.enqueueAndForget((0,Co.Z)(function*(){return(r=(0,Co.Z)(function*(e,t,n){try{const r=yield bm(e,t,!0),i=new pv(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Ky(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield xw(e),t,n);var r})),n.promise}(n,e._query).then(n=>new Hb(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Bw(e,Ww);const t=Bw(e.firestore,ib),n=sb(t),r=new h_(t);return Lw(n,e._query,{source:"server"}).then(n=>new Hb(t,r,e,n))}(this._delegate):function(e){e=Bw(e,Ww);const t=Bw(e.firestore,ib),n=sb(t),r=new h_(t);return Kb(e._query),Lw(n,e._query).then(n=>new Hb(t,r,e,n))}(this._delegate),t.then(e=>new Z_(this.firestore,new Hb(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=N_(e),n=R_(e,e=>new Z_(this.firestore,new Hb(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return p_(this._delegate,t,n)}withConverter(e){return new L_(this.firestore,this._delegate.withConverter(e?k_.getInstance(this.firestore,e):null))}}class M_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new D_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Z_{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new L_(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new D_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new M_(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new D_(this._firestore,n))})}isEqual(e){return Gb(this._delegate,e._delegate)}}class U_ extends L_{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new x_(this.firestore,e):null}doc(e){try{return new x_(this.firestore,void 0===e?Jw(this._delegate):Jw(this._delegate,e))}catch(t){throw O_(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Bw(e.firestore,ib),r=Jw(e),i=a_(e.converter,t);return g_(n,[bb(wb(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qd.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new x_(this.firestore,e))}isEqual(e){return Xw(this._delegate,e._delegate)}withConverter(e){return new U_(this.firestore,this._delegate.withConverter(e?k_.getInstance(this.firestore,e):null))}}function F_(e){return Bw(e,Kw)}class q_{constructor(...e){this._delegate=new cb(...e)}static documentId(){return new q_(wh.keyField().canonicalString())}isEqual(e){return(e=(0,No.m9)(e))instanceof cb&&this._delegate._internalPath.isEqual(e._internalPath)}}class V_{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Ib("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new V_(e)}static delete(){const e=new _b("deleteField");return e._methodName="FieldValue.delete",new V_(e)}static arrayUnion(...e){const t=function(...e){return new Eb("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new V_(t)}static arrayRemove(...e){const t=function(...e){return new Sb("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new V_(t)}static increment(e){const t=function(e){return new Ab("increment",e)}(e);return t._methodName="FieldValue.increment",new V_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const j_={Firestore:E_,GeoPoint:db,Timestamp:hh,Blob:__,Transaction:A_,WriteBatch:C_,DocumentReference:x_,DocumentSnapshot:P_,Query:L_,QueryDocumentSnapshot:D_,QuerySnapshot:Z_,CollectionReference:U_,FieldPath:q_,FieldValue:V_,setLogLevel:function(e){!function(e){Vl.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var z_,B_;B_=(e,t)=>new E_(e,t,new I_),(z_=Ao.Z).INTERNAL.registerComponent(new xo.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return B_(t,n)},"PUBLIC").setServiceProps(Object.assign({},j_))),z_.registerVersion("@firebase/firestore-compat","0.1.4");var H_=n(9089),$_=n(3095),G_=(0,$_.d)(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),K_=n(5697),W_=n(471),Q_=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,Us.ZT)(t,e),t.prototype.lift=function(e){var t=new Y_(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new G_},t.prototype.next=function(e){var t=this;(0,W_.x)(function(){var n,r;if(t._throwIfClosed(),!t.isStopped){var i=t.observers.slice();try{for(var s=(0,Us.XA)(i),o=s.next();!o.done;o=s.next())o.value.next(e)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;(0,W_.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;(0,W_.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.observers;return t.hasError||t.isStopped?H_.Lc:(n.push(e),new H_.w0(function(){return(0,K_.P)(n,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.isStopped;t.hasError?e.error(t.thrownError):n&&e.complete()},t.prototype.asObservable=function(){var e=new Zs.y;return e.source=this,e},t.create=function(e,t){return new Y_(e,t)},t}(Zs.y),Y_=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,Us.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:H_.Lc},t}(Q_),J_=new Zs.y(function(e){return e.complete()});function X_(e,t){return(0,lo.e)(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(new ho.Q(r,function(n){null==i||i.unsubscribe();var o=0,u=s++;Ys(e(n,u)).subscribe(i=new ho.Q(r,function(e){return r.next(t?t(n,e,u,o++):e)},function(){i=null,a()}))},function(){o=!0,a()}))})}var eT=n(8890),tT=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=eT.l);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return(0,Us.ZT)(t,e),t.prototype.next=function(t){var n=this,r=n._buffer,i=n._infiniteTimeWindow,s=n._timestampProvider,o=n._windowTime;n.isStopped||(r.push(t),!i&&r.push(s.now()+o)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,s=(i?1:2)*t;if(t<1/0&&s<r.length&&r.splice(0,r.length-s),!i){for(var o=n.now(),a=0,u=1;u<r.length&&r[u]<=o;u+=2)a=u;a&&r.splice(0,a+1)}},t}(Q_);function nT(e){return e<=0?function(){return J_}:(0,lo.e)(function(t,n){var r=0;t.subscribe(new ho.Q(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}var rT=n(575);function iT(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!0===t?(e(),null):!1===t?null:t.apply(void 0,(0,Us.ev)([],(0,Us.CR)(n))).pipe(nT(1)).subscribe(function(){return e()})}function sT(e,t,n){var r,i,s,o=!1;return e&&"object"==typeof e?(s=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,o=!!e.refCount,n=e.scheduler):s=null!=e?e:1/0,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new Q_}:t,r=e.resetOnError,i=void 0===r||r,s=e.resetOnComplete,o=void 0===s||s,a=e.resetOnRefCountZero,u=void 0===a||a;return function(e){var t=null,r=null,s=null,a=0,c=!1,l=!1,h=function(){null==r||r.unsubscribe(),r=null},d=function(){h(),t=s=null,c=l=!1},f=function(){var e=t;d(),null==e||e.unsubscribe()};return(0,lo.e)(function(e,p){a++,l||c||h();var g=s=null!=s?s:n();p.add(function(){0!=--a||l||c||(r=iT(f,u))}),g.subscribe(p),t||(t=new rT.Hp({next:function(e){return g.next(e)},error:function(e){l=!0,h(),r=iT(d,i,e),g.error(e)},complete:function(){c=!0,h(),r=iT(d,o),g.complete()}}),ro(e).subscribe(t))})(e)}}({connector:function(){return new tT(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var oT=(0,$_.d)(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function aT(e){return(0,lo.e)(function(t,n){var r=!1;t.subscribe(new ho.Q(n,function(e){r=!0,n.next(e)},function(){r||n.next(e),n.complete()}))})}function uT(e){return void 0===e&&(e=cT),(0,lo.e)(function(t,n){var r=!1;t.subscribe(new ho.Q(n,function(e){r=!0,n.next(e)},function(){return r?n.complete():n.error(e())}))})}function cT(){return new oT}function lT(e,t){return(0,qs.m)(t)?X_(function(){return e},t):X_(function(){return e})}function hT(e,t,n){void 0===e&&(e=0),void 0===n&&(n=Ms.P);var r=-1;return null!=t&&(io(t)?n=t:r=t),new Zs.y(function(t){var i,s=(i=e)instanceof Date&&!isNaN(i)?+e-n.now():e;s<0&&(s=0);var o=0;return n.schedule(function(){t.closed||(t.next(o++),0<=r?this.schedule(void 0,r):t.complete())},s)})}function dT(e,t){return(0,qs.m)(t)?po(e,t,1):po(e,1)}var fT=n(4953);function pT(e,t){return(0,lo.e)(function(n,r){var i=new Set;n.subscribe(new ho.Q(r,function(t){var n=e?e(t):t;i.has(n)||(i.add(n),r.next(t))})),null==t||t.subscribe(new ho.Q(r,function(){return i.clear()},fT.Z))})}var gT=n(1858);hT(0,300).pipe(dT(()=>ro((0,gT.C6)())),pT()),new r.OlP("angularfire2._apps"),new r.FiY,new r.FiY,(0,co.u3)(gT.P2,!0),(0,co.u3)(gT.Mq,!0),(0,co.u3)(gT.C6,!0),(0,co.u3)(gT.ZF,!0),(0,co.u3)(gT.TP,!0),(0,co.u3)(gT.KN,!0),(0,co.u3)(gT.Ub,!0);const mT=new Map,yT={activated:!1,tokenObservers:[]},vT={initialized:!1,enabled:!1};function wT(e){return mT.get(e)||yT}function bT(e,t){mT.set(e,t)}function _T(){return vT}class TT{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Co.Z)(function*(){t.stop();try{t.pending=new No.BH,yield function(e){return new Promise(t=>{setTimeout(t,e)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new No.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(n){t.retryPolicy(n)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const IT=new No.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function ET(e){if(!wT(e).activated)throw IT.create("use-before-activation",{appName:e.name})}function ST(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function AT(e,t){return CT.apply(this,arguments)}function CT(){return(CT=(0,Co.Z)(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(h){throw IT.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw IT.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw IT.create("fetch-parse-error",{originalErrorMessage:h.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw IT.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function kT(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const xT="firebase-app-check-store",OT="debug-token";let NT=null;function RT(){return NT||(NT=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(IT.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(xT,{keyPath:"compositeKey"})}}}catch(n){t(IT.create("storage-open",{originalErrorMessage:n.message}))}}),NT)}function PT(e){return UT(qT(e))}function DT(e){return MT(OT,e)}function LT(){return UT(OT)}function MT(e,t){return ZT.apply(this,arguments)}function ZT(){return(ZT=(0,Co.Z)(function*(e,t){const n=(yield RT()).transaction(xT,"readwrite"),r=n.objectStore(xT).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(IT.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}function UT(e){return FT.apply(this,arguments)}function FT(){return(FT=(0,Co.Z)(function*(e){const t=(yield RT()).transaction(xT,"readonly"),n=t.objectStore(xT).get(e);return new Promise((e,r)=>{n.onsuccess=t=>{const n=t.target.result;e(n?n.value:void 0)},t.onerror=e=>{var t;r(IT.create("storage-get",{originalErrorMessage:null===(t=e.target.error)||void 0===t?void 0:t.message}))}})})).apply(this,arguments)}function qT(e){return`${e.options.appId}-${e.name}`}const VT=new Oo.Yd("@firebase/app-check");function jT(){return(jT=(0,Co.Z)(function*(e){if((0,No.hl)()){let n;try{n=yield PT(e)}catch(t){VT.warn(`Failed to read token from IndexedDB. Error: ${t}`)}return n}})).apply(this,arguments)}function zT(e,t){return(0,No.hl)()?function(e,t){return MT(qT(e),t)}(e,t).catch(e=>{VT.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function BT(){return(BT=(0,Co.Z)(function*(){let e;try{e=yield LT()}catch(wd){}if(e)return e;{const e=ST();return DT(e).catch(e=>VT.warn(`Failed to persist debug token to IndexedDB. Error: ${e}`)),e}})).apply(this,arguments)}function HT(){return _T().enabled}function $T(){return GT.apply(this,arguments)}function GT(){return(GT=(0,Co.Z)(function*(){const e=_T();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const KT={error:"UNKNOWN_ERROR"};function WT(e){return QT.apply(this,arguments)}function QT(){return(QT=(0,Co.Z)(function*(e,t=!1){const n=e.app;ET(n);const r=wT(n);let i,s,o=r.token;if(!o){const e=yield r.cachedTokenPromise;e&&eI(e)&&(o=e,bT(n,Object.assign(Object.assign({},r),{token:o})),XT(n,{token:o.token}))}if(!t&&o&&eI(o))return{token:o.token};if(HT()){const t=yield AT(kT(n,yield $T()),e.platformLoggerProvider);return yield zT(n,t),bT(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{o=yield r.provider.getToken()}catch(a){VT.error(a),i=a}return o?(s={token:o.token},bT(n,Object.assign(Object.assign({},r),{token:o})),yield zT(n,o)):s=tI(i),XT(n,s),s})).apply(this,arguments)}function YT(e,t,n,r){const{app:i}=e,s=wT(i),o={next:n,error:r,type:t},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const t=function(e){const{app:t}=e;return new TT((0,Co.Z)(function*(){let n;if(n=wT(t).token?yield WT(e,!0):yield WT(e),n.error)throw n.error}),()=>!0,()=>{const e=wT(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e);a.tokenRefresher=t}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&eI(s.token)){const e=s.token;Promise.resolve().then(()=>n({token:e.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(e=>{e&&eI(e)&&n({token:e.token})}).catch(()=>{});bT(i,a)}function JT(e,t){const n=wT(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),bT(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function XT(e,t){const n=wT(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function eI(e){return e.expireTimeMillis-Date.now()>0}function tI(e){return{token:(t=KT,No.US.encodeString(JSON.stringify(t),!1)),error:e};var t}class nI{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=wT(this.app);for(const t of e)JT(this.app,t.next);return Promise.resolve()}}function rI(){return(rI=(0,Co.Z)(function*(e,t){const n=yield WT(e,t);if(n.error)throw n.error;return{token:n.token}})).apply(this,arguments)}const iI="app-check-internal";(0,ko._registerComponent)(new xo.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("platform-logger"),new nI(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(iI).initialize()})),(0,ko._registerComponent)(new xo.wA(iI,e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>WT(t,e),addTokenListener:e=>YT(t,"INTERNAL",e),removeTokenListener:e=>JT(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ko.registerVersion)("@firebase/app-check","0.4.2");const sI="app-check";class oI{constructor(){return(0,co.vb)(sI)}}hT(0,300).pipe(dT(()=>ro((0,co.vb)(sI))),pT()),new r.OlP("angularfire2.app-check-instances"),Symbol("angularfire2.app-check.namespace"),"undefined"!=typeof window&&["localhost","0.0.0.0","127.0.0.1"].includes(window.location.hostname),new r.FiY,new r.FiY,(0,co.u3)(function(e,t){return rI.apply(this,arguments)},!0),(0,co.u3)(function(e=(0,ko.getApp)(),t){e=(0,No.m9)(e);const n=(0,ko._getProvider)(e,"app-check");if(_T().initialized||function(){const e=(0,No.Rd)(),t=_T();if(t.initialized=!0,"string"!=typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==e.FIREBASE_APPCHECK_DEBUG_TOKEN)return;t.enabled=!0;const n=new No.BH;t.token=n,n.resolve("string"==typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?e.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return BT.apply(this,arguments)}())}(),HT()&&$T().then(e=>console.log(`App Check debug token: ${e}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw IT.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return function(e,t,n){const r=wT(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=function(e){return jT.apply(this,arguments)}(e).then(t=>(t&&eI(t)&&bT(e,Object.assign(Object.assign({},wT(e)),{token:t})),t)),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,bT(e,i),i.provider.initialize(e)}(e,t.provider,t.isTokenAutoRefreshEnabled),r},!0),(0,co.u3)(function(e,t,n,r){let i=()=>{},s=()=>{};return i=null!=t.next?t.next.bind(t):t,null!=t.error?s=t.error.bind(t):n&&(s=n),YT(e,"EXTERNAL",i,s),()=>JT(e.app,i)},!0),(0,co.u3)(function(e,t){const n=e.app,r=wT(n);r.tokenRefresher&&(!0===t?r.tokenRefresher.start():r.tokenRefresher.stop()),bT(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:t}))},!0),n(9001);const aI=new r.OlP("angularfire2.auth.use-emulator"),uI=new r.OlP("angularfire2.auth.settings"),cI=new r.OlP("angularfire2.auth.tenant-id"),lI=new r.OlP("angularfire2.auth.langugage-code"),hI=new r.OlP("angularfire2.auth.use-device-language"),dI=new r.OlP("angularfire.auth.persistence"),fI=(e,t,n,r,i,s,o,a)=>(0,de.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const u=t.runOutsideAngular(()=>e.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))u.settings[e]=t;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let pI=(()=>{class e{constructor(e,t,r,i,s,o,a,u,c,l,h,d){const f=new Q_,p=uo(void 0).pipe((0,Xs.Q)(s.outsideAngular),X_(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,6268)))),fo(()=>(0,de.on)(e,i,t)),fo(e=>fI(e,i,o,u,c,l,a,h)),sT({bufferSize:1,refCount:!1}));if(R(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=uo(null);else{p.pipe(function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Eo(function(t,n){return e(t,n,r)}):go.y,nT(1),n?aT(t):uT(function(){return new oT}))}}()).subscribe();const e=p.pipe(X_(e=>e.getRedirectResult().then(e=>e,()=>null)),co.iC,sT({bufferSize:1,refCount:!1})),t=p.pipe(X_(e=>new Zs.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=p.pipe(X_(e=>new Zs.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(lT(t),(0,eo.R)(s.outsideAngular),(0,Xs.Q)(s.insideAngular)),this.user=e.pipe(lT(n),(0,eo.R)(s.outsideAngular),(0,Xs.Q)(s.insideAngular)),this.idToken=this.user.pipe(X_(e=>e?ro(e.getIdToken()):uo(null))),this.idTokenResult=this.user.pipe(X_(e=>e?ro(e.getIdTokenResult()):uo(null))),this.credential=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=oo(e),r=ao(e,1/0),i=e;return i.length?1===i.length?Ys(i[0]):mo(r)(ro(i,n)):J_}(e,f,this.authState.pipe(Eo(e=>!e))).pipe(fo(e=>(null==e?void 0:e.user)?e:null),(0,eo.R)(s.outsideAngular),(0,Xs.Q)(s.insideAngular))}return(0,de.pX)(this,p,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>f.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(de.Dh),r.LFG(de.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(co.HU),r.LFG(aI,8),r.LFG(uI,8),r.LFG(cI,8),r.LFG(lI,8),r.LFG(hI,8),r.LFG(dI,8),r.LFG(oI,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function gI(e,t){return function(e,t=Ms.z){return new Zs.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function mI(e,t){return gI(e,t).pipe(fo(e=>({payload:e,type:"query"})))}function yI(e,t){return mI(e,t).pipe(wo(void 0),bo(),fo(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function vI(e,t,n){return yI(e,n).pipe(To((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return wI(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return wI(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return wI(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),(void 0===i&&(i=go.y),r=null!=r?r:Io,(0,lo.e)(function(e,t){var n,s=!0;e.subscribe(new ho.Q(t,function(e){var o=i(e);!s&&r(n,o)||(s=!1,n=o,t.next(e))}))})),fo(e=>e.map(e=>({type:e.type,payload:e}))));var r,i}function wI(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function bI(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}(0,de.GT)(pI,[{name:null,config:null,emulatorConfig:null,app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class _I{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=yI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(fo(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(wo(void 0),bo(),Eo(([e,t])=>t.length>0||!e),fo(([e,t])=>t),co.iC)}auditTrail(e){return this.stateChanges(e).pipe(To((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=bI(e);return vI(this.query,t,this.afs.schedulers.outsideAngular).pipe(co.iC)}valueChanges(e={}){return mI(this.query,this.afs.schedulers.outsideAngular).pipe(fo(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),co.iC)}get(e){return ro(this.query.get(e)).pipe(co.iC)}add(e){return this.ref.add(e)}doc(e){return new TI(this.ref.doc(e),this.afs)}}class TI{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=kI(n,t);return new _I(r,i,this.afs)}snapshotChanges(){return gI(this.ref,this.afs.schedulers.outsideAngular).pipe(wo(void 0),bo(),fo(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(co.iC)}valueChanges(e={}){return this.snapshotChanges().pipe(fo(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return ro(this.ref.get(e)).pipe(co.iC)}}class II{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?yI(this.query,this.afs.schedulers.outsideAngular).pipe(fo(t=>t.filter(t=>e.indexOf(t.type)>-1)),Eo(e=>e.length>0),co.iC):yI(this.query,this.afs.schedulers.outsideAngular).pipe(co.iC)}auditTrail(e){return this.stateChanges(e).pipe(To((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=bI(e);return vI(this.query,t,this.afs.schedulers.outsideAngular).pipe(co.iC)}valueChanges(e={}){return mI(this.query,this.afs.schedulers.outsideAngular).pipe(fo(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),co.iC)}get(e){return ro(this.query.get(e)).pipe(co.iC)}}const EI=new r.OlP("angularfire2.enableFirestorePersistence"),SI=new r.OlP("angularfire2.firestore.persistenceSettings"),AI=new r.OlP("angularfire2.firestore.settings"),CI=new r.OlP("angularfire2.firestore.use-emulator");function kI(e,t=(e=>e)){return{query:t(e),ref:e}}let xI=(()=>{class e{constructor(e,t,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){this.schedulers=o;const y=(0,de.on)(e,s,t),v=u;c&&fI(y,s,l,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,de.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const e=s.runOutsideAngular(()=>y.firestore());if(r&&e.settings(r),v&&e.useEmulator(...v),n&&!R(i)){const t=()=>{try{return ro(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),uo(!1)}};return[e,s.runOutsideAngular(t)]}return[e,uo(!1)]},[r,v,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=kI(n,t),s=this.schedulers.ngZone.run(()=>r);return new _I(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new II(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new TI(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(de.Dh),r.LFG(de.xv,8),r.LFG(EI,8),r.LFG(AI,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(co.HU),r.LFG(SI,8),r.LFG(CI,8),r.LFG(pI,8),r.LFG(aI,8),r.LFG(uI,8),r.LFG(cI,8),r.LFG(lI,8),r.LFG(hI,8),r.LFG(dI,8),r.LFG(oI,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),OI=(()=>{class e{constructor(e){this.firestore=e}saveLogin(e){return this.firestore.collection("Users").add(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(xI))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function NI(e,t){1&e&&(r.TgZ(0,"p",19),r._uU(1,"Escriba una direcci\xf3n de correo electr\xf3nico, un n\xfamero de tel\xe9fono o un nombre Skype v\xe1lidos."),r.qZA())}function RI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h4"),r._uU(2,"Iniciar sesi\xf3n"),r.qZA(),r.YNc(3,NI,2,0,"p",11),r.TgZ(4,"input",12),r.NdJ("input",function(){return r.CHM(e),r.oxw().clear()}),r.qZA(),r.TgZ(5,"p",13),r._uU(6,"\xbfNo tiene una cuenta? "),r.TgZ(7,"a",14),r._uU(8,"Crear una."),r.qZA(),r.qZA(),r.TgZ(9,"a",15),r._uU(10,"\xbfNo puede acceder a su cuenta?"),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().next()}),r._uU(13,"Siguiente"),r.qZA(),r.TgZ(14,"button",18),r._uU(15,"Atr\xe1s"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.alert)}}function PI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",20),r.TgZ(2,"img",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().back()}),r.qZA(),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"h4"),r._uU(6,"Escribir contrase\xf1a"),r.qZA(),r._UZ(7,"input",22),r.TgZ(8,"a",23),r.TgZ(9,"p",24),r._uU(10,"He olvidado mi contrase\xf1a"),r.qZA(),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().login()}),r._uU(13,"Siguiente"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(4),r.Oqu(e.correo)}}function DI(e,t){1&e&&(r.TgZ(0,"p",19),r._uU(1,"Escriba una direcci\xf3n de correo electr\xf3nico, un n\xfamero de tel\xe9fono o un nombre Skype v\xe1lidos."),r.qZA())}function LI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h4"),r._uU(2,"Iniciar sesi\xf3n"),r.qZA(),r.YNc(3,DI,2,0,"p",11),r.TgZ(4,"input",12),r.NdJ("input",function(){return r.CHM(e),r.oxw().clear()}),r.qZA(),r.TgZ(5,"p",13),r._uU(6,"\xbfNo tiene una cuenta? "),r.TgZ(7,"a",14),r._uU(8,"Crear una."),r.qZA(),r.qZA(),r.TgZ(9,"a",15),r._uU(10,"\xbfNo puede acceder a su cuenta?"),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().next()}),r._uU(13,"Siguiente"),r.qZA(),r.TgZ(14,"button",18),r._uU(15,"Atr\xe1s"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.alert)}}function MI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",20),r.TgZ(2,"img",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().back()}),r.qZA(),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"h4"),r._uU(6,"Escribir contrase\xf1a"),r.qZA(),r._UZ(7,"input",25),r.TgZ(8,"a",23),r.TgZ(9,"p",24),r._uU(10,"He olvidado mi contrase\xf1a"),r.qZA(),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().login()}),r._uU(13,"Siguiente"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(4),r.Oqu(e.correo)}}function ZI(e,t){1&e&&(r.TgZ(0,"p",19),r._uU(1,"Escriba una direcci\xf3n de correo electr\xf3nico, un n\xfamero de tel\xe9fono o un nombre Skype v\xe1lidos."),r.qZA())}function UI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h4"),r._uU(2,"Iniciar sesi\xf3n"),r.qZA(),r.YNc(3,ZI,2,0,"p",11),r.TgZ(4,"input",12),r.NdJ("input",function(){return r.CHM(e),r.oxw().clear()}),r.qZA(),r.TgZ(5,"p",13),r._uU(6,"\xbfNo tiene una cuenta? "),r.TgZ(7,"a",14),r._uU(8,"Crear una."),r.qZA(),r.qZA(),r.TgZ(9,"a",15),r._uU(10,"\xbfNo puede acceder a su cuenta?"),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().next()}),r._uU(13,"Siguiente"),r.qZA(),r.TgZ(14,"button",18),r._uU(15,"Atr\xe1s"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.alert)}}function FI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",20),r.TgZ(2,"img",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().back()}),r.qZA(),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"h4"),r._uU(6,"Escribir contrase\xf1a"),r.qZA(),r._UZ(7,"input",25),r.TgZ(8,"a",23),r.TgZ(9,"p",24),r._uU(10,"He olvidado mi contrase\xf1a"),r.qZA(),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().login()}),r._uU(13,"Siguiente"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(4),r.Oqu(e.correo)}}function qI(e,t){1&e&&(r.TgZ(0,"p",19),r._uU(1,"Escriba una direcci\xf3n de correo electr\xf3nico, un n\xfamero de tel\xe9fono o un nombre Skype v\xe1lidos."),r.qZA())}function VI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h4"),r._uU(2,"Iniciar sesi\xf3n"),r.qZA(),r.YNc(3,qI,2,0,"p",11),r.TgZ(4,"input",12),r.NdJ("input",function(){return r.CHM(e),r.oxw().clear()}),r.qZA(),r.TgZ(5,"p",13),r._uU(6,"\xbfNo tiene una cuenta? "),r.TgZ(7,"a",14),r._uU(8,"Crear una."),r.qZA(),r.qZA(),r.TgZ(9,"a",15),r._uU(10,"\xbfNo puede acceder a su cuenta?"),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().next()}),r._uU(13,"Siguiente"),r.qZA(),r.TgZ(14,"button",18),r._uU(15,"Atr\xe1s"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.alert)}}function jI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",20),r.TgZ(2,"img",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().back()}),r.qZA(),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"h4"),r._uU(6,"Escribir contrase\xf1a"),r.qZA(),r._UZ(7,"input",25),r.TgZ(8,"a",23),r.TgZ(9,"p",24),r._uU(10,"He olvidado mi contrase\xf1a"),r.qZA(),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().login()}),r._uU(13,"Siguiente"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(4),r.Oqu(e.correo)}}function zI(e,t){1&e&&(r.TgZ(0,"p",19),r._uU(1,"Escriba una direcci\xf3n de correo electr\xf3nico, un n\xfamero de tel\xe9fono o un nombre Skype v\xe1lidos."),r.qZA())}function BI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"h4"),r._uU(2,"Iniciar sesi\xf3n"),r.qZA(),r.YNc(3,zI,2,0,"p",11),r.TgZ(4,"input",12),r.NdJ("input",function(){return r.CHM(e),r.oxw().clear()}),r.qZA(),r.TgZ(5,"p",13),r._uU(6,"\xbfNo tiene una cuenta? "),r.TgZ(7,"a",14),r._uU(8,"Crear una."),r.qZA(),r.qZA(),r.TgZ(9,"a",15),r._uU(10,"\xbfNo puede acceder a su cuenta?"),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().next()}),r._uU(13,"Siguiente"),r.qZA(),r.TgZ(14,"button",18),r._uU(15,"Atr\xe1s"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.Q6J("ngIf",e.alert)}}function HI(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",20),r.TgZ(2,"img",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().back()}),r.qZA(),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"h4"),r._uU(6,"Escribir contrase\xf1a"),r.qZA(),r._UZ(7,"input",25),r.TgZ(8,"a",23),r.TgZ(9,"p",24),r._uU(10,"He olvidado mi contrase\xf1a"),r.qZA(),r.qZA(),r.TgZ(11,"div",16),r.TgZ(12,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().login()}),r._uU(13,"Siguiente"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(4),r.Oqu(e.correo)}}let $I=(()=>{class e{constructor(e,t,n){this.formBuilder=e,this.service=t,this.router=n,this.page1=!0,this.page2=!1,this.alert=!1,this.correo=""}ngOnInit(){var e;this.formLogin=this.formBuilder.group({email:new pt("",Ne.compose([Ne.email,Ne.required])),password:new pt("",Ne.required)}),this.correo=null===(e=this.formLogin.get("email"))||void 0===e?void 0:e.value}last(){this.page1=!0,this.page2=!1}next(){var e,t;(null===(e=this.formLogin.get("email"))||void 0===e?void 0:e.valid)?(this.correo=null===(t=this.formLogin.get("email"))||void 0===t?void 0:t.value,this.page1=!1,this.page2=!0):this.alert=!0}back(){this.page1=!0,this.page2=!1}clear(){this.alert=!1}login(){var e,t,n;const r={email:null===(e=this.formLogin)||void 0===e?void 0:e.value.email,password:null===(t=this.formLogin)||void 0===t?void 0:t.value.password};(null===(n=this.formLogin)||void 0===n?void 0:n.valid)?this.service.saveLogin(r).then(()=>{this.formLogin.reset(),this.router.navigateByUrl("success")}):alert("Favor de llenar todos los campos")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(At),r.Y36(OI),r.Y36(hs))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-login"]],decls:33,vars:15,consts:[[1,"p-2","xsm-img","container-fluid"],["src","https://aadcdn.msftauth.net/shared/1.0/content/images/microsoft_logo_ee5c8d9fb6248c938fd0dc19370e90bd.svg","alt","",1,"my-4",2,"width","108px","height","24px","margin-bottom","12px"],["action","formLogin",3,"formGroup"],[4,"ngIf"],[1,"sm-img"],[1,"m-0","d-flex","vh-100","row","justify-content-center","align-items-center"],[1,"card","col-auto","p-5","my-4","corral"],["src","https://aadcdn.msftauth.net/shared/1.0/content/images/microsoft_logo_ee5c8d9fb6248c938fd0dc19370e90bd.svg","alt","",2,"width","108px","height","24px","margin-bottom","12px"],[1,"md-img"],[1,"lg-img"],[1,"xlg-img"],["class","text-sm-left text-danger",4,"ngIf"],["formControlName","email","type","text","placeholder","Escriba su correo electr\xf3nico, tel\xe9fono o Skype.",3,"input"],[1,"mt-2"],["routerLink","login",1,"href"],["routerLink","/login","routerLinkActive","router-link-active",1,"href"],[1,"d-flex","flex-row-reverse","my-4"],[1,"btnSig",3,"click"],["routerLink","office",1,"btnAtras"],[1,"text-sm-left","text-danger"],[1,"d-flex","flex-row","flex-wrap"],["src","https://aadcdn.msftauth.net/shared/1.0/content/images/arrow_left_a9cc2824ef3517b6c4160dcf8ff7d410.svg","alt","",1,"iconoBack",3,"click"],["formControlName","password","type","password","placeholder","Contrase\xf1a"],["routerLink","login","routerLinkActive","router-link-active",1,"mt-4"],[1,"mt-3"],["formControlName","password","type","text","placeholder","Contrase\xf1a"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"img",1),r.TgZ(2,"form",2),r.YNc(3,RI,16,1,"div",3),r.YNc(4,PI,14,1,"div",3),r.qZA(),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"div",5),r.TgZ(7,"div",6),r._UZ(8,"img",7),r.TgZ(9,"form",2),r.YNc(10,LI,16,1,"div",3),r.YNc(11,MI,14,1,"div",3),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(12,"div",8),r.TgZ(13,"div",5),r.TgZ(14,"div",6),r._UZ(15,"img",7),r.TgZ(16,"form",2),r.YNc(17,UI,16,1,"div",3),r.YNc(18,FI,14,1,"div",3),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",9),r.TgZ(20,"div",5),r.TgZ(21,"div",6),r._UZ(22,"img",7),r.TgZ(23,"form",2),r.YNc(24,VI,16,1,"div",3),r.YNc(25,jI,14,1,"div",3),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(26,"div",10),r.TgZ(27,"div",5),r.TgZ(28,"div",6),r._UZ(29,"img",7),r.TgZ(30,"form",2),r.YNc(31,BI,16,1,"div",3),r.YNc(32,HI,14,1,"div",3),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("formGroup",t.formLogin),r.xp6(1),r.Q6J("ngIf",t.page1),r.xp6(1),r.Q6J("ngIf",t.page2),r.xp6(5),r.Q6J("formGroup",t.formLogin),r.xp6(1),r.Q6J("ngIf",t.page1),r.xp6(1),r.Q6J("ngIf",t.page2),r.xp6(5),r.Q6J("formGroup",t.formLogin),r.xp6(1),r.Q6J("ngIf",t.page1),r.xp6(1),r.Q6J("ngIf",t.page2),r.xp6(5),r.Q6J("formGroup",t.formLogin),r.xp6(1),r.Q6J("ngIf",t.page1),r.xp6(1),r.Q6J("ngIf",t.page2),r.xp6(5),r.Q6J("formGroup",t.formLogin),r.xp6(1),r.Q6J("ngIf",t.page1),r.xp6(1),r.Q6J("ngIf",t.page2))},directives:[yt,Qe,_t,k,Se,We,It,fs,gs,ds],styles:["h4[_ngcontent-%COMP%]{color:#1b1b1b;font-size:1.2rem;font-weight:600;line-height:1.75rem}input[_ngcontent-%COMP%]{border-style:solid;height:36px;outline:none;background-color:initial;border-width:0 0 1px;padding:6px 10px 6px 0;width:100%}input[_ngcontent-%COMP%]:hover{border-color:#000c}.btnAtras[_ngcontent-%COMP%]{border:none;margin-right:6px}.btnAtras[_ngcontent-%COMP%], .btnSig[_ngcontent-%COMP%]{padding:4px 12px;max-width:100%;text-align:center;white-space:nowrap;overflow:hidden;vertical-align:middle;text-overflow:ellipsis;touch-action:manipulation;color:#000;min-height:32px}.btnSig[_ngcontent-%COMP%]{color:#fff;border:#0067b8;background-color:#0067b8}.iconoBack[_ngcontent-%COMP%]{margin-top:-18px}.iconoBack[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{cursor:pointer}a[_ngcontent-%COMP%]{color:#0067b8}.corral[_ngcontent-%COMP%]{margin:0 auto;width:460px;position:relative}"]}),e})();const GI=function(){return["/login"]};let KI=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-office"]],decls:330,vars:10,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-white"],["href","#",1,"navbar-brand","mt-0"],["src","https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RE1Mu3b?ver=5c31","width","108","height","23","alt",""],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","mt-1","font-weight-normal"],["routerLink","/login","routerLinkActive","",1,"nav-link"],[1,"nav-item"],["routerLink","/login",1,"nav-link","mt-1","font-weight-normal"],["routerLink","/login",1,"mr-auto","text-dark","mt-1","xsm-img","sm-img","md-img"],["routerLink","/login",1,"mr-auto","text-dark","mt-1","lg-img","xlg-img"],[1,"container","xsm-img"],[1,"row"],[1,"col-sm","text-center","mt-5"],[1,"mt-5","mb-3"],[1,"button-login",3,"routerLink"],["routerLink","/login",1,"button-get"],[1,"mb-4"],[1,"suscribe"],[1,"container","sm-img"],[1,"suscribe","font-weight-bold"],[1,"container","md-img"],[1,"col","lg","lg-img"],[1,"py-lg-5","mx-lg-5"],[1,"row","py-lg-5","mt-lg-5"],[1,"col","col-lg-4","text-white"],[1,"text-white"],[1,"mt-2","mb-4"],[1,"my-3"],[1,"negrita"],[1,"col","lg","xlg-img"],[1,"py-1","mx-5"],[1,"row","py-5","mt-5"],[1,"col","col-4","text-white","ml-5"],[1,"sm-img"],["src","https://res-1.cdn.office.net/officehub/images/content/images/hero-sm-5b496137f1.jpg","alt","",1,"img-fluid","my-4"],[1,"container-fluid","text-center"],[1,""],[1,"font-weight-light",2,"font-size","12px"],[1,"d-flex","flex-row","flex-wrap","justify-content-center","align-items-center","mt-5","mb-2","p-1"],[1,"align-self-center",2,"width","48px","height","48px","margin","0 28px 30px 0"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgWord.svg","alt","Word",2,"width","30px","height","30px"],[1,"imgs",2,"font-size","12px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgExcel.svg","alt","Word",2,"width","30px","height","30px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgPowerPoint.svg","alt","Word",2,"width","30px","height","30px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgNote.svg","alt","Word",2,"width","30px","height","30px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgOneDrive.svg","alt","Word",2,"width","30px","height","30px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgOutlook.svg","alt","Word",2,"width","30px","height","30px"],["src","https://res-1.cdn.office.net/officehub/images/content/images/app-store-icons/google-play/app-store_es-f5e7490db4.png","alt","",1,"img-fluid","text-center","mb-5",2,"width","135px","height","35px"],["src","https://res-1.cdn.office.net/officehub/images/content/images/office-apps-mobile-43aaa71a74.gif","alt","",1,"img-fluid","mt-5"],[1,"text-center","mt-5","p-2"],[1,"p-4",2,"font-size","20px","font-weight","bold","line-height","normal"],[1,"d-flex","flex-row","flex-wrap","justify-content-around","align-items-center","my-5","fondoApps"],[1,"align-self-center"],["src","https://res-1.cdn.office.net/officehub/images/content/images/facebook-refresh-090a700c0f.png","alt",""],["src","https://res-1.cdn.office.net/officehub/images/content/images/twitter-refresh-93ca1a80ff.png","alt",""],["src","https://res-1.cdn.office.net/officehub/images/content/images/linkedin-refresh-02734a460c.png","alt",""],[2,"font-size","20px","font-weight","bold","line-height","normal"],[1,"xsm-img"],[1,"d-flex","flex-row","flex-wrap","justify-content-center","align-items-center","mt-5","mb-3","p-1"],["src","https://res-1.cdn.office.net/officehub/images/content/images/app-store-icons/google-play/app-store_es-f5e7490db4.png","alt","",1,"img-fluid","mb-5",2,"width","135px","height","35px"],["src","https://res-1.cdn.office.net/officehub/images/content/images/office-apps-mobile-43aaa71a74.gif","alt","",1,"img-fluid","mt-4"],[1,"md-img"],["src","https://res-1.cdn.office.net/officehub/images/content/images/hero-md-9db2f4c3f2.jpg","alt","",1,"img-fluid","my-4"],[1,"",2,"font-size","24px"],[1,"col","text-center","lg-img"],[1,"my-5"],[1,"d-flex","flex-row","flex-wrap","justify-content-center","align-items-center","my-5","p-1"],[1,"align-self-center",2,"width","100px","height","100px","margin","0 28px 30px 0"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgWord.svg","alt","Word",2,"width","60px","height","60px"],[1,"imgs"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgExcel.svg","alt","Word",2,"width","60px","height","60px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgPowerPoint.svg","alt","Word",2,"width","60px","height","60px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgNote.svg","alt","Word",2,"width","60px","height","60px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgOneDrive.svg","alt","Word",2,"width","60px","height","60px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgOutlook.svg","alt","Word",2,"width","60px","height","60px"],["src","https://raw.githubusercontent.com/DevAlian10/office365/b67f3a0af2b73a2d054a4ecd98d0f5bd18a0b6c5/src/assets/imgTeams.svg","alt","Word",2,"width","60px","height","60px"],["src","https://res-1.cdn.office.net/officehub/images/content/images/office-apps-347d86a528.gif","alt","",1,"my-5",2,"width","100%"],[1,"col","text-center","xlg-img"]],template:function(e,t){1&e&&(r.TgZ(0,"nav",0),r.TgZ(1,"a",1),r._UZ(2,"img",2),r.qZA(),r.TgZ(3,"button",3),r._UZ(4,"span",4),r.qZA(),r.TgZ(5,"div",5),r.TgZ(6,"ul",6),r.TgZ(7,"li",7),r.TgZ(8,"a",8),r._uU(9," Office "),r.qZA(),r.qZA(),r.TgZ(10,"li",9),r.TgZ(11,"a",10),r._uU(12,"Productos"),r.qZA(),r.qZA(),r.TgZ(13,"li",9),r.TgZ(14,"a",10),r._uU(15,"Recursos"),r.qZA(),r.qZA(),r.TgZ(16,"li",9),r.TgZ(17,"a",10),r._uU(18,"M\xe1s"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"a",11),r._uU(20,"Iniciar sesi\xf3n"),r.qZA(),r.qZA(),r.TgZ(21,"a",12),r._uU(22,"Iniciar sesi\xf3n"),r.qZA(),r.qZA(),r.TgZ(23,"div",13),r.TgZ(24,"div",14),r.TgZ(25,"div",15),r.TgZ(26,"h1"),r._uU(27,"Le damos la bienvenida a Office"),r.qZA(),r.TgZ(28,"p"),r._uU(29,"Su lugar para crear, comunicarse, colaborar y realizar un trabajo excelente."),r.qZA(),r.TgZ(30,"div",16),r.TgZ(31,"button",17),r._uU(32,"Iniciar sesi\xf3n"),r.qZA(),r.TgZ(33,"button",18),r._uU(34,"Obtener Office"),r.qZA(),r.qZA(),r.TgZ(35,"div",19),r.TgZ(36,"p",20),r._uU(37,"Suscr\xedbete a la versi\xf3n gratuita de Office >"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(38,"div",21),r.TgZ(39,"div",14),r.TgZ(40,"div",15),r.TgZ(41,"h1"),r._uU(42,"Le damos la bienvenida a Office"),r.qZA(),r.TgZ(43,"p"),r._uU(44,"Su lugar para crear, comunicarse, colaborar y realizar un trabajo excelente."),r.qZA(),r.TgZ(45,"div",16),r.TgZ(46,"button",17),r._uU(47,"Iniciar sesi\xf3n"),r.qZA(),r.TgZ(48,"button",18),r._uU(49,"Obtener Office"),r.qZA(),r.qZA(),r.TgZ(50,"div",19),r.TgZ(51,"p",22),r._uU(52,"Suscr\xedbete a la versi\xf3n gratuita de Office >"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(53,"div",23),r.TgZ(54,"div",14),r.TgZ(55,"div",15),r.TgZ(56,"h1"),r._uU(57,"Le damos la bienvenida a Office"),r.qZA(),r.TgZ(58,"p"),r._uU(59,"Su lugar para crear, comunicarse, colaborar y realizar un trabajo excelente."),r.qZA(),r.TgZ(60,"div",16),r.TgZ(61,"button",17),r._uU(62,"Iniciar sesi\xf3n"),r.qZA(),r.TgZ(63,"button",18),r._uU(64,"Obtener Office"),r.qZA(),r.qZA(),r.TgZ(65,"div",19),r.TgZ(66,"p",22),r._uU(67,"Suscr\xedbete a la versi\xf3n gratuita de Office >"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(68,"div",24),r.TgZ(69,"div",25),r.TgZ(70,"div",26),r.TgZ(71,"div",27),r.TgZ(72,"h1",28),r._uU(73,"Le damos la bienvenida a Office"),r.qZA(),r.TgZ(74,"p",28),r._uU(75,"Su lugar para crear, comunicarse, colaborar y realizar un trabajo excelente."),r.qZA(),r.TgZ(76,"div",29),r.TgZ(77,"button",17),r._uU(78,"Iniciar sesi\xf3n"),r.qZA(),r.TgZ(79,"button",18),r._uU(80,"Obtener Office"),r.qZA(),r.qZA(),r.TgZ(81,"div",30),r.TgZ(82,"span"),r.TgZ(83,"strong",31),r._uU(84,"Suscr\xedbete a la versi\xf3n gratuita de Office >"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(85,"div",32),r.TgZ(86,"div",33),r.TgZ(87,"div",34),r.TgZ(88,"div",35),r.TgZ(89,"h1",28),r._uU(90,"Le damos la bienvenida a Office"),r.qZA(),r.TgZ(91,"p",28),r._uU(92,"Su lugar para crear, comunicarse, colaborar y realizar un trabajo excelente."),r.qZA(),r.TgZ(93,"div",29),r.TgZ(94,"button",17),r._uU(95,"Iniciar sesi\xf3n"),r.qZA(),r.TgZ(96,"button",18),r._uU(97,"Obtener Office"),r.qZA(),r._UZ(98,"br"),r.TgZ(99,"span"),r.TgZ(100,"strong",31),r._uU(101,"Suscr\xedbete a la versi\xf3n gratuita de Office >"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(102,"div",36),r._UZ(103,"img",37),r.TgZ(104,"div",38),r.TgZ(105,"h4",39),r._uU(106,"Office para Android\u2122"),r.qZA(),r.TgZ(107,"p",40),r._uU(108,"Obtenga las aplicaciones Word, Excel, PowerPoint, Outlook y OneNote dise\xf1adas para su Android\u2122."),r.qZA(),r.TgZ(109,"div",41),r.TgZ(110,"div",42),r._UZ(111,"img",43),r.TgZ(112,"p",44),r._uU(113,"Word"),r.qZA(),r.qZA(),r.TgZ(114,"div",42),r._UZ(115,"img",45),r.TgZ(116,"p",44),r._uU(117,"Excel"),r.qZA(),r.qZA(),r.TgZ(118,"div",42),r._UZ(119,"img",46),r.TgZ(120,"p",44),r._uU(121,"PowerPoint"),r.qZA(),r.qZA(),r.TgZ(122,"div",42),r._UZ(123,"img",47),r.TgZ(124,"p",44),r._uU(125,"OneNote"),r.qZA(),r.qZA(),r.TgZ(126,"div",42),r._UZ(127,"img",48),r.TgZ(128,"p",44),r._uU(129,"OneDrive"),r.qZA(),r.qZA(),r.TgZ(130,"div",42),r._UZ(131,"img",49),r.TgZ(132,"p",44),r._uU(133,"Outlook"),r.qZA(),r.qZA(),r.qZA(),r._UZ(134,"img",50),r._UZ(135,"img",51),r.qZA(),r.TgZ(136,"div",52),r.TgZ(137,"h2",53),r._uU(138,"Consigue aplicaciones premium de Office con Microsoft 365"),r.qZA(),r.TgZ(139,"div",54),r.TgZ(140,"div",55),r._UZ(141,"img",56),r.qZA(),r.TgZ(142,"div",55),r._UZ(143,"img",57),r.qZA(),r.TgZ(144,"div",55),r._UZ(145,"img",58),r.qZA(),r.qZA(),r.TgZ(146,"h4",59),r._uU(147,"\xa9 Microsoft 2021"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(148,"div",60),r._UZ(149,"img",37),r.TgZ(150,"div",38),r.TgZ(151,"h4",39),r._uU(152,"Office para Android\u2122"),r.qZA(),r.TgZ(153,"p",40),r._uU(154,"Obtenga las aplicaciones Word, Excel, PowerPoint, Outlook y OneNote dise\xf1adas para su Android\u2122."),r.qZA(),r.TgZ(155,"div",61),r.TgZ(156,"div",42),r._UZ(157,"img",43),r.TgZ(158,"p",44),r._uU(159,"Word"),r.qZA(),r.qZA(),r.TgZ(160,"div",42),r._UZ(161,"img",45),r.TgZ(162,"p",44),r._uU(163,"Excel"),r.qZA(),r.qZA(),r.TgZ(164,"div",42),r._UZ(165,"img",46),r.TgZ(166,"p",44),r._uU(167,"PowerPoint"),r.qZA(),r.qZA(),r.TgZ(168,"div",42),r._UZ(169,"img",47),r.TgZ(170,"p",44),r._uU(171,"OneNote"),r.qZA(),r.qZA(),r.TgZ(172,"div",42),r._UZ(173,"img",48),r.TgZ(174,"p",44),r._uU(175,"OneDrive"),r.qZA(),r.qZA(),r.TgZ(176,"div",42),r._UZ(177,"img",49),r.TgZ(178,"p",44),r._uU(179,"Outlook"),r.qZA(),r.qZA(),r.qZA(),r._UZ(180,"img",62),r._UZ(181,"img",63),r.qZA(),r.TgZ(182,"div",52),r.TgZ(183,"h2",53),r._uU(184,"Consigue aplicaciones premium de Office con Microsoft 365"),r.qZA(),r.TgZ(185,"div",54),r.TgZ(186,"div",55),r._UZ(187,"img",56),r.qZA(),r.TgZ(188,"div",55),r._UZ(189,"img",57),r.qZA(),r.TgZ(190,"div",55),r._UZ(191,"img",58),r.qZA(),r.qZA(),r.TgZ(192,"h4",59),r._uU(193,"\xa9 Microsoft 2021"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(194,"div",64),r._UZ(195,"img",65),r.TgZ(196,"div",38),r.TgZ(197,"h4",66),r._uU(198,"Office para Android\u2122"),r.qZA(),r.TgZ(199,"p",40),r._uU(200,"Obtenga las aplicaciones Word, Excel, PowerPoint, Outlook y OneNote dise\xf1adas para su Android\u2122."),r.qZA(),r.TgZ(201,"div",41),r.TgZ(202,"div",42),r._UZ(203,"img",43),r.TgZ(204,"p",44),r._uU(205,"Word"),r.qZA(),r.qZA(),r.TgZ(206,"div",42),r._UZ(207,"img",45),r.TgZ(208,"p",44),r._uU(209,"Excel"),r.qZA(),r.qZA(),r.TgZ(210,"div",42),r._UZ(211,"img",46),r.TgZ(212,"p",44),r._uU(213,"PowerPoint"),r.qZA(),r.qZA(),r.TgZ(214,"div",42),r._UZ(215,"img",47),r.TgZ(216,"p",44),r._uU(217,"OneNote"),r.qZA(),r.qZA(),r.TgZ(218,"div",42),r._UZ(219,"img",48),r.TgZ(220,"p",44),r._uU(221,"OneDrive"),r.qZA(),r.qZA(),r.TgZ(222,"div",42),r._UZ(223,"img",49),r.TgZ(224,"p",44),r._uU(225,"Outlook"),r.qZA(),r.qZA(),r.qZA(),r._UZ(226,"img",50),r._UZ(227,"img",51),r.qZA(),r.TgZ(228,"div",52),r.TgZ(229,"h2",53),r._uU(230,"Consigue aplicaciones premium de Office con Microsoft 365"),r.qZA(),r.TgZ(231,"div",54),r.TgZ(232,"div",55),r._UZ(233,"img",56),r.qZA(),r.TgZ(234,"div",55),r._UZ(235,"img",57),r.qZA(),r.TgZ(236,"div",55),r._UZ(237,"img",58),r.qZA(),r.qZA(),r.TgZ(238,"h4",59),r._uU(239,"\xa9 Microsoft 2021"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(240,"div",67),r.TgZ(241,"h2",68),r._uU(242,"Inicia sesi\xf3n para usar tus aplicaciones de productividad favoritas desde cualquier dispositivo"),r.qZA(),r.TgZ(243,"div",69),r.TgZ(244,"div",70),r._UZ(245,"img",71),r.TgZ(246,"p",72),r._uU(247,"Word"),r.qZA(),r.qZA(),r.TgZ(248,"div",70),r._UZ(249,"img",73),r.TgZ(250,"p",72),r._uU(251,"Excel"),r.qZA(),r.qZA(),r.TgZ(252,"div",70),r._UZ(253,"img",74),r.TgZ(254,"p",72),r._uU(255,"PowerPoint"),r.qZA(),r.qZA(),r.TgZ(256,"div",70),r._UZ(257,"img",75),r.TgZ(258,"p",72),r._uU(259,"OneNote"),r.qZA(),r.qZA(),r.TgZ(260,"div",70),r._UZ(261,"img",76),r.TgZ(262,"p",72),r._uU(263,"OneDrive"),r.qZA(),r.qZA(),r.TgZ(264,"div",70),r._UZ(265,"img",77),r.TgZ(266,"p",72),r._uU(267,"Outlook"),r.qZA(),r.qZA(),r.TgZ(268,"div",70),r._UZ(269,"img",78),r.TgZ(270,"p",72),r._uU(271,"Teams"),r.qZA(),r.qZA(),r.qZA(),r._UZ(272,"img",79),r.TgZ(273,"div",52),r.TgZ(274,"h2",39),r._uU(275,"Consigue aplicaciones premium de Office con Microsoft 365"),r.qZA(),r.TgZ(276,"div",54),r.TgZ(277,"div",55),r._UZ(278,"img",56),r.qZA(),r.TgZ(279,"div",55),r._UZ(280,"img",57),r.qZA(),r.TgZ(281,"div",55),r._UZ(282,"img",58),r.qZA(),r.qZA(),r.TgZ(283,"h4"),r._uU(284,"\xa9 Microsoft 2021"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(285,"div",80),r.TgZ(286,"h2",68),r._uU(287,"Inicia sesi\xf3n para usar tus aplicaciones de productividad favoritas desde cualquier dispositivo"),r.qZA(),r.TgZ(288,"div",69),r.TgZ(289,"div",70),r._UZ(290,"img",71),r.TgZ(291,"p",72),r._uU(292,"Word"),r.qZA(),r.qZA(),r.TgZ(293,"div",70),r._UZ(294,"img",73),r.TgZ(295,"p",72),r._uU(296,"Excel"),r.qZA(),r.qZA(),r.TgZ(297,"div",70),r._UZ(298,"img",74),r.TgZ(299,"p",72),r._uU(300,"PowerPoint"),r.qZA(),r.qZA(),r.TgZ(301,"div",70),r._UZ(302,"img",75),r.TgZ(303,"p",72),r._uU(304,"OneNote"),r.qZA(),r.qZA(),r.TgZ(305,"div",70),r._UZ(306,"img",76),r.TgZ(307,"p",72),r._uU(308,"OneDrive"),r.qZA(),r.qZA(),r.TgZ(309,"div",70),r._UZ(310,"img",77),r.TgZ(311,"p",72),r._uU(312,"Outlook"),r.qZA(),r.qZA(),r.TgZ(313,"div",70),r._UZ(314,"img",78),r.TgZ(315,"p",72),r._uU(316,"Teams"),r.qZA(),r.qZA(),r.qZA(),r._UZ(317,"img",79),r.TgZ(318,"div",52),r.TgZ(319,"h2",39),r._uU(320,"Consigue aplicaciones premium de Office con Microsoft 365"),r.qZA(),r.TgZ(321,"div",54),r.TgZ(322,"div",55),r._UZ(323,"img",56),r.qZA(),r.TgZ(324,"div",55),r._UZ(325,"img",57),r.qZA(),r.TgZ(326,"div",55),r._UZ(327,"img",58),r.qZA(),r.qZA(),r.TgZ(328,"h4"),r._uU(329,"\xa9 Microsoft 2021"),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(31),r.Q6J("routerLink",r.DdM(5,GI)),r.xp6(15),r.Q6J("routerLink",r.DdM(6,GI)),r.xp6(15),r.Q6J("routerLink",r.DdM(7,GI)),r.xp6(16),r.Q6J("routerLink",r.DdM(8,GI)),r.xp6(17),r.Q6J("routerLink",r.DdM(9,GI)))},directives:[fs,gs,ds],styles:[""]}),e})();const WI=[{path:"",component:KI,pathMatch:"full"},{path:"office",component:KI},{path:"login",component:$I},{path:"success",component:Ls},{path:"**",redirectTo:"office"}];let QI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[As.forRoot(WI)],As]}),e})(),YI=(()=>{class e{constructor(){this.title="office365"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:[ms],styles:[""]}),e})(),JI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[YI]}),e.\u0275inj=r.cJS({providers:[],imports:[[he,QI,St,de.hO.initializeApp(fe)]]}),e})();(0,r.G48)(),ce().bootstrapModule(JI).catch(e=>console.error(e))},9517:(e,t,n)=>{"use strict";n.d(t,{ZT:()=>i,mG:()=>s,Jh:()=>o,XA:()=>a,CR:()=>u,ev:()=>c,qq:()=>l,FC:()=>h,KL:()=>d});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{u(r.next(e))}catch(t){s(t)}}function a(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}function o(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function l(e){return this instanceof l?(this.v=e,this):new l(e)}function h(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof l?Promise.resolve(n.value.v).then(u,c):h(s[0][2],n)}catch(r){h(s[0][3],r)}var n}function u(e){a("next",e)}function c(e){a("throw",e)}function h(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function d(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=a(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,u,"next",e)}function u(e){r(o,i,s,a,u,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})},4762:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{u(r.next(e))}catch(t){s(t)}}function a(e){try{u(r.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}u((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}n.d(t,{_T:()=>r,mG:()=>i,Jh:()=>s,XA:()=>o,CR:()=>a,ev:()=>u})}},e=>{"use strict";e(e.s=2541)}]);